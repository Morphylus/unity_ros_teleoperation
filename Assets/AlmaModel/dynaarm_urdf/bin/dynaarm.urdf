<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from urdf/dynaarm.urdf.xacro        | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="dynaarm">
  <!-- load controller -->
  <gazebo>
    <plugin filename="libdynaarm_gazebo.so" name="gazebo_ros_control">
      <robotNamespace>dynaarm</robotNamespace>
      <robotDescription>dynaarm_description</robotDescription>
      <robotBaseLink>dynaarm_base</robotBaseLink>
      <statePublisherRate>400.0</statePublisherRate>
    </plugin>
  </gazebo>
  <!-- create world link and link it to the dynaarm base -->
  <link name="world"/>
  <joint name="joint_base" type="fixed">
    <parent link="world"/>
    <child link="dynaarm_base"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="dynaarm_base">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/0_base_mesh.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.04"/>
      <geometry>
        <!--<mesh filename="package://dynaarm_urdf/meshes/300_base_anymal_mesh_col.dae"/>-->
        <cylinder length="0.08" radius="0.06"/>
      </geometry>
    </collision>
  </link>
  <!-- Fixed joint to add dummy inertia link -->
  <joint name="dynaarm_base_to_dynaarm_base_inertia" type="fixed">
    <parent link="dynaarm_base"/>
    <child link="dynaarm_base_inertia"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <!-- Dummy inertia link, because KDL cannot have inertia on the base link -->
  <link name="dynaarm_base_inertia">
    <inertial>
      <mass value="1.53"/>
      <origin rpy="0 0 0" xyz="2.6302342999999998e-05 -0.000226836219 -0.03053573033"/>
      <inertia ixx="0.0018534" ixy="-4.535e-06" ixz="9.01e-07" iyy="0.0018514" iyz="5.559454625e-06" izz="0.0022344699999999997"/>
    </inertial>
  </link>
  <link name="dynaarm_SHOULDER">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/100_shoulder_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.24" radius="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="2.644"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 -0.0017336"/>
      <inertia ixx="0.010301209999999998" ixy="-5.0849999999999996e-05" ixz="0.0" iyy="0.0030164999999999997" iyz="0.0" izz="0.01009904"/>
    </inertial>
  </link>
  <link name="dynaarm_UPPERARM">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/200_upperarm_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="1.57 0 1.57" xyz="0.25 0 0"/>
      <geometry>
        <cylinder length="0.4" radius="0.05"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.394"/>
      <origin rpy="0 0 0" xyz="0.21109 2.2e-05 -0.000317"/>
      <inertia ixx="0.00116179" ixy="-7.2e-07" ixz="-0.00014044999999999997" iyy="0.046092126" iyz="7e-09" izz="0.04627953"/>
    </inertial>
  </link>
  <link name="dynaarm_ELBOW">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/300_elbow_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.57 0" xyz="0.185 -0.0935 0"/>
      <geometry>
        <cylinder length="0.46" radius="0.047"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.1"/>
      <origin rpy="0 0 0" xyz="0.0068 -0.0848 -0.0006"/>
      <inertia ixx="0.0013843" ixy="-4.16e-05" ixz="8.5e-06" iyy="0.0007168" iyz="-1.05e-05" izz="0.0011300999999999998"/>
    </inertial>
  </link>
  <joint name="SH_ROT" type="revolute">
    <parent link="dynaarm_base"/>
    <child link="dynaarm_SHOULDER"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-3.641592653589793" upper="3.641592653589793" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="0 0 0" xyz="0 0 0.06"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <joint name="SH_FLE" type="revolute">
    <parent link="dynaarm_SHOULDER"/>
    <child link="dynaarm_UPPERARM"/>
    <axis xyz="0 0 -1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-1.9707963267948965" upper="1.9707963267948965" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="1.5707963267948966 -1.5707963267948966 0" xyz="0 0 0.0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <joint name="EL_FLE" type="revolute">
    <parent link="dynaarm_UPPERARM"/>
    <child link="dynaarm_ELBOW"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-3.141592653589793" upper="3.141592653589793" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="3.141592653589793 0 0" xyz="0.412 0 0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <link name="dynaarm_FOREARM">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/400_forearm_4tube_longer_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.154"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.133"/>
      <inertia ixx="0.0018499999999999999" ixy="0.0" ixz="0.0" iyy="0.001849" iyz="0.0" izz="0.00011499999999999999"/>
    </inertial>
  </link>
  <!--Add Realsense-->
  <joint name="FA_ROT" type="revolute">
    <parent link="dynaarm_ELBOW"/>
    <child link="dynaarm_FOREARM"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-3.141592653589793" upper="3.141592653589793" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0.0325 -0.092 0"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <link name="dynaarm_FOREARM_wrist1">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/406_forearm_4tube_wrist1_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.05"/>
      <origin rpy="0 0 0" xyz="0.0 -0.0284 0.0223"/>
      <inertia ixx="3.2e-05" ixy="0.0" ixz="0.0" iyy="3.2999999999999996e-05" iyz="-5.4e-06" izz="1.7e-05"/>
    </inertial>
  </link>
  <joint name="FA_ROT_wrist1" type="fixed">
    <parent link="dynaarm_FOREARM"/>
    <child link="dynaarm_FOREARM_wrist1"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.35"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="dynaarm_WRIST_1">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/500_wrist1_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0.045 0 0.03"/>
      <geometry>
        <cylinder length="0.18" radius="0.055"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="1.79"/>
      <origin rpy="0 0 0" xyz="0.047 0.0 0.029"/>
      <inertia ixx="0.0016719999999999999" ixy="0.0" ixz="0.00012969999999999998" iyy="0.004985" iyz="-3.7e-06" izz="0.005209999999999999"/>
    </inertial>
  </link>
  <link name="dynaarm_WRIST_2">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/600_wrist2_plate_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0064"/>
      <inertia ixx="7.4e-06" ixy="0.0" ixz="0.0" iyy="7.4e-06" iyz="0.0" izz="1.4199999999999998e-05"/>
    </inertial>
  </link>
  <joint name="WRIST_1" type="revolute">
    <parent link="dynaarm_FOREARM_wrist1"/>
    <child link="dynaarm_WRIST_1"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="0 -1.5707963267948966 -1.5707963267948966" xyz="0.0 -0.03 0.055"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <joint name="WRIST_2" type="revolute">
    <parent link="dynaarm_WRIST_1"/>
    <child link="dynaarm_WRIST_2"/>
    <axis xyz="0 0 1"/>
    <limit command_effort="40" current="10" effort="40" gear_velocity="17" lower="-3.141592653589793" upper="3.141592653589793" velocity="17"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <origin rpy="0 1.5707963267948966 0" xyz="0.12 0.0 0.03"/>
    <dynamics damping="0.3" friction="0.0"/>
  </joint>
  <link name="ftSensor_interfacePlate">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/404_forearm_4tube_ftsPlate_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.003"/>
      <inertia ixx="9.999999999999999e-06" ixy="0.0" ixz="0.0" iyy="9.999999999999999e-06" iyz="0.0" izz="1.9999999999999998e-05"/>
    </inertial>
  </link>
  <joint name="ftSensor_interfacePlate" type="fixed">
    <parent link="dynaarm_WRIST_2"/>
    <child link="ftSensor_interfacePlate"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="ftSensor_interfacePlate2">
    <visual>
      <geometry>
        <mesh filename="package://dynaarm_urdf/meshes/404_forearm_4tube_ftsPlate_mesh.dae" scale="1.0 1.0 1.0"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.003"/>
      <inertia ixx="9.999999999999999e-06" ixy="0.0" ixz="0.0" iyy="9.999999999999999e-06" iyz="0.0" izz="1.9999999999999998e-05"/>
    </inertial>
  </link>
  <joint name="ftSensor_interfacePlate2" type="fixed">
    <parent link="ftSensor_interfacePlate"/>
    <child link="ftSensor_interfacePlate2"/>
    <origin rpy="0 0 0" xyz="0 0 0.006"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="realsense_base">
    <!-- used in the elbow joint to attach to the mimic joint and and to the elbow joint -->
    <visual>
      <origin rpy="0 0 0" xyz="-0.0005 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <mass value="1e-6"/>
      <inertia ixx="1e-6" ixy="0.0" ixz="0.0" iyy="1e-6" iyz="0.0" izz="1e-6"/>
    </inertial>
  </link>
  <gazebo reference="realsense_base">
    <kp>10000.0</kp>
    <kd>10.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <joint name="gripper_base_joint" type="fixed">
    <parent link="ftSensor_interfacePlate2"/>
    <child link="realsense_base"/>
    <origin rpy="0 0 -1.5707963267948966" xyz="0 0 0.006"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="gripper_base">
    <!-- used in the elbow joint to attach to the mimic joint and and to the elbow joint -->
    <visual>
      <origin rpy="0 0 0" xyz="-0.0005 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <mass value="1e-6"/>
      <inertia ixx="1e-6" ixy="0.0" ixz="0.0" iyy="1e-6" iyz="0.0" izz="1e-6"/>
    </inertial>
  </link>
  <gazebo reference="gripper_base">
    <kp>10000.0</kp>
    <kd>10.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <joint name="WRIST_2_realsense_base" type="fixed">
    <parent link="realsense_base"/>
    <child link="gripper_base"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <link name="dynaarm_END_EFFECTOR">
    <!-- used in the elbow joint to attach to the mimic joint and and to the elbow joint -->
    <visual>
      <origin rpy="0 0 0" xyz="-0.0005 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <mass value="1e-6"/>
      <inertia ixx="1e-6" ixy="0.0" ixz="0.0" iyy="1e-6" iyz="0.0" izz="1e-6"/>
    </inertial>
  </link>
  <gazebo reference="dynaarm_END_EFFECTOR">
    <kp>10000.0</kp>
    <kd>10.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
  <joint name="ee_fix_joint" type="fixed">
    <parent link="gripper_base"/>
    <child link="dynaarm_END_EFFECTOR"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <limit effort="2000" lower="0" upper="0" velocity="0"/>
    <!-- limit effort also defines torque limit and freeze controller gains -->
    <dynamics damping="0.0" friction="0.0"/>
  </joint>
  <gazebo reference="dynaarm_END_EFFECTOR">
    <kp>10000.0</kp>
    <kd>10.0</kd>
    <mu1>0.8</mu1>
    <mu2>0.8</mu2>
  </gazebo>
</robot>

