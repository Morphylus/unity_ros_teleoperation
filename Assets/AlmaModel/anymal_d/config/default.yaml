add_noise_to_description:
  description_name: anymal_description
  simulation_description_name: anymal_simulation_description
  seed: 0
  all_links:
    - parameter: "inertial.mass"
      noise_factor: 0.05
  specific_links:
    - name: "base_inertia"
      parameter: "inertial.origin.xyz"
      offset: [0.0, 0.0, 0.0]
    - name: "bottom_shell"
      parameter: "inertial.origin.xyz"
      noise_factor: 0.05
      offset: [0.0, 0.0, 0.0]
  specific_joints:
    - name: "imu_joint"
      parameter: "origin.rpy"
      offset: [0.0, 0.0, 0.0]
ce_features:
  enable_flag_estop: true
collision_filter:
  global_queue_spinner_threads: 2
  footprint:
    -
      x: 0.2
      y: 0.0
      radius: 0.3
    -
      x: 0.0
      y: 0.0
      radius: 0.3
    -
      x: -0.2
      y: 0.0
      radius: 0.3
  map_publish_frequency: 1.0
  mode_on_startup: stop_and_go
  slowdown_prediction_horizon: 1.0
  slowdown_poses: 5
  slowdown_velocity_maximum_magnitude: 0.2
  slowdown_footprint_scaling: 1.3
  stop_prediction_distance: 0.2
  stop_poses: 1
  obstacle_layer: obstacle
  obstacle_map_max_age: 2.0
  prediction_max_transform_age: 0.05
  elevation_map_lidar_obstacle_pipeline:
    publish_output_on_update: false
    ground_frame: footprint
    point_cloud_source:
      topic: /point_cloud_filter/lidar/point_cloud_filtered_with_normals
    grid_map_source:
      topic: /elevation_mapping/elevation_map_raw
      layer: elevation
    grid_map_height_mask:
      input_layer: elevation
      output_layer: height_mask
      height_threshold: 0.1
      ground_frame: footprint
    grid_map_update_time_mask:
      input_layer: dynamic_time
      output_layer: age_mask
      age_limit: 4.0
    grid_map_dilation:
      input_layer: age_mask
      output_layer: age_mask
    point_cloud_into_grid_map:
      layer: point_cloud
    threshold_obstacle_detector:
      input_layer: point_cloud
      output_layer: threshold_obstacle
      threshold: 0.2
    elevation_map_gradient_edge_detector:
      input_layer: elevation
      output_layer: gradient_obstacle
      threshold: 0.002
    height_mask_filter:
      input_layer: gradient_obstacle
      mask_layer: height_mask
      output_layer: gradient_obstacle
    update_time_mask_filter:
      input_layer: gradient_obstacle
      mask_layer: age_mask
      output_layer: gradient_obstacle
    merge:
      left_operand_layer: threshold_obstacle
      right_operand_layer: gradient_obstacle
      output_layer: obstacle
  servers:
    switch_collision_filter_mode:
      service: switch_mode
  supported_motion_states:
    - walk
    - blind_walk
    - perceptive_walk
motion_control_manager:
  controller:
    simulation: false
  available_controllers:
    controllers:
      dynamic_gaits:
        emergency_controller: emergency_hybrid_freeze
        name: dynamic_gaits
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control/dynamic_gaits_ros
        plugin_name: anymal_ctrl_dynamic_gaits_ros::DynamicGaitsControllerRos
      fall_recovery:
        emergency_controller: emergency_freeze
        name: fall_recovery
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control/fall_recovery
        plugin_name: anymal_ctrl_fall_recovery_ros::FallRecoveryControllerRos
      free_gait:
        emergency_controller: emergency_hybrid_freeze
        name: free_gait
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control/free_gait
        plugin_name: anymal_ctrl_free_gait::FreeGaitImpedanceRos
      freeze:
        emergency_controller: emergency_freeze
        name: freeze
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control
        plugin_name: anymal_ctrl_freeze::AnymalCtrlFreeze
      joint_configurations:
        emergency_controller: emergency_freeze
        name: joint_configurations
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control
        plugin_name: anymal_ctrl_joint_configurations_ros::JointConfigurationsControllerRos
      optimus_planner:
        emergency_controller: emergency_hybrid_freeze
        name: optimus_planner
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control/optimus_planner
        plugin_name: anymal_ctrl_optimus_planner_ros::OptimusPlannerRos
      trekker:
        emergency_controller: emergency_hybrid_freeze
        name: trekker
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control/trekker
        plugin_name: anymal_ctrl_learned_gaits_ros::LearnedGaitsControllerRos
    emergency_controllers:
      freeze_controller:
        name: emergency_freeze
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control
        plugin_name: anymal_ctrl_freeze::AnymalEmergencyCtrlFreeze
      hybrid_freeze_controller:
        name: emergency_hybrid_freeze
        parameter_package: anymal_d
        parameter_path: config/non_ros/motion_control
        plugin_name: anymal_ctrl_freeze::AnymalEmergencyCtrlHybridFreeze
    failproof_controller:
      name: failproof_freeze
      parameter_package: anymal_d
      parameter_path: config/non_ros/motion_control
      plugin_name: anymal_ctrl_freeze::AnymalFailproofCtrlFreeze
  description_name: anymal_description
  logger:
    config_file: motion_control_manager_logger.yaml
    enable: true
    logfile_type: binary
    sampling_window: 180
    type: ros
    update_on_start: true
  motion_transitioner:
    debug_mode: false
    initial_motion_state: _lie_down
    motion_states:
      _fallen:
        direct_transit_state: ""
      _lie_down:
        direct_transit_state: ""
      _manual_mode:
        direct_transit_state: ""
      _mixed_configuration:
        direct_transit_state: ""
      _preempted:
        direct_transit_state: _recovery
      _recovery:
        direct_transit_state: ""
      _stand_while_crawling:
        direct_transit_state: ""
      _walk_to_pose:
        direct_transit_state: ""
      crawl:
        direct_transit_state: ""
      rest:
        direct_transit_state: ""
      run:
        direct_transit_state: ""
      square_up:
        direct_transit_state: ""
      stair_climbing:
        direct_transit_state: ""
      stand:
        direct_transit_state: ""
      torso_control:
        direct_transit_state: ""
      walk:
        direct_transit_state: ""
    transitions:
      crawl:
        connections:
          square_up: 2.0
          _stand_while_crawling: 1.0
          _walk_to_pose: 3.5
        motion:
          motion_controller: optimus_planner
          operation_mode: crawl
          reference_type: twist
        preempt_state: _preempted
        target_state: crawl
      fall_recovery_fall_to_recovery:
        connections:
          _fallen: 1.0
        motion:
          motion_controller: fall_recovery
          operation_mode: recovery
          reference_type: action
        preempt_state: _fallen
        target_state: _recovery
      freeze:
        connections:
          square_up: 1.0
          torso_control: 1.0
          crawl: 1.0
          run: 1.0
          stair_climbing: 1.0
          walk: 2.0
          _manual_mode: 1.0
          _walk_to_pose: 1.0
        motion:
          motion_controller: freeze
          operation_mode: freeze
          reference_type: pose
        preempt_state: _preempted
        target_state: stand
      go_rest:
        connections:
          _lie_down: 3.0
        motion:
          motion_controller: joint_configurations
          operation_mode: rest
          reference_type: action
        preempt_state: _lie_down
        target_state: rest
      lie_down:
        connections:
          stand: 3.0
        motion:
          motion_controller: free_gait
          operation_mode: lie_down
          reference_type: action
        preempt_state: _preempted
        target_state: _lie_down
      oo_to_xx:
        connections:
          _mixed_configuration: 5.0 # < 10, to prefer XX over OO config from a mixed config.
        motion:
          motion_controller: free_gait
          operation_mode: switch_oo_to_xx_leg_config
          reference_type: action
        preempt_state: _preempted
        target_state: square_up
      run:
        connections:
          square_up: 2.5
          stair_climbing: 1.0
          stand: 2.0
          walk: 1.0
        motion:
          motion_controller: trekker
          operation_mode: run
          reference_type: twist
        preempt_state: _preempted
        target_state: run
      square_up:
        connections:
          stand: 1.0
          torso_control: 1.0
          crawl: 0.45
          _stand_while_crawling: 1.0
          walk: 2.0
          _walk_to_pose: 1.0
          _recovery: 1.0
        motion:
          motion_controller: free_gait
          operation_mode: square_up
          reference_type: action
        preempt_state: _preempted
        target_state: square_up
      stair_climbing:
        connections:
          run: 1.0
          square_up: 2.5
          stand: 2.0
          walk: 1.0
        motion:
          motion_controller: trekker
          operation_mode: stair_climbing
          reference_type: twist
        preempt_state: _preempted
        target_state: stair_climbing
      stand_up:
        connections:
          rest: 5.0
        motion:
          motion_controller: free_gait
          operation_mode: stand_up
          reference_type: action
        preempt_state: _preempted
        target_state: stand
      torso_control:
        connections:
          square_up: 1.0
          stand: 1.0
          walk: 2.0
        motion:
          motion_controller: dynamic_gaits
          operation_mode: stand
          reference_type: pose
        preempt_state: _preempted
        target_state: torso_control
      walk:
        connections:
          run: 1.0
          square_up: 2.5
          stair_climbing: 1.0
          stand: 2.0
          torso_control: 2.0
          _walk_to_pose: 3.0
        motion:
          motion_controller: trekker
          operation_mode: walk
          reference_type: twist
        preempt_state: _preempted
        target_state: walk
      walk_to_pose:
        connections:
          square_up: 1.0
          stand: 1.0
          torso_control: 1.0
          walk: 2.0
          crawl: 3.0
        motion:
          motion_controller: optimus_planner
          operation_mode: walk
          reference_type: twist
        preempt_state: _preempted
        target_state: _walk_to_pose
  automatic_motion_state_deduction:
    trigger_states:
      - _recovery
      - _fallen
      - stand
  publishers:
    active_motion:
      latch: true
      queue_size: 1
      topic: active_motion
    actuator_commands:
      latch: false
      queue_size: 10
      topic: actuator_commands
    available_motion_states:
      latch: true
      queue_size: 1
      topic: available_motion_states
    available_motions:
      latch: true
      queue_size: 1
      topic: available_motions
    current_motion_parameters:
      latch: true
      queue_size: 1
      topic: current_motion_parameters
    current_motion_state:
      latch: true
      queue_size: 1
      topic: current_motion_state
    notify_active_controller:
      latch: true
      queue_size: 1
      topic: notify_active_controller
    notify_available_controllers:
      latch: true
      queue_size: 1
      topic: notify_available_controllers
    notify_control_unit_state:
      latch: true
      queue_size: 1
      topic: notify_control_unit_state
  servers:
    clear_protective_stop:
      persistent: false
      service: clear_protective_stop # This interface is used in a PoC. Please contact Remo if you need to change it.
    set_current_motion_parameters:
      persistent: false
      service: set_current_motion_parameters
    protective_stop:
      persistent: false
      service: protective_stop # This interface is used in a PoC. Please contact Remo if you need to change it.
    execute_motion:
      action: execute_motion
    failproof_stop:
      persistent: false
      service: failproof_stop
    force_motion_execution:
      action: force_motion_execution
    go_to_motion_state:
      action: go_to_motion_state
    set_current_motion_state:
      persistent: false
      service: set_current_motion_state
    switch_controller:
      persistent: false
      service: switch_controller
  smart_init:
    max_angle_wrt_gravity: 0.785398       # Max angle (in rad) allowed between base -Z and gravity.
    lie_down_foot_pos_z_limit: -0.15      # Foot Z position in base frame must be >= this limit.
    lie_down_max_violations: 2            # Number of feet allowed to violate the constraints.
    recovery_min_number_contacts: 3       # Number of contacts required to deduce 'recovery' state.
    stand_min_base_height: 0.35           # Number of contacts required to deduce 'stand' state.
    stand_min_number_contacts: 4          # Number of contacts required to deduce 'stand' state.
    crawl_min_base_height: 0.20           # Minimal base height (footprint->base) to deduce 'stand_while_crawling' state.
  subscribers:
    actuator_readings:
      latch: false
      queue_size: 10
      topic: /state_estimator/actuator_readings
    anymal_state:
      latch: false
      queue_size: 10
      topic: /state_estimator/anymal_state
    command_pose:
      latch: false
      queue_size: 10
      topic: /motion_reference/command_pose
    command_twist:
      latch: false
      queue_size: 10
      topic: /motion_reference/command_twist
    imu:
      latch: false
      queue_size: 10
      topic: /state_estimator/imu
    localization:
      latch: false
      queue_size: 1
      topic: /localization_manager/map_in_odom
  sync_name: anymal_controller_sync
  time_step: 0.0025
  wait_for_sync_timeout_ms: 80
  watchdog:
    enabled: false
    timeout_ms: 80
anymal_low_level_controller:
  actuator_command_timeout: 0.1
  ignore_pdb_pin_state: false
  activation_attempt_timeout: 15.0
  anydrive_setup:
    anydrives:
      LF_HAA:
        communication:
          address: 7
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -0.1
            dock:
              name: dock
              value: 0.0
            rest:
              name: rest
              value: -0.05
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 0
      LF_HFE:
        communication:
          address: 8
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 0.7
            dock:
              name: dock
              value: 1.0
            rest:
              name: rest
              value: 1.57
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 1
      LF_KFE:
        communication:
          address: 9
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          fan:
            lower_temperature: 40.0
            mode: 1
            upper_temperature: 60.0
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -1.0
            dock:
              name: dock
              value: -1.6
            rest:
              name: rest
              value: -2.75
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.4
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 2
      LH_HAA:
        communication:
          address: 2
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -0.1
            dock:
              name: dock
              value: 0.0
            rest:
              name: rest
              value: -0.05
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 6
      LH_HFE:
        communication:
          address: 3
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -0.7
            dock:
              name: dock
              value: -1.0
            rest:
              name: rest
              value: -1.57
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 7
      LH_KFE:
        communication:
          address: 4
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          fan:
            lower_temperature: 40.0
            mode: 1
            upper_temperature: 60.0
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 1.0
            dock:
              name: dock
              value: 1.6
            rest:
              name: rest
              value: 2.75
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 8
      RF_HAA:
        communication:
          address: 11
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: 1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 0.1
            dock:
              name: dock
              value: 0.0
            rest:
              name: rest
              value: 0.05
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 3
      RF_HFE:
        communication:
          address: 12
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 0.7
            dock:
              name: dock
              value: 1.0
            rest:
              name: rest
              value: 1.57
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 4
      RF_KFE:
        communication:
          address: 13
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          fan:
            lower_temperature: 40.0
            mode: 1
            upper_temperature: 60.0
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -1.0
            dock:
              name: dock
              value: -1.6
            rest:
              name: rest
              value: -2.75
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 5
      RH_HAA:
        communication:
          address: 14
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 0.1
            dock:
              name: dock
              value: 0.0
            rest:
              name: rest
              value: 0.05
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 9
      RH_HFE:
        communication:
          address: 15
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: -0.7
            dock:
              name: dock
              value: -1.0
            rest:
              name: rest
              value: -1.57
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 10
      RH_KFE:
        communication:
          address: 16
          bus: enp6s0
          pdo_type: A
        configuration:
          auto_stage_last_command: true
          direction: -1
          error_state_behavior: 1
          fan:
            lower_temperature: 40.0
            mode: 1
            upper_temperature: 60.0
          gear_joint_velocity_filter:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 2
          goal_states:
            shutdown: NA
            startup: ControlOp
          joint_acceleration_filter:
            ema_alpha: 0.01
            kf_gamma: 0.05
            kf_lambda_2: 1000.0
            kf_noise_variance: 20.0
            type: 1
          joint_position_configurations:
            default:
              name: default
              value: 1.0
            dock:
              name: dock
              value: 1.6
            rest:
              name: rest
              value: 2.75
            zero:
              name: zero
              value: 0.0
          joint_position_limits:
            hard:
              max: 9.42
              min: -9.42
            sdk:
              max: 100.0
              min: -100.0
            soft:
              max: 9.42
              min: -9.42
          joint_velocity_filter_for_acceleration:
            ema_alpha: 0.1
            kf_gamma: 0.1
            kf_lambda_2: 1000.0
            kf_noise_variance: 0.005
            type: 1
          max_command_age: .inf
          max_current: 32.0
          max_freeze_current: 32.0
          max_joint_torque: 80.0
          max_motor_velocity: 680.7
          modes:
            current:
              gains:
                d: 0.0
                i: 0.176
                p: 0.27
              name: Current
            joint_position:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPosition
            joint_position_velocity:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocity
            joint_position_velocity_torque:
              gains:
                d: 0.4
                i: 0.2
                p: 200.0
              name: JointPositionVelocityTorque
            joint_torque:
              gains:
                d: 24.0
                i: 0.03
                p: 1.8
              name: JointTorque
          set_reading_to_nan_on_disconnect: false
        id: 11
    enable_connection_debugging: false
    joint_position_configuration_manager:
      max_joint_velocity: 0.2
  clients:
    protective_stop:
      persistent: false
      service: /motion_control_manager/protective_stop
  log_elec_phase_readings: false
  log_extended_readings: false
  logger:
    config_file: lowlevel_ctrl_logger.yaml
    logfile_type: binary
    sampling_window: 10.0
  output: screen
  publishers:
    current_active_state:
      latch: true
      queue_size: 1
      topic: current_active_state
    current_life_cycle_state:
      latch: true
      queue_size: 1
      topic: current_life_cycle_state
    actuator_readings:
      latch: false
      queue_size: 1
      topic: /anymal_low_level_controller/actuator_readings
    available_joint_position_configurations:
      latch: true
      queue_size: 1
      topic: available_joint_position_configurations
    battery_voltage:
      latch: true
      queue_size: 1
      topic: /sensors/battery_voltage
    create_worker: false
    dysfunction:
      latch: true
      queue_size: 1
      topic: /dysfunction/state
    joint_states:
      enable: false
      latch: false
      queue_size: 1
      topic: joint_states
    joint_states_throttled:
      decimation: 100
      enable: false
      latch: false
      queue_size: 1
      topic: joint_states_throttled
    reading:
      enable: false
      latch: false
      queue_size: 1
      topic: reading
    reading_extended_throttled:
      decimation: 100
      enable: false
      latch: false
      queue_size: 1
      topic: reading_extended_throttled
    readings:
      enable: false
      latch: false
      queue_size: 1
      topic: readings
    readings_extended_throttled:
      decimation: 20
      enable: true
      latch: false
      queue_size: 1
      topic: actuator_readings_extended_throttled
  ros_prefix: /anymal_low_level_controller
  run_publishers: true
  servers:
    achieve_joint_position_configuration:
      service: achieve_joint_position_configuration
    calibrate:
      service: calibrate
    erase_flash_storage:
      service: erase_flash_storage
    get_calibration_state:
      service: get_calibration_state
    get_control_gains:
      service: get_control_gains
    get_drive_info:
      service: get_drive_info
    get_error_state_behavior:
      service: get_error_state_behavior
    get_joint_position_limits_hard:
      service: get_joint_position_limits_hard
    get_joint_position_limits_sdk:
      service: get_joint_position_limits_sdk
    get_joint_position_limits_soft:
      service: get_joint_position_limits_soft
    get_max_communication_timeout:
      service: get_max_communication_timeout
    get_max_current:
      service: get_max_current
    get_max_motor_velocity:
      service: get_max_motor_velocity
    go_to_active_state:
      service: go_to_active_state
    go_to_life_cycle_state:
      service: go_to_life_cycle_state
    reset_custom_calibrations_to_factory:
      service: reset_custom_calibrations_to_factory
    reset_flash_storage_sections:
      service: reset_flash_storage_sections
    send_controlword:
      service: send_controlword
    send_sdo_read:
      service: send_sdo_read
    send_sdo_write:
      service: send_sdo_write
    set_control_gains:
      service: set_control_gains
    set_drive_info_bootloader_version:
      service: set_drive_info_bootloader_version
    set_drive_info_id:
      service: set_drive_info_id
    set_drive_info_name:
      service: set_drive_info_name
    set_drive_info_serial_number:
      service: set_drive_info_serial_number
    set_error_state_behavior:
      service: set_error_state_behavior
    set_goal_state:
      service: set_goal_state
    set_joint_position_limits_hard:
      service: set_joint_position_limits_hard
    set_joint_position_limits_sdk:
      service: set_joint_position_limits_sdk
    set_joint_position_limits_soft:
      service: set_joint_position_limits_soft
    set_max_communication_timeout:
      service: set_max_communication_timeout
    set_max_current:
      service: set_max_current
    set_max_motor_velocity:
      service: set_max_motor_velocity
    toggle_actuator_communication:
      service: toggle_actuator_communication
    write_configuration:
      service: write_configuration
    write_factory_calibration:
      service: write_factory_calibration
  setup_file: ""
  standalone: false
  subscribers:
    actuator_commands:
      latch: false
      queue_size: 10
      topic: /motion_control_manager/actuator_commands
    command:
      enable: true
      queue_size: 1
      topic: command
    commands:
      enable: true
      queue_size: 1
      topic: commands
    pdb_pin_state:
      queue_size: 1
      topic: /pdb/pin_state
    notify_control_unit_state:
      queue_size: 10
      topic: /monitor_control_manager/notify_control_unit_state
  time_step: 0.0025
anymal_state_monitor:
  anymal_state_monitor_node:
    components:
      - ANYDRIVE_LF_HAA
      - ANYDRIVE_LF_HFE
      - ANYDRIVE_LF_KFE
      - ANYDRIVE_RF_HAA
      - ANYDRIVE_RF_HFE
      - ANYDRIVE_RF_KFE
      - ANYDRIVE_LH_HAA
      - ANYDRIVE_LH_HFE
      - ANYDRIVE_LH_KFE
      - ANYDRIVE_RH_HAA
      - ANYDRIVE_RH_HFE
      - ANYDRIVE_RH_KFE
      - OPTOFORCE_LF_FOOT
      - OPTOFORCE_RF_FOOT
      - OPTOFORCE_LH_FOOT
      - OPTOFORCE_RH_FOOT
      - ESTIMATOR
      - LMC
      - LLC
      - IMU
    notification:
      notifiers:
        robot_visualizer:
          latch: false
          output_devices:
            - robot_visualizer
          queue_size: 200
          topic: /notification_robot_state
      output_devices:
        operator_screen:
          queue_size: 200
          topic: /notification
    services:
      clients:
        get_current_states:
          persistent: false
          service: /anymal_low_level_controller/get_device_states
      servers:
        get_robot_state:
          service: /anymal_state_monitor/get_robot_state
anymal_tf_publisher:
  anymal_tf_publisher:
    base_frame_id: base
    ignore_state: false
    odom_frame_id: odom
    publish_frequency: 100
    publishers:
      joint_state:
        latch: false
        queue_size: 10
        topic: joint_state
      pose:
        latch: false
        queue_size: 10
        topic: pose
    robot_description: anymal_description
    subscribers:
      anymal_state:
        latch: false
        queue_size: 10
        topic: /state_estimator/anymal_state
audio:
  play_audio:
    channels: 2
    depth: 16
    sampling_rate: 44100
    servers:
      enable_play_audio:
        service: /play_audio/enable
    start_enabled: false
    subscribers:
      audio:
        topic: /audio/audio_raw
behavior_engine_execute_mission_api: # Absolute names, as these parameters are read by different nodes.
  monitor: &behavior_engine_execute_mission_monitor
    subscribers:
      state_execution_events:
        queue_size: 10
        topic: /behavior_engine/execute_mission/mission_execution_events
      state_progressed_events:
        queue_size: 10
        topic: /behavior_engine/execute_mission/mission_progressed_events
  controller_gui: &behavior_engine_execute_mission_controller_gui
    <<: *behavior_engine_execute_mission_monitor
    clients:
      control_state_execution:
        action: /gui/behavior_engine/execute_mission/control_mission_execution
  controller_rcu: &behavior_engine_execute_mission_controller_rcu
    <<: *behavior_engine_execute_mission_monitor
    clients:
      control_state_execution:
        action: /rcu/behavior_engine/execute_mission/control_mission_execution
  controller_anymal_api: &behavior_engine_execute_mission_controller_anymal_api
    <<: *behavior_engine_execute_mission_monitor
    clients:
      control_state_execution:
        action: /gui/behavior_engine/execute_mission/control_mission_execution
  controller_user_interaction_mode_manager: &user_interaction_mode_manager_execute_mission_controller
    <<: *behavior_engine_execute_mission_monitor
    clients:
      control_state_execution:
        action: /behavior_engine/execute_mission/control_mission_execution
  server: &behavior_engine_execute_mission_server
    publishers:
      state_execution_events:
        queue_size: 10
        topic: /behavior_engine/execute_mission/mission_execution_events
      state_progressed_events:
        queue_size: 10
        topic: /behavior_engine/execute_mission/mission_progressed_events
    servers:
      control_state_execution:
        action: /behavior_engine/execute_mission/control_mission_execution
behavior_engine:
  execute_mission:
    <<: *behavior_engine_execute_mission_server
    mission_progress_publish_frequency: 2.0
  behavior_plugin: robot_behavior_plugins::RobotBehavior
  publishers:
    report_entry:
      latch: true
      queue_size: 20
      topic: /report_writer/report_entry
    status:
      latch: false
      queue_size: 3
      time_step: 0.1
      topic: status
chrony_monitor_npc:
  time_offset_error: 0.001
  time_offset_warn: 1.0e-04
  update_frequency: 1.0
chrony_monitor_opc:
  time_offset_error: 0.01
  time_offset_warn: 1.0e-03
  update_frequency: 1.0
control_lease_registry:
  timeout: 30.0
  timeout_check_timestep: 1.0
  publishers:
    registry_heaertbeat:
      topic: /control_lease/registry_heartbeat
      latch: false
      queue_size: 1
  subscribers:
    client_heartbeat:
      topic: /control_lease/client_heartbeat
      queue_size: 1
  servers:
    acquire_lease:
      service: /control_lease/acquire_lease
    release_lease:
      service: /control_lease/release_lease
  clients:
    relay_communication:
      service: /control_lease/relay_communication
      persistent: false
cpu_monitor:
  cpu_temperature_error: 100.0
  cpu_temperature_warn: 90.0
  cpu_usage_error: 0.95
  cpu_usage_warn: 0.8
  update_frequency: 1.0
disk_monitor:
  disk_usage_error: 0.99
  disk_usage_warn: 0.8
  update_frequency: 1.0
dodgeball:
  radius: 0.1
  target_link: base
  target_robot: anymal
  error_timeout: 10.0
dodgeball_description: ""
elevation_mapping:
  enable_visibility_cleanup: true
  fused_map_publishing_rate: 0.5
  increase_height_alpha: 0.0
  init_submap_height_offset: 0.01
  init_submap_variance: 0.001
  initialization_method: 0
  initialize_elevation_map: true
  input_sources:
    input_front_lower:
      enabled: true
      type: pointcloud
      topic: /depth_camera_front_lower/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: true
      sensor_processor: &realsense_processor
        ignore_points_above: .inf
        ignore_points_below: -.inf
        type: structured_light
        cutoff_min_depth: 0.1
        cutoff_max_depth: 1.5
        normal_factor_a: 0.001063
        normal_factor_b:  0.003949
        normal_factor_c: 0.0
        normal_factor_d: 0.0008278
        normal_factor_e: 1
        lateral_factor: 0.01576 # approx 1 deg
    input_front_upper:
      enabled: true
      type: pointcloud
      topic: /depth_camera_front_upper/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    input_left:
      enabled: true
      type: pointcloud
      topic: /depth_camera_left/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    input_rear_lower:
      enabled: true
      type: pointcloud
      topic: /depth_camera_rear_lower/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    input_rear_upper:
      enabled: true
      type: pointcloud
      topic: /depth_camera_rear_upper/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    input_right:
      enabled: true
      type: pointcloud
      topic: /depth_camera_right/point_cloud_self_filtered
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    hallucinated_input_front_lower: &hallucinated_points_input
      enabled: true
      type: pointcloud
      topic: /depth_camera_front_lower/hallucinated_points
      queue_size: 1
      publish_on_update: false
      sensor_processor: *realsense_processor
    hallucinated_input_front_upper:
      <<: *hallucinated_points_input
      topic: /depth_camera_front_upper/hallucinated_points
    hallucinated_input_left:
      <<: *hallucinated_points_input
      topic: /depth_camera_left/hallucinated_points
    hallucinated_input_rear_lower:
      <<: *hallucinated_points_input
      topic: /depth_camera_rear_lower/hallucinated_points
    hallucinated_input_rear_upper:
      <<: *hallucinated_points_input
      topic: /depth_camera_rear_upper/hallucinated_points
    hallucinated_input_right:
      <<: *hallucinated_points_input
      topic: /depth_camera_right/hallucinated_points
  length_in_x: 4.0
  length_in_x_init_submap: 1.0
  length_in_y: 4.0
  length_in_y_init_submap: 1.0
  mahalanobis_distance_threshold: 3.0
  map_frame_id: point_cloud_odom
  max_variance: 0.04          # 20 cm std_dev
  min_update_rate: 2.0        # Controls the minimum time between robot motion updates.
  min_variance: 0.0001        # 1 cm std_dev
  multi_height_noise: 0.00003 # Added to the variance whenever new points are outside of the mahalanobis distance for points that are older than scanning duration.
  num_callback_threads: 4
  position_x: 0.0
  position_y: 0.0
  postprocessor_num_threads: 2
  postprocessor_pipeline_name: postprocessor_pipeline
  postprocessor_pipeline:
    - name: delete_layers_1 # Deleted unnecessary layers before publishing to reduce bandwidth
      type: gridMapFilters/DeletionFilter
      params:
        layers:
          - color
          - horizontal_variance_x
          - horizontal_variance_xy
          - horizontal_variance_y
          - lowest_scan_point
          - sensor_x_at_lowest_scan
          - sensor_y_at_lowest_scan
          - sensor_z_at_lowest_scan
    - name: variance_threshold # Filter elevation layer by variance.
      type: gridMapFilters/ThresholdFilter
      params:
        condition_layer: variance
        output_layer: elevation
        upper_threshold: 0.0049 # alternative: lower_threshold
        set_to: .nan # # Other uses: .nan, .inf
    - &median_fill_filter_iteration_template
      name: median_fill_filter_iteration_1 # Median fill the elevation layer.
      type: gridMapFilters/MedianFillFilter
      params: &median_fill_filter_iteration_params_template
        input_layer: elevation
        output_layer: elevation
        fill_hole_radius: 0.05
        filter_existing_values: true
        existing_value_radius: 0.03
        fill_mask_layer: fill_mask
        debug: false
        debug_infill_mask_layer: intermediate_mask
        num_erode_dilation_iterations: 4
    - <<: *median_fill_filter_iteration_template
      name: median_fill_filter_iteration_2 # 2nd pass
      params:
        <<: *median_fill_filter_iteration_params_template
        fill_hole_radius: 0.03
        filter_existing_values: false
    - <<: *median_fill_filter_iteration_template
      name: median_fill_filter_iteration_3
      params:
        <<: *median_fill_filter_iteration_params_template
        fill_hole_radius: 0.03
        filter_existing_values: false
    - name: publish_status
      type: elevation_mapping_status/ElevationMappingStatus
      params:
        metrics: [ "filling_ratio", "mean_height", "min_height", "max_height" ]
        status_topic: "/elevation_mapping/status"
    - name: delete_layers_2 # Deleted unnecessary layers before publishing to reduce bandwidth
      type: gridMapFilters/DeletionFilter
      params:
        layers: [fill_mask, time, variance]
  resolution: 0.02
  robot_base_frame_id: base
  robot_motion_map_update:
    covariance_scale: 0.01
  robot_pose_cache_size: 1
  robot_pose_with_covariance_topic: ""  # Disable robot covariance updates.
  scanning_duration: 2.0      # parameter for multi height discard, a high value is better for discarding outliers outside of the mahalanobis distance.
  surface_normal_positive_axis: z
  target_frame_init_submap: /footprint
  time_offset_for_point_cloud: 0.0
  time_tolerance: 1.0
  track_point_frame_id: base
  track_point_x: 0.0
  track_point_y: 0.0
  track_point_z: 0.0
  visibility_cleanup_rate: 1.0
environment:
  location: Unspecified Site
  object_relations:
    []
  object_types:
    navigation_goal:
      interactions:
          - label: Go Here
            auto_control_required: true
            state_name:
              postfix: ""
              prefix: GoTo
            state_settings:
              parameter_name: navigation_goal
              parameter_type: NavigationGoal
            state_type: navigation_behavior_plugins::ReactiveNavigation
      name: navigation_goal
      visualization:
        color:
          blue: 0.078125
          green: 0.4296875
          red: 0.078125
        mesh: package://environment_visualizer/meshes/navigation_goals/via_point.dae
    navigation_zone:
      interactions:
        []
      name: navigation_zone
      visualization:
        color:
          blue: 0.078125
          green: 0.4296875
          red: 0.078125
        mesh: ""
  objects:
    []
environment_loader:
  environment_template: package://empty_data
  config_name: config.yaml
environment_visualizer:
  execute_mission:
    <<: *behavior_engine_execute_mission_controller_gui
  global_frame_id: map
  update_rate: 1.0
epson_driver:
  baudrate: 460800
  clients:
    reset_imu:
      topic: /pdb_driver/reset_imu
  external_trigger: true
  filter: 0
  frame_id: imu_link
  interface: /dev/epson_imu
  publishers:
    diag:
      latch: false
      queue_size: 1
      topic: /sensors/imu/diagnostics
    imu:
      latch: false
      queue_size: 1
      topic: /sensors/imu
    serial_timeout_ms: 100
free_gait:
  action_server: /anymal_ctrl_free_gait/execute_steps
  adapter_plugin:
    base: free_gait::AdapterAnymal
    preview: free_gait::AdapterAnymalPreview
  adapter_ros_interface_plugin: free_gait::AdapterRosInterfaceAnymal
  base_velocity:
    linear: 0.1
    angular: 0.2
  default_base_height: 0.515
  default_joint_angles:
    LF_LEG:
      O:
        - -0.1
        - 5.50
        - -4.32
      X:
        - -0.05
        - 0.8
        - -1.43
    LH_LEG:
      O:
        - -0.1
        - -5.50
        - 4.32
      X:
        - -0.05
        - -0.8
        - 1.43
    RF_LEG:
      O:
        - 0.1
        - 5.50
        - -4.32
      X:
        - 0.05
        - 0.8
        - -1.43
    RH_LEG:
      O:
        - 0.1
        - -5.50
        - 4.32
      X:
        - 0.05
        - -0.8
        - 1.43
  foot_offset_threshold: 0.04
  pause_execution_service: /anymal_ctrl_free_gait/pause_execution
  robot_description: /anymal_description
  robot_state_topic: /state_estimator/anymal_state
  stance_length: 0.64
  stance_width: 0.48
  stop_execution_service: /anymal_ctrl_free_gait/stop_execution
free_gait_action_loader:
  free_gait_action_packages:
    priority_10: anymal_basic_actions
    priority_30: stair_climbing_free_gait_ros
    priority_90: anymal_d_actions
  free_gait_action_paths:
    {}
gazebo:
  actuators:
    gains:
      haa:
        jointPositionDGain: 8.0
        jointPositionPGain: 500.0
        jointPositionVelocityTorqueDGain: 0.0
        jointPositionVelocityTorqueIGain: 0.0
        jointPositionVelocityTorquePGain: 30.0
      hfe:
        jointPositionDGain: 8.0
        jointPositionPGain: 500.0
        jointPositionVelocityTorqueDGain: 0.0
        jointPositionVelocityTorqueIGain: 0.0
        jointPositionVelocityTorquePGain: 30.0
      kfe:
        jointPositionDGain: 8.0
        jointPositionPGain: 500.0
        jointPositionVelocityTorqueDGain: 0.0
        jointPositionVelocityTorqueIGain: 0.0
        jointPositionVelocityTorquePGain: 30.0
  auto_disable_bodies: false
  cfm: 0.0
  command_line_options: --verbose -e ode
  contact_forces:
    linear_velocity_threshold: 0.6
  contact_max_correcting_vel: 100.0
  contact_surface_layer: 0.001
  enable_ros_network: true
  erp: 0.2
  frame:
    base:
      name: base
    feetcenter:
      name: feetcenter
    footprint:
      name: footprint
    odometry:
      name: odom
      offset:
        x: 0.0
        y: 0.0
        z: 0.0
    world:
      name: map
  gravity_x: 0.0
  gravity_y: 0.0
  gravity_z: -9.8
  joint_states:
    default_positions_rest:
      - -0.05
      - 1.57
      - -2.75
      - 0.05
      - 1.57
      - -2.75
      - -0.05
      - -1.57
      - 2.75
      - 0.05
      - -1.57
      - 2.75
    default_positions_xx:
      - -0.1
      - 0.7
      - -1.0
      - 0.1
      - 0.7
      - -1.0
      - -0.1
      - -0.7
      - 1.0
      - 0.1
      - -0.7
      - 1.0
    leg_config: xx
  max_contacts: 20
  max_step_size: 0.00125
  max_update_rate: 1000.0
  publish_groundtruth: false
  publishers:
    actuator_readings:
      latch: false
      queue_size: 10
      topic: /anymal_low_level_controller/actuator_readings
    actuator_readings_estimator:
      latch: false
      queue_size: 10
      topic: /state_estimator/actuator_readings
    actuator_readings_extended_throttled:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /anymal_low_level_controller/actuator_readings_extended_throttled
    anymal_state:
      latch: false
      max_frequency_rate: 0.1
      min_frequency_rate: 0.1
      queue_size: 10
      topic: /state_estimator/anymal_state
    anymal_state_groundtruth:
      latch: false
      max_frequency_rate: 0.1
      min_frequency_rate: 0.1
      queue_size: 10
      topic: /gazebo/anymal_state
    anymal_state_throttle:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /state_estimator/anymal_state_throttle
    contact_force_lf_foot:
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_lf_foot
    contact_force_lf_foot_estimator:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_lf_foot
    contact_force_lf_foot_throttled:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_lf_foot_throttle
    contact_force_lh_foot:
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_lh_foot
    contact_force_lh_foot_estimator:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_lh_foot
    contact_force_lh_foot_throttled:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_lh_foot_throttle
    contact_force_rf_foot:
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_rf_foot
    contact_force_rf_foot_estimator:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_rf_foot
    contact_force_rf_foot_throttled:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_rf_foot_throttle
    contact_force_rh_foot:
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_rh_foot
    contact_force_rh_foot_estimator:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_rh_foot
    contact_force_rh_foot_throttled:
      decimation: 20
      latch: false
      queue_size: 10
      topic: /sensors/contact_force_rh_foot_throttle
    joint_states:
      latch: false
      queue_size: 10
      topic: /state_estimator/joint_states
    localization:
      decimation: 200
      latch: false
      queue_size: 1
      topic: /slam/map_pose
    pose_in_odom:
      latch: false
      queue_size: 1
      topic: /state_estimator/pose_in_odom
    pose_in_odom_throttled:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/pose_in_odom_throttle
    twist:
      latch: false
      queue_size: 1
      topic: /state_estimator/twist
    twist_throttled:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/twist_throttle
  publishing_time_step: 0.0025
  real_time_update_rate: 800
  servers:
    set_robot_pose:
      service: set_robot_pose
    toggle_localizer:
      service: /localization_manager/toggle_localization
  simulate_estimator: false
  sor_pgs_iters: 50
  sor_pgs_precon_iters: 0
  sor_pgs_rms_error_tol: 0.0
  sor_pgs_w: 1.3
  subscribers:
    actuator_commands:
      latch: false
      queue_size: 10
      topic: /motion_control_manager/actuator_commands
  sync_name: anymal_sync
  time_step: 0.001
ghost_desired:
  ghost_desired_tf_publisher:
    base_frame_id: base
    ignore_state: true
    odom_frame_id: odom
    publish_frequency: 30
    publish_map_transforms: false
    publishers:
      joint_state:
        latch: false
        queue_size: 10
        topic: /ghost_desired/joint_states
      pose:
        latch: false
        queue_size: 10
        topic: /ghost_desired/pose
    robot_description: anymal_description
    subscribers:
      anymal_state:
        latch: false
        queue_size: 10
        topic: /ghost_desired/anymal_state
ghost_measured:
  ghost_measured_tf_publisher:
    base_frame_id: base
    ignore_state: true
    odom_frame_id: odom
    publish_frequency: 30
    publish_map_transforms: false
    publishers:
      joint_state:
        latch: false
        queue_size: 10
        topic: /ghost_measured/joint_states
      pose:
        latch: false
        queue_size: 10
        topic: /ghost_measured/pose
    robot_description: anymal_description
    subscribers:
      anymal_state:
        latch: false
        queue_size: 10
        topic: /ghost_measured/anymal_state
gui:
  battery:
    critical_state_of_charge: 0.1
    low_state_of_charge: 0.2
    subscriber:
      topic: /pdb/battery_state_ros
  callback_queues:
    default:
      max_time_step_factor_warning: 1000.0
      priority: 0
      time_step: 0.02
      worker_name: DefaultCallbackQueueWorker
    streaming:
      max_time_step_factor_warning: 1000.0
      priority: 0
      time_step: 0.05
      worker_name: StreamingCallbackQueueWorker
  clients:
    navigation:
      enable_global_replanning:
        persistent: false
        service: /gui/path_planning_and_following/global_replanning/enable
      reload_waypoints:
        persistent: false
        service: /gui/path_planning_and_following/global_waypoints_manager/reload_waypoints
      switch_default_local_planner:
        persistent: false
        service: /gui/path_planning_and_following/default_path_follower/switch
      switch_global_planner:
        persistent: false
        service: /gui/path_planning_and_following/path_planner/switch
      override_local_planner:
        persistent: false
        service: /gui/path_planning_and_following/path_follower/override
      switch_collision_filter_mode:
        persistent: false
        service: /gui/collision_filter/switch_mode
      switch_waypoints_recorder_local_planner:
        service: /waypoints_recording/switch_local_planner
        persistent: false
  communication:
    subscriber:
      topic: /monitor_network_state_op
  control_lease:
    debug_mode: false
    model: real
    timeout: 30.0
    watchdog_frequency: 1.0
    subscribers:
      registry_heartbeat: /control_lease/registry_heartbeat
    publishers:
      client_heartbeat: /control_lease/client_heartbeat
    clients:
      acquire_lease: /control_lease/acquire_lease
      release_lease: /control_lease/release_lease
  environment_manager:
    clients:
      create_environment:
        service: /gui/environment_loader/create_environment
      load_environment:
        service: /gui/environment_loader/load_environment
      set_default_environment:
        service: /gui/environment_loader/set_default_environment
    dialog_position:
      x: 0.0
      y: 0.3
    subscribers:
      available_environments:
        topic: /environment_loader/available_environments
      default_environment:
        topic: /environment_loader/default_environment
      loaded_environment:
        topic: /environment_loader/notify_load_environment
  execute_mission:
    <<: *behavior_engine_execute_mission_controller_gui
  navigation:
    collision_avoidance_modes:
      blind:
        path_follower:
          name: "strict_path_follower"
          mode: "blind"
        collision_filter:
          mode: "blind"
      stop_and_go:
        path_follower:
          name: "strict_path_follower"
          mode: "stop_and_go"
        collision_filter:
          mode: "stop_and_go"
      avoid_obstacles:
        path_follower:
          name: "smooth_path_follower"
          mode: "avoid_obstacles"
        collision_filter:
          mode: "stop_and_go"
    diagnostic_mode: false
    reconfigurable_planner_parameters:
      - stop_go_behavior_timeout
  operational_mode:
    dialog_position:
      x: 0.0
      y: 0.5
  publishers:
    navigation:
      cancel_navigate_to_goal:
        latch: false
        queue_size: 1
        topic: /gui/path_planning_and_following/navigate_to_goal/cancel
      cancel_plan_path:
        latch: false
        queue_size: 1
        topic: /gui/path_planning_and_following/plan_path/cancel
  robot_joypad:
    auto_reset_knob: false
    dialog_position:
      x: 0.0
      y: 1.0
    publishers:
      anyjoy:
        topic: /anyjoy/rqt
  rqt_rviz_widget:
    default_tool: Interact
    fixed_frame: map
    help: ""
    splash_screen: ""
  safety:
    protective_stop:
      clients:
        clear_protective_stop:
          service: /motion_control_manager/clear_protective_stop
        engage_protective_stop:
          service: /motion_control_manager/protective_stop
      subscribers:
        status:
          topic: /motion_control_manager/notify_control_unit_state
    emergency_stop:
      clients:
        set_emergency_stop:
          service: /pdb_driver/set_emergency_stop
      subscribers:
        status:
          topic: /pdb/emergency_stop
  sensors:
    recording_services_lpc: &recording_services_lpc
      record_video:
        service: /inspection_recording_manager_lpc/record_video
      capture_image:
        service: /inspection_recording_manager_lpc/capture_image
    recording_services_npc: &recording_services_npc
      record_video:
        service: /inspection_recording_manager_npc/record_video
      capture_image:
        service: /inspection_recording_manager_npc/capture_image
    wide_angle_camera_front:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Wide Angle Camera Front
      recording:
        services: *recording_services_npc
        audio_source: /audio/resampled/audio_raw
        image_source: /wide_angle_camera_front/image_color_rect
        video_encoding: ""
        video_fps: 20
        video_source: /wide_angle_camera_front/image_color_rect
      topic: /wide_angle_camera_front/image_color_small/image_raw
      transport_hint: compressed
      type: wac_front
    wide_angle_camera_rear:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.2
        y: 0.0
      label: Wide Angle Camera Rear
      recording:
        services: *recording_services_npc
        audio_source: /audio/resampled/audio_raw
        image_source: /wide_angle_camera_rear/image_color_rect
        video_encoding: ""
        video_fps: 20
        video_source: /wide_angle_camera_rear/image_color_rect
      topic: /wide_angle_camera_rear/image_color_small/image_raw
      transport_hint: compressed
      type: wac_rear
  stereo_cameras:
    has_double_front: true
    has_double_rear: true
    front_lower:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Front Lower
      recording:
        services: *recording_services_lpc
        audio_source: ""
        image_source: /depth_camera_front_lower/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_front_lower/infra1/image_rect_raw
      rotate_image_180_degrees: true
      topic: /depth_camera_front_lower/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
    front_upper:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Front Upper
      recording:
        services: *recording_services_lpc
        audio_source: ""
        image_source: /depth_camera_front_upper/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_front_upper/infra1/image_rect_raw
      rotate_image_180_degrees: true
      topic: /depth_camera_front_upper/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
    left:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Left
      recording:
        services: *recording_services_npc
        audio_source: ""
        image_source: /depth_camera_left/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_left/infra1/image_rect_raw
      topic: /depth_camera_left/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
    rear_lower:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Rear Lower
      recording:
        services: *recording_services_lpc
        audio_source: ""
        image_source: /depth_camera_rear_lower/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_rear_lower/infra1/image_rect_raw
      rotate_image_180_degrees: true
      topic: /depth_camera_rear_lower/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
    rear_upper:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Rear Upper
      recording:
        services: *recording_services_lpc
        audio_source: ""
        image_source: /depth_camera_rear_upper/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_rear_upper/infra1/image_rect_raw
      rotate_image_180_degrees: true
      topic: /depth_camera_rear_upper/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
    right:
      decorators:
        enable_recording: true
        enable_video_recording: true
      dialog_position:
        x: 0.0
        y: 0.0
      label: Stereo Camera Right
      recording:
        services: *recording_services_npc
        audio_source: ""
        image_source: /depth_camera_right/infra1/image_rect_raw
        video_encoding: ""
        video_fps: 5
        video_source: /depth_camera_right/infra1/image_rect_raw
      topic: /depth_camera_right/infra1/image_rect_raw
      transport_hint: compressed
      type: stereo_camera
  subscribers:
    navigation:
      active_collision_filter_mode:
        queue_size: 1
        topic: /collision_filter/active_mode
      active_default_local_planner:
        queue_size: 1
        topic: /path_planning_and_following/default_path_follower/active
      active_global_planner:
        queue_size: 1
        topic: /path_planning_and_following/path_planner/active
      active_local_planner:
        queue_size: 1
        topic: /path_planning_and_following/path_follower/active
      available_local_planner:
        queue_size: 1
        topic: /path_planning_and_following/path_follower/available
      available_global_planner:
        queue_size: 1
        topic: /path_planning_and_following/path_planner/available
      collision_reaction_status:
        queue_size: 1
        topic: /collision_reaction_status
      global_replanning_enabled:
        queue_size: 1
        topic: /path_planning_and_following/global_replanning/enabled
      navigate_to_goal_feedback:
        queue_size: 1
        topic: /path_planning_and_following/navigate_to_goal/feedback
      navigate_to_goal_result:
        queue_size: 1
        topic: /path_planning_and_following/navigate_to_goal/result
      plan_path_feedback:
        queue_size: 1
        topic: /path_planning_and_following/plan_path/feedback
      plan_path_result:
        queue_size: 1
        topic: /path_planning_and_following/plan_path/result
  toolbar_menu:
    plugins:
      navigation_pose_graph_editor:
        displays_to_toggle:
          - display:
              - Waypoints Editor
            toggle_state: true
          - display:
              - Mission
              - Path Preview
            toggle_state: false
          - display:
              - Path Planning and Following
              - Active Path
            toggle_state: false
          - display:
              - Path Planning and Following
              - Waypoints Graph
            toggle_state: false
        label: Waypoints Editor
        location: menu_applications
        name: PoseGraphEditor
        object_name: PoseGraphWidget
        order: 3
        rviz_tool: Waypoints
      rqt_report:
        dialog_position:
          x: 0.0
          y: 1.0
        is_dialog: true
        label: Report
        location: toolbar
        name: rqt_report/ReportPlugin
        object_name: Report
        order: 1
      rqt_state_machine_editor:
        label: Mission Editor
        location: menu_applications
        name: rqt_state_machine_editor/StateMachineEditorPlugin
        object_name: my_plugin
        order: 1
      rqt_environment_editor:
        label: Environment Editor
        location: menu_applications
        name: rqt_environment_editor/EnvironmentEditorPlugin
        object_name: rqt_environment_editor__EnvironmentEditorPluginWidget
        order: 2
      rqt_pharos_map_editor:
        displays_to_toggle:
          - display:
              - SLAM Maps Merger
            toggle_state: true
        label: SLAM Maps Merger
        location: menu_applications
        name: rqt_pharos_map_editor/MiniMapEditorPlugin
        object_name: MiniMapEditorWidget
        order: 4
      rqt_point_cloud_transformer:
        displays_to_toggle:
          - display:
              - SLAM Maps Transformer
            toggle_state: true
        label: SLAM Maps Transformer
        location: menu_applications
        name: rqt_point_cloud_transformer/PointCloudTransformerPlugin
        object_name: PointCloudTransformerPlugin
        order: 5
      rqt_anydrive_monitor:
        label: Actuators
        location: menu_advanced
        name: rqt_anydrive_monitor/AnydriveMonitorPlugin
        object_name: AnydriveMonitorPluginWidget
        order: 4
      rqt_anymal_lowlevel_controller:
        label: Low-Level Control
        location: menu_advanced
        name: rqt_anymal_lowlevel_controller/AnymalLowLevelControllerPlugin
        object_name: AnymalLowLevelControllerPluginWidget
        order: 3
        requires_control_lease: true
      rqt_motion_control:
        label: Motion Control
        location: menu_advanced
        name: rqt_motion_control/MotionControlPlugin
        object_name: MotionControlPlugin
        order: 1
        requires_control_lease: true
      rqt_anymal_state_visualizer:
        label: Advanced Robot Status
        location: menu_advanced
        name: AnymalStateVisualizerPlugin
        object_name: AnymalStateVisualizer
        order: 2
      rqt_pdb:
        label: Power System
        location: menu_advanced
        name: rqt_pdb/PdbPlugin
        object_name: PdbPluginWidget
        order: 5
      rqt_waypoints_recording:
        displays_to_toggle:
          - display:
              - Waypoints Recording
            toggle_state: true
          - display:
              - Mission
              - Path Preview
            toggle_state: false
          - display:
              - Path Planning and Following
              - Active Path
            toggle_state: false
          - display:
              - Path Planning and Following
              - Waypoints Graph
            toggle_state: false
        label: Waypoints Recording
        location: menu_applications
        name: rqt_waypoints_recording/WaypointsRecordingPlugin
        object_name: WaypointsRecordingPlugin
        order: 7
  user_interaction_mode:
    clients:
      switch_mode: /user_interaction_mode_manager/switch_mode
    subscribers:
      current_mode: /user_interaction_mode_manager/current_mode
  window:
    relative_height: 0.6
    relative_width: 0.6
inertial_parameter_estimation:
  update_inertial_parameters: false
inspection_recording_manager: &inspection_recording_manager
  publishers:
    report_entry:
      topic: /report_writer/report_entry
  servers:
    capture_image:
      service: capture_image
    record_audio:
      service: record_audio
    record_video:
      service: record_video
inspection_recording_manager_lpc: *inspection_recording_manager
inspection_recording_manager_npc: *inspection_recording_manager
interaction_marker:
  description: Interaction Marker
  execute_mission:
    <<: *behavior_engine_execute_mission_controller_gui
  global_frame_id: map
  initial_pose_fallback:
    position:
      x: 0.0
      y: 0.0
      z: 0.5
    orientation:
      w: 1.0
      x: 0.0
      y: 0.0
      z: 0.0
  initial_reset_timeout: 5.0
  marker_frame_id: base
  mesh_resource: package://anymal_d/urdf/marker.dae
  name: interaction_marker
  plugin_setup:
    plugins:
      12_publish_point_cloud:
        parameters:
          entry_text: Toggle publish point cloud
          point_cloud_publishing_service_client: "/slam_supervisor/publish_point_cloud_marker"
        type: interaction_marker_plugin_publish_point_cloud::InteractionMarkerPluginPublishPointCloud
      20_set_localization_initial_guess:
        parameters:
          auto_control_required: false
          entry_text: Set localization initial guess
          pose_frame_id: map
          publishers:
            pose:
              latch: false
              queue_size: 1
              topic: /gui/interaction_marker/localization_initial_guess
        type: interaction_marker_plugin_publish_pose::InteractionMarkerPluginPublishPose
      50_plan_path_to_here_straight_line:
        parameters:
          auto_control_required: false
          entry_text: Plan Path to Here (Straight Line)
          pose_frame_id: map
          actions:
            plan_path:
              topic: /path_planning_and_following/plan_path
              use_spin_thread: true
          navigation_goal:
            tolerance:
              rotation: 0.16
              translation: 0.1
          route_option: Straight Line
        type: interaction_marker_plugin_navigation_manager::InteractionMarkerPluginPlanPathToHere
      51_plan_path_to_here_along_waypoints:
        parameters:
          auto_control_required: false
          entry_text: Plan Path to Here (Along Waypoints)
          pose_frame_id: map
          actions:
            plan_path:
              topic: /path_planning_and_following/plan_path
              use_spin_thread: true
          navigation_goal:
            tolerance:
              rotation: 0.16
              translation: 0.1
          route_option: Along Waypoints
        type: interaction_marker_plugin_navigation_manager::InteractionMarkerPluginPlanPathToHere
      52_go_here_straight_line:
        parameters:
          auto_control_required: true
          entry_text: Go Here (Straight Line)
          environment_object_template:
            label: Goal
            name: InteractiveMarkerNavigationGoal
            pose:
              tolerance:
                rotation: 0.16
                translation: 0.1
            type: navigation_goal
          pose_frame_id: map
          publishers:
            user_defined_state:
              latch: false
              queue_size: 1
              topic: /gui/behavior_engine/execute_state/start_state
          state:
            name:
              postfix: StraightLine
              prefix: GoTo
            settings:
              - parameter_name: navigation_goal
                parameter_type: NavigationGoal
              - parameter_name: route_option
                parameter_type: RouteOption
                parameter_value: Straight Line
            type: navigation_behavior_plugins::ReactiveNavigation
        type: interaction_marker_plugin_mission::InteractionMarkerPluginMission
      53_go_here_along_waypoints:
        parameters:
          auto_control_required: true
          entry_text: Go Here (Along Waypoints)
          environment_object_template:
            label: Interactive Marker Navigation Goal
            name: InteractiveMarkerNavigationGoal
            pose:
              tolerance:
                rotation: 0.16
                translation: 0.1
            type: navigation_goal
          pose_frame_id: map
          state:
            name:
              postfix: AlongWaypoints
              prefix: GoTo
            settings:
              - parameter_name: navigation_goal
                parameter_type: NavigationGoal
              - parameter_name: route_option
                parameter_type: RouteOption
                parameter_value: Along Waypoints
            type: navigation_behavior_plugins::ReactiveNavigation
        type: interaction_marker_plugin_mission::InteractionMarkerPluginMission
joy_behavior:
  clients:
    switch_lowlevel_controller:
      service: /anymal_low_level_controller/go_to_active_state
      persistent: false
joy_manager:
  execute_mission:
    <<: *behavior_engine_execute_mission_controller_rcu
  joysticks:
    - name: operator
      priority: 1
      topic: /anyjoy/operator
  modules:
    - JoyAnymalLowlevelController
    - JoyStateEstimation
    - JoyPdb
    - JoyMission
    - JoyMotionControl
    - JoyBehavior
    - JoyOperationalModeManager
  notification:
    notifiers:
      default:
        latch: false
        output_devices:
          - onboard_screen
          - joystick_screen
          - operator_screen
        queue_size: 100
        topic: /notification
  outputs:
    - is_publishing: true
      name: joy_output
      topic: joy
      type: Joy
    - is_publishing: true
      name: twist_output
      topic: twist # This interface is used in a PoC. Please contact Remo if you need to change it.
      type: Twist
    - is_publishing: true
      name: pose_output
      topic: pose
      type: Pose
  pose_output:
    frame_id: base
    poseMax:
      orientation:
        w: 0.845
        x: 0.191
        y: 0.462
        z: 0.191
      position:
        x: 1.0
        y: 1.0
        z: 1.0
    poseMin:
      orientation:
        w: 0.733
        x: -0.462
        y: -0.191
        z: -0.462
      position:
        x: -1.0
        y: -1.0
        z: -1.0
    subscribers:
      pose_max:
        queue_size: 10
        topic: /commands/pose_max
      pose_min:
        queue_size: 10
        topic: /commands/pose_min
  standalone: true
  time_step: 0.1
  timeout: 0.5
  timer: 0.5
  twist_output:
    frame_id: base
    subscribers:
      twist_max:
        queue_size: 10
        topic: /commands/twist_max
      twist_min:
        queue_size: 10
        topic: /commands/twist_min
    twistMax:
      angular:
        x: 1.0
        y: 1.0
        z: 1.0
      linear:
        x: 1.0
        y: 1.0
        z: 1.0
    twistMin:
      angular:
        x: -1.0
        y: -1.0
        z: -1.0
      linear:
        x: -1.0
        y: -1.0
        z: -1.0
  worker_priority: 15
joy_motion_control:
  clients:
    execute_motion:
      action: /rcu/motion_control_manager/force_motion_execution
    go_to_motion_state:
      action: /rcu/motion_control_manager/go_to_motion_state
    switch_lowlevel_controller:
      service: /rcu/anymal_low_level_controller/go_to_active_state
      persistent: false
  motion_mapping:
    battery_swap: ""
    climb_stairs: stair_climbing
    crawl: crawl
    demo_1: ""
    demo_2: ""
    demo_3: ""
    demo_4: ""
    demo_5: ""
    motion_1: ""
    motion_2: ""
    motion_3: ""
    motion_4: ""
    motion_5: ""
    rest: rest
    run: run
    scan_environment: ""
    stand: stand
    torso_control: torso_control
    walk: walk
  subscribers:
    current_motion_parameters:
      topic: /motion_control_manager/current_motion_parameters
      queue_size: 10
kernel_monitor_lpc:
  driver_blacklist:
    - uvcvideo
kernel_monitor_npc:
  driver_blacklist:
    - uvcvideo
lidar_nodelet_cloud:
  calibration: ""
  frame_id: lidar
  fixed_frame: odom
  max_range: 130.0
  min_range: 0.4
  model: VLP16
  organize_cloud: true
  target_frame: lidar
  view_direction: 0.0
  view_width: 6.28318530718
lidar_nodelet_driver:
  cut_angle: 0.0
  device_ip: 192.168.1.201
  frame_id: lidar
  gps_time: true
  model: VLP16
  pcap: ""
  port: 2368
  read_fast: false
  read_once: false
  repeat_delay: 0.0
  rpm: 600.0
  time_offset: 0.0
  timestamp_first_packet: false
lidar_time_synchronizer:
  pulse_emitter:
    congatec_com:
      expected_delay_gpio_setup: 40.0
      gpo_port: 3
    type: "congatec_com"
  sockets:
    device_ip: 192.168.1.201
    listening:
      connection_type: 1
      port: 8308
    talking:
      connection_type: 1
      port: 10110
  time_synchronization:
    callback_period: 1.0
    lidar_internal_status_pub_rate: 140
    max_delay_to_sync: 1
    number_retries_initial_alignment: 3
    polling_enabled: true
    polling_publish_hz: 10
    pps_signal_duration: 100.0
    stats_window_size: 60
    status_polling_period: 0.0065
    syncing_enabled: true
load_anymal_description:
  custom_parameters:
    B_r_BBcom_x: -0.02148
    B_r_BBcom_y: 0.00173
    B_r_BBcom_z: -0.04417
    custom_payload_description: ""
    docking_socket: false
    enable_custom_payload: false
    enable_inspection_payload: false
    foot_version: "3_6_1"
    fix_base: false
    imu_roll: 180.0
    imu_pitch: 0.0
    imu_yaw: 180.0
    inspection_payload_version: P-PTU-VTAL-D
    m_B: 8.27629
    perfect_sensors: true
    depth_camera_front_lower_pitch: 60.0
    depth_camera_front_lower_roll: 0.0
    depth_camera_front_upper_pitch: 15.0
    depth_camera_front_upper_roll: 0.0
    depth_camera_left_pitch: 42.0
    depth_camera_left_roll: 0.0
    depth_camera_rear_lower_pitch: 60.0
    depth_camera_rear_lower_roll: 0.0
    depth_camera_rear_upper_pitch: 15.0
    depth_camera_rear_upper_roll: 0.0
    depth_camera_right_pitch: 42.0
    depth_camera_right_roll: 0.0
    simulate_depth_camera: false
    simulate_lidar: false
    simulate_thermal_camera: false
    simulate_wide_angle_camera: false
    simulate_zoom_camera: false
    simulation: false
    version: d010
  ros_parameter: anymal_description
load_dodgeball_description:
  custom_parameters:
    mass: 1.0
    radius: 0.1
  ros_parameter: dodgeball_description
  xacro_file: ""
localization_manager:
  broadcasting_time_step: 0.01
  frame_connectors:
    difference:
      enabled: false
      example_connector:
        ext_frame_id_in: example_ext_id_in
        ext_frame_id_out: example_ext_id_out
        input_msg_type: 0
        input_topic: /example_pose_topic
        pose_in_odom_buffer_size: 0.5
        remap_ext_frame_id: false
        tracked_frame_id_in_ext: example_tracking_id
      list:
        - example_connector
    external_transform_timeout: 5.0
    feedthrough:
      enabled: true
      list:
        - slam_connector
        - point_cloud_odometry_connector
      point_cloud_odometry_connector:
        broadcast_zero_init_tf: true
        ext_frame_id_in: point_cloud_odom
        ext_frame_id_out: point_cloud_odom
        input_msg_type: 0
        input_topic: /point_cloud_odometry/map_pose
        remap_ext_frame_id: false
      slam_connector:
        broadcast_zero_init_tf: false
        ext_frame_id_in: map
        ext_frame_id_out: map
        input_msg_type: 0
        input_topic: /slam/map_pose
        remap_ext_frame_id: false
    odom_frame_id: odom
    tf_lookup_timeout: 2.0
    tracked_frame_id_in_odom: base
  point_cloud_odometry:
    child_frame_id: point_cloud_odom
    max_rate: 100
    pose_topic: /point_cloud_odometry/map_pose
    publish_continuously: true
  pose_in_odom_topic: /state_estimator/pose_in_odom
  slam:
    child_frame_id: map
    max_rate: 100
    pose_topic: /slam/map_pose
    publish_continuously: true
memory_monitor:
  physical_memory_usage_error: 0.95
  physical_memory_usage_warn: 0.8
  update_frequency: 1.0
mission_folders: {}
monitor_network_llpc:
  simulation: false
  timeout: 5.0
  topic_publisher: /monitor_network_state/op
  topic_state: /monitor_network_state_llpc
  topic_subscriber: /monitor_network_state/llpc
monitor_network_op:
  simulation: false
  timeout: 5.0
  topic_publisher: /monitor_network_state/llpc
  topic_state: /monitor_network_state_op # This interface is used in a PoC. Please contact Remo if you need to change it.
  topic_subscriber: /monitor_network_state/op
motion_control_behavior_plugins:
  check_main_body_pose:
    main_body_frame_id: base
  check_or_supervise_protective_stop:
    topic: /motion_control_manager/notify_control_unit_state
  clear_protective_stop:
    service: /motion_control_manager/clear_protective_stop
    wait_for_server_timeout: 0.5
  motion_control_manager:
    go_to_motion_state:
      action: /motion_control_manager/go_to_motion_state
  move_main_body:
    motion_state: move_base
    safety_check:
      frame_id: footprint
      margin:
        rotation:
          angle: 0.5235987755982988
        translation:
          x: 0.1
          y: 0.1
          z_max: 0.6
          z_min: 0.2
    set_pose:
      service: /free_gait_action_loader/move_base/set_pose
  reset_main_body:
    motion_state: move_base
    set_pose:
      frame_id: footprint
      nominal_height: 0.5
      service: /free_gait_action_loader/move_base/set_pose
  walk_to_pose:
    motion_state: _walk_to_pose
    send_goal_pose_action: /locomotion_actions/goal_pose_action_server
navigation_behavior_plugins:
  frames:
    robot: base
    world: map
  navigate_to_goal:
    action: /path_planning_and_following/navigate_to_goal
  plan_path:
    action: /path_planning_and_following/plan_path
  plan_path_from_here:
    action: /path_planning_and_following/plan_path
  reactive_navigation:
    reset_inspection_payload_if_available: false
near_field_mapping_preset_selector:
  hooks:
    stair_climbing:
      stair_climbing_modes: "stair_climbing"
  presets:
    stair_climbing:
      depth_image_filters:
        execute_at_stage: 0
        parameters:
          - cameras: [ "front_lower"]
            parameters:
              max_depth_threshold_in_m: 0.60
              low_confidence_value: 0.0
              medium_confidence_value: 0.014
              high_confidence_value: 1.0
              confidence_value: 0.01
          - cameras: [ "front_upper" ]
            parameters:
              max_depth_threshold_in_m: 0.60
              low_confidence_value: 0.0
              medium_confidence_value: 0.014
              high_confidence_value: 1.0
              confidence_value: 0.01
          - cameras: [ "rear_lower" ]
            parameters:
              max_depth_threshold_in_m: 4.0
              low_confidence_value: 0.0
              medium_confidence_value: 0.03
              high_confidence_value: 1.0
              confidence_value: 0.03
          - cameras: [ "rear_upper" ]
            parameters:
              max_depth_threshold_in_m: 4.0
              low_confidence_value: 0.0
              medium_confidence_value: 0.03
              high_confidence_value: 1.0
              confidence_value: 0.03
      elevation_mapping:
        execute_at_stage: 0
        parameters:
          increase_height_alpha: 0.98
          max_variance: 0.04
          min_variance: 0.0009
          multi_height_noise: 0.00001
          input_sources:
            hallucinated_input_front_lower:
              enabled: false
            hallucinated_input_front_upper:
              enabled: false
            hallucinated_input_left:
              enabled: false
            hallucinated_input_rear_lower:
              enabled: true
            hallucinated_input_rear_upper:
              enabled: true
            hallucinated_input_right:
              enabled: false
          postprocessor_pipeline:
            - __list_item_key__: "name"
              __list_item_id__: "variance_threshold"
              params:
                upper_threshold: 0.0049
          scanning_duration: 0.1
      realsense_presets:
        execute_at_stage: 0
        parameters:
          - cameras: [ "front_lower", "front_upper", "rear_lower", "rear_upper" ]
            preset_json_file_path: package://anymal_realsense/config/stair_climbing_preset.json
      clear_elevation_mapping_client:
        execute_at_stage: 1
        clear_elevation_map_on_enable: true
        clear_elevation_map_on_disable: false
  clients:
    depth_image_filters:
      reconfigure_service_format_string: "/depth_camera_$camera/plane_detector/parameter_handler_ros"
    elevation_mapping:
      namespace: "/elevation_mapping"
    realsense_presets:
      reconfigure_service_format_string: "/depth_camera_$camera/loadJsonFile"
      default_json_path_format_string: "/depth_camera_$camera/driver/json_file_path"
    clear_elevation_mapping_client:
      time_delay_to_clear: 0.0 # in s
  services:
    change_preset_service_topic: "/near_field_mapping_preset_selector/change_preset"
param_logger:
  enabled: True
  logfile_path: "~/.ros/log/params"
  logfile_name: "param-log"
path_planning_and_following:
  action_clients:
    command_pose:
      server: ""
  global_replanning:
    enabled: false
    pose_graph: global_pose_graph_with_obstructions
    obstacle_map_pipeline: elevation_map_lidar_obstacle_pipeline
    collision_detector:
      edge_sampling_resolution: 0.1
      obstacle_threshold: 100.0
      obstacle_layer: obstacle
      min_edge_length: 0.05
      footprint_radius: 0.6
    collision_processor:
      blocked_edge_traversability: 0.0
      merge_collisions_distance_threshold: 0.15
    publishers:
      input_pose_graph:
        latch: true
        queue_size: 1
        topic: input_pose_graph
      enabled:
        latch: true
        queue_size: 1
        topic: enabled
      obstacle_map:
        latch: true
        queue_size: 1
        topic: obstacle_map
      output_pose_graph:
        latch: true
        queue_size: 1
        topic: output_pose_graph
    servers:
      enable:
        persistent: false
        service: enable
  recovery_behaviors:
    global_replanning:
      plugin: global_replanning_ros/GlobalReplanningRos
  smooth_path_follower:
    acc_lim_theta: 0.2
    acc_lim_theta_rotating_controller: 0.8
    acc_lim_x: 0.32
    acc_lim_y: 0.4
    acceleration_error_multiplier: 2.0
    allow_init_with_backwards_motion: true
    cmd_angle_instead_rotvel: false
    complete_global_plan: true
    costmap_converter:
      CostmapToLinesDBSRANSAC:
        cluster_max_distance: 0.5
        cluster_max_pts: 30
        cluster_min_pts: 2
        convex_hull_min_pt_separation: 0.1
        ransac_convert_outlier_pts: true
        ransac_filter_remaining_outlier_pts: false
        ransac_inlier_distance: 0.1
        ransac_min_inliers: 10
        ransac_no_iterations: 1500
        ransac_remainig_outliers: 3
    costmap_converter_plugin: costmap_converter::CostmapToLinesDBSRANSAC
    costmap_converter_rate: 10
    costmap_converter_spin_thread: true
    costmap_obstacles_behind_robot_dist: 0.5
    default_xy_goal_tolerance: 0.2
    default_yaw_goal_tolerance: 0.17
    dist_pose_command: 0.5
    dt_hysteresis: 0.1
    dt_ref: 0.4
    dynamic_obstacle_inflation_dist: 0.6
    enable_homotopy_class_planning: false
    enable_multithreading: true
    exact_arc_length: false
    feasibility_check_distance: 0.6
    publish_feasibility_footprint: false
    footprint_model:
      anymal_footprint_multi_circle:
        type: "multi_circle"
        circles:
          - origin: [0.245, 0.0]
            radius: 0.32
          - origin: [0.0, 0.0]
            radius: 0.32
          - origin: [-0.245, 0.0]
            radius: 0.32
      feasibility_footprint:
        type: polygon
        vertices:
          -
            - -0.475
            - -0.29
          -
            - -0.475
            - 0.29
          -
            - 0.475
            - 0.29
          -
            - 0.475
            - -0.29
    force_reinit_new_goal_dist: 1.0
    free_goal_vel: true
    global_plan_overwrite_orientation: false
    global_plan_prune_distance: 1.0
    global_plan_viapoint_sep: 0.4
    h_signature_prescaler: 1.0
    h_signature_threshold: 0.1
    include_costmap_obstacles: true
    include_dynamic_obstacles: false
    inflation_dist: 0.6
    interpolate_global_plan: true
    is_footprint_dynamic: false
    jerk_lim_theta: 0.4
    jerk_lim_x: 0.2
    jerk_lim_y: 0.4
    jerk_error_multiplier: 1.0
    k_p_theta_rotating_controller: 1.0
    k_p_x_rotating_controller: 1.0
    k_p_y_rotating_controller: 1.0
    legacy_obstacle_association: false
    map_pipeline: elevation_map_lidar_obstacle_pipeline
    max_dist_global_plan_poses: 0.5
    max_global_plan_lookahead_dist: -1.0
    max_number_classes: 5
    max_vel_theta: 2.0
    max_vel_x: 0.4
    max_vel_x_backwards: 0.4
    max_vel_y: 1.0
    maximum_trajectory_poses_to_visualize: 2
    min_lh_dist_for_turn_before_navigate: 0.5
    min_obstacle_dist: 0.05
    min_turning_radius: 0.0
    min_vel_theta: 0.05
    min_vel_x: 0.05
    min_vel_y: 0.07
    no_inner_iterations: 25
    no_outer_iterations: 20
    obstacle_association_cutoff_factor: 40.0
    obstacle_association_force_inclusion_factor: 10.0
    obstacle_avoidance_mode: 0
    obstacle_heading_threshold: 0.45
    obstacle_poses_affected: 30
    odom_topic: /state_estimator/anymal_state_throttle
    odom_ema_filter_alpha: 0.4
    optimization_activate: true
    optimization_verbose: false
    oscillation_recovery: false
    penalty_epsilon: 0.09
    publish_costmap2d: true
    publish_feedback: false
    record_costs: false
    reorient_global_plan: false
    roadmap_graph_area_length_scale: 1.0
    roadmap_graph_area_width: 5.0
    roadmap_graph_no_samples: 15
    selection_alternative_time_cost: false
    selection_cost_hysteresis: 1.0
    selection_obst_cost_scale: 100.0
    selection_prefer_initial_plan: 0.95
    selection_viapoint_cost_scale: 1.0
    stop_go_behavior_timeout: 20.0
    switching_blocking_period: 0.0
    teb_autosize: false
    turn_before_navigate: false
    v_x_hyst_rotating_controller: 0.02
    velocity_error_multiplier: 2.0
    via_points_ordered: false
    viapoints_all_candidates: true
    visualize_hc_graph: false
    visualize_with_time_as_z_axis_scale: 0.0
    weight_acc_lim_theta: 5.0
    weight_acc_lim_x: 5.0
    weight_acc_lim_y: 5.0
    weight_adapt_factor: 2.0
    weight_dynamic_obstacle: 50.0
    weight_dynamic_obstacle_inflation: 0.1
    weight_inflation: 1.0
    weight_jerk_lim_theta: 5.0
    weight_jerk_lim_x: 5.0
    weight_jerk_lim_y: 5.0
    weight_kinematics_forward_drive: 0.0
    weight_kinematics_nh: 0.0
    weight_kinematics_turning_radius: 0.0
    weight_max_vel_theta: 2.0
    weight_max_vel_x: 2.0
    weight_max_vel_y: 2.0
    weight_obstacle: 50.0
    weight_optimal_time: 0.5
    weight_balanced_time: 5.0
    weight_prefer_rotdir: 50
    weight_shortest_path: 0.5
    weight_viapoint_position: 0.5
    weight_viapoint_orientation: 2.0
  strict_path_follower:
    default: &strict_path_follower_default
      acc_lim_theta: 0.45
      acc_lim_theta_rotating_controller: 0.8
      acc_lim_x: 0.32
      acc_lim_y: 0.32
      acceleration_error_multiplier: 2.0
      allow_init_with_backwards_motion: true
      cmd_angle_instead_rotvel: false
      complete_global_plan: true
      costmap_converter:
        CostmapToLinesDBSRANSAC:
          cluster_max_distance: 0.5
          cluster_max_pts: 30
          cluster_min_pts: 2
          convex_hull_min_pt_separation: 0.1
          ransac_convert_outlier_pts: true
          ransac_filter_remaining_outlier_pts: false
          ransac_inlier_distance: 0.2
          ransac_min_inliers: 10
          ransac_no_iterations: 1500
          ransac_remainig_outliers: 3
      costmap_converter_plugin: costmap_converter::CostmapToLinesDBSRANSAC
      costmap_converter_rate: 10
      costmap_converter_spin_thread: true
      costmap_obstacles_behind_robot_dist: 0.5
      default_xy_goal_tolerance: 0.2
      default_yaw_goal_tolerance: 0.17
      dist_pose_command: 0.5
      dt_hysteresis: 0.05
      dt_ref: 0.4
      dynamic_obstacle_inflation_dist: 0.6
      enable_homotopy_class_planning: false
      enable_multithreading: true
      exact_arc_length: false
      feasibility_check_distance: 0.6
      publish_feasibility_footprint: false
      footprint_model:
        feasibility_footprint:
          type: polygon
          vertices:
            -
              - -0.475
              - -0.29
            -
              - -0.475
              - 0.29
            -
              - 0.475
              - 0.29
            -
              - 0.475
              - -0.29
      force_reinit_new_goal_dist: 1.0
      free_goal_vel: false
      global_plan_overwrite_orientation: false
      global_plan_prune_distance: 0.2
      global_plan_viapoint_sep: 0.2
      h_signature_prescaler: 1.0
      h_signature_threshold: 0.1
      include_costmap_obstacles: true
      include_dynamic_obstacles: false
      inflation_dist: 0.5
      interpolate_global_plan: true
      is_footprint_dynamic: false
      k_p_theta_rotating_controller: 1.0
      k_p_x_rotating_controller: 1.0
      k_p_y_rotating_controller: 1.0
      legacy_obstacle_association: false
      map_pipeline: elevation_map_lidar_obstacle_pipeline
      max_dist_global_plan_poses: 0.2
      max_global_plan_lookahead_dist: 1.5
      max_number_classes: 5
      max_vel_theta: 0.9
      max_vel_x: 0.6
      max_vel_x_backwards: 0.6
      max_vel_y: 0.45
      min_lh_dist_for_turn_before_navigate: 0.5
      min_obstacle_dist: 0.1
      min_turning_radius: 0.0
      min_vel_theta: 0.01
      min_vel_x: 0.02
      min_vel_y: 0.02
      no_inner_iterations: 20
      no_outer_iterations: 10
      obstacle_association_cutoff_factor: 40.0
      obstacle_association_force_inclusion_factor: 10.0
      obstacle_avoidance_mode: 0
      obstacle_heading_threshold: 0.45
      obstacle_poses_affected: 30
      odom_topic: /state_estimator/anymal_state_throttle
      optimization_activate: true
      optimization_verbose: false
      oscillation_recovery: false
      penalty_epsilon: 0.09
      publish_costmap2d: true
      publish_feedback: false
      record_costs: false
      reorient_global_plan: false
      roadmap_graph_area_length_scale: 1.0
      roadmap_graph_area_width: 5.0
      roadmap_graph_no_samples: 15
      selection_alternative_time_cost: false
      selection_cost_hysteresis: 1.0
      selection_obst_cost_scale: 100.0
      selection_prefer_initial_plan: 0.95
      selection_viapoint_cost_scale: 1.0
      separate_segments: true
      stop_go_behavior_timeout: 20.0
      switching_blocking_period: 0.0
      teb_autosize: true
      turn_before_navigate: false
      v_x_hyst_rotating_controller: 0.02
      velocity_error_multiplier: 2.0
      via_points_ordered: false
      viapoints_all_candidates: true
      visualize_hc_graph: false
      visualize_with_time_as_z_axis_scale: 0.0
      weight_acc_lim_theta: 4
      weight_acc_lim_x: 4
      weight_acc_lim_y: 4
      weight_adapt_factor: 2.0
      weight_dynamic_obstacle: 50.0
      weight_dynamic_obstacle_inflation: 0.1
      weight_inflation: 0.1
      weight_kinematics_forward_drive: 0.0
      weight_kinematics_nh: 0.0
      weight_kinematics_turning_radius: 0.0
      weight_max_vel_theta: 2
      weight_max_vel_x: 2
      weight_max_vel_y: 2
      weight_obstacle: 50
      weight_optimaltime: 0.5
      weight_prefer_rotdir: 50
      weight_shortest_path: 4.0
      weight_viapoint: 10.0
    motion_states:
      walk: &walk
        dt_ref: 0.4
        acc_lim_theta: 0.45
        max_vel_theta: 0.9
        max_vel_x: 0.6
        max_vel_x_backwards: 0.6
        max_vel_y: 0.45
        min_vel_theta: 0.01
        min_vel_x: 0.02
        min_vel_y: 0.02
        weight_shortest_path: 4.0
      stair_climbing: *walk
      crawl:
        dt_ref: 1.0
        acc_lim_theta: 0.35
        max_vel_theta: 0.5
        max_vel_x: 0.1
        max_vel_x_backwards: 0.1
        max_vel_y: 0.1
        min_vel_theta: 0.02
        min_vel_x: 0.02
        min_vel_y: 0.02
        weight_shortest_path: 30.0
      run:
        acc_lim_theta: 1.0
        max_vel_x: 1.5
        max_vel_x_backwards: 1.5
        min_vel_x: 0.02
    <<: *strict_path_follower_default
  control_frequency: 10.0
  default_global_planner: waypoints_planner
  default_local_planner: strict_path_follower
  default_local_planner_mode: stop_and_go
  elevation_map_canny_pipeline:
    canny_edge_detector:
      canny:
        first_threshold: 100
        second_threshold: 200
      input_layer: elevation
      output_layer: obstacle
    elevation_map_source:
      layer: elevation
      topic: /elevation_mapping/elevation_map_raw
  elevation_map_gradient_edge_pipeline:
    gradient_edge_detector:
      threshold: 1
      input_layer: elevation
      output_layer: obstacle
    elevation_map_source:
      layer: elevation
      topic: /elevation_mapping/elevation_map_raw
  lidar_obstacle_pipeline:
    threshold_obstacle_detector:
      threshold: 0.2
      input_layer: elevation
      output_layer: obstacle
    point_cloud_source:
      layer: elevation
      size_x: 4.0
      size_y: 4.0
      resolution: 0.025
      ground_frame: footprint
      topic: /point_cloud_filter/lidar/point_cloud_filtered_with_normals
  elevation_map_lidar_obstacle_pipeline:
    publish_output_on_update: false
    ground_frame: footprint
    point_cloud_source:
      topic: /point_cloud_filter/lidar/point_cloud_filtered_with_normals
    grid_map_source:
      topic: /elevation_mapping/elevation_map_raw
      layer: elevation
    grid_map_height_mask:
      input_layer: elevation
      output_layer: height_mask
      height_threshold: 0.1
      ground_frame: footprint
    grid_map_update_time_mask:
      input_layer: dynamic_time
      output_layer: age_mask
      age_limit: 4.0
    grid_map_dilation:
      input_layer: age_mask
      output_layer: age_mask
    point_cloud_into_grid_map:
      layer: point_cloud
    threshold_obstacle_detector:
      input_layer: point_cloud
      output_layer: threshold_obstacle
      threshold: 0.2
    elevation_map_gradient_edge_detector:
      input_layer: elevation
      output_layer: gradient_obstacle
      threshold: 0.002
    height_mask_filter:
      input_layer: gradient_obstacle
      mask_layer: height_mask
      output_layer: gradient_obstacle
    update_time_mask_filter:
      input_layer: gradient_obstacle
      mask_layer: age_mask
      output_layer: gradient_obstacle
    merge:
      left_operand_layer: threshold_obstacle
      right_operand_layer: gradient_obstacle
      output_layer: obstacle
  frames:
    pose_control: control
    robot: base
    twist_control: control
  global_maps:
    static_map: global_pose_graph
    dynamic_map: global_pose_graph_with_obstructions
  global_planners:
    waypoints_planner:
      planner_frame: map
      plugin: pose_graph_global_planner_ros/PoseGraphGlobalPlannerRos
  goal_tolerance_non_continuous:
    rotation: 0.7853981633974483
    translation: 0.5
  goal_tolerance_on_tolerance_continuous:
    rotation: 0.035
    translation: 0.02
  robot_stopping_criteria:
    translational_distance: 0.25
    rotational_distance: 0.4363
    timeout: 20.0
  local_planners:
    smooth_path_follower:
      planner_frame: point_cloud_odom
      plugin: anymal_teb_local_planner/AnymalTebLocalPlannerROS
      modes:
        blind:
          planner_mode_name: Blind
          supported_motion_states:
            - walk
            - blind_walk
            - perceptive_walk
        stop_and_go:
          planner_mode_name: StopAndGo
          supported_motion_states:
            - walk
            - blind_walk
            - perceptive_walk
        avoid_obstacles:
          planner_mode_name: AvoidObstacles
          supported_motion_states:
            - walk
            - blind_walk
            - perceptive_walk
    strict_path_follower:
      planner_frame: point_cloud_odom
      plugin: anymal_teb_local_planner/AnymalTebLocalPlannerROS
      modes:
        blind:
          planner_mode_name: Blind
          supported_motion_states:
            - walk
            - crawl
            - stair_climbing
            - run
            - blind_walk
            - perceptive_walk
        stop_and_go:
          planner_mode_name: StopAndGo
          supported_motion_states:
            - walk
            - blind_walk
            - perceptive_walk
  locomotion_controller:
    active_motion_state:
      topic: /motion_control_manager/current_motion_state
    default_controller:
      motion_parameters: ""
      motion_state: walk
    stand:
      motion_parameters: ""
      motion_state: stand
    stand_motion_states:
      - stand
      - _stand_while_crawling
    switch_locomotion_controller:
      action: /motion_control_manager/go_to_motion_state
  low_level_controller:
    switch_low_level_controller:
      persistent: false
      request_string: StateOperational
      service: /anymal_low_level_controller/go_to_active_state
  map_pipelines:
    global:
      global_waypoints_manager:
        map: global_pose_graph
        plugin_name: pose_graph_manager_ros/PoseGraphManagerRos
      global_waypoints_with_obstructions_manager:
        map: global_pose_graph_with_obstructions
        plugin_name: pose_graph_manager/PoseGraphManager
    local:
      elevation_map_canny_pipeline:
        plugin_name: obstacle_pipelines/ElevationMapCannyPipelineRos
      elevation_map_gradient_edge_pipeline:
        plugin_name: obstacle_pipelines/ElevationMapGradientEdgePipelineRos
      lidar_obstacle_pipeline:
        plugin_name: obstacle_pipelines/LidarObstaclePipelineRos
      elevation_map_lidar_obstacle_pipeline:
        plugin_name: obstacle_pipelines/ElevationMapLidarObstaclePipelineRos
  global_waypoints_manager:
    publishers:
      waypoints:
        latch: true
        queue_size: 1
        topic: waypoints
    servers:
      reload_waypoints:
        persistent: false
        service: reload_waypoints
    subscribers:
      updated_waypoints:
        queue_size: 1
        topic: /path_planning_and_following/waypoints_tool/updated_waypoints
  waypoints_planner:
    planner_settings:
      connect_node_candidates: 10
      cost_weights:
        backward_motion: 1.01
        forward_motion: 1.0
        sideways_motion: 2.0
        traversability_upper_limit: 3.0
        untraversability_threshold: 0.1
      dimension_scaling:
        angle: 0.318
        x: 1.0
        y: 1.0
        z: 4.0
      off_pose_graph_edge:
        motion_parameters: default
        motion_state: default
        traversability: 0.25
      max_distance_closest_edge_to_start: 0.5
      search_radius_elongation: 0.1
      unconnectable_motion_states: []
    publishers:
      global_plan:
        latch: true
        queue_size: 1
        topic: global_plan
      planner_pose_graph:
        latch: true
        queue_size: 1
        topic: planner_waypoints
  publishers:
    active_default_local_planner:
      latch: true
      queue_size: 1
      topic: default_path_follower/active
    active_default_locomotion_controller:
      latch: true
      queue_size: 1
      topic: default_locomotion_controller/active
    active_global_planner:
      latch: true
      queue_size: 1
      topic: path_planner/active
    active_local_planner:
      latch: true
      queue_size: 1
      topic: path_follower/active
    active_path:
      latch: true
      queue_size: 1
      topic: active_path
    available_local_planner:
      latch: true
      queue_size: 1
      topic: path_follower/available
    available_global_planner:
      latch: true
      queue_size: 1
      topic: path_planner/available
    local_planner_status:
      latch: true
      queue_size: 1
      topic: path_follower/status
    command_velocity:
      latch: false
      queue_size: 10
      topic: twist
    planned_path:
      latch: true
      queue_size: 1
      topic: planned_path
  servers:
    navigate_to_goal:
      action: navigate_to_goal
    plan_path:
      action: plan_path
    switch_default_local_planner:
      service: default_path_follower/switch
    switch_default_locomotion_controller:
      service: default_locomotion_controller/switch
    override_local_planner:
      service: path_follower/override
    switch_global_planner:
      service: path_planner/switch
  simulation: false
  subscribers:
    control_unit_state:
      queue_size: 10
      topic: /motion_control_manager/notify_control_unit_state
    available_motion_states:
      queue_size: 1
      topic: /motion_control_manager/available_motion_states
network_monitor:
  interface_name_blacklist:
    []
  interface_name_whitelist:
    []
  network_checks:
    []
  update_frequency: 0.5
notification:
  output_devices:
    robot_visualizer:
      queue_size: 20
      topic: /notification_robot_state
pdb_behavior_plugins:
  check_or_supervise_pdb_compatibility:
    topic: /pdb/compatibility_info
  check_or_supervise_emergency_stop:
    topic: /pdb/emergency_stop
  check_or_supervise_actuator_powerline:
    topic: /pdb/pin_state
pdb_driver:
  fan_control:
    default_minimal_speed: 0.3
    desired_minimal_speed: 1.0
    lower_temp_threshold: 40.0
    upper_temp_threshold: 65.0
  payload_powercycle_enabled: true
  power_line:
    actuators: false
    depth_camera: false
    lidar: false
    payload: true
    peripheral: true
    wide_angle_camera: false
  publish_differential_pressure: false
  publishers:
    battery_info:
      latch: true
      queue_size: 3
      topic: /pdb/battery_info
    battery_state:
      latch: true
      queue_size: 3
      topic: /pdb/battery_state
    battery_state_ros:
      latch: true
      queue_size: 3
      topic: /pdb/battery_state_ros # This interface is used in a PoC. Please contact Remo if you need to change it.
    battery_status:
      latch: true
      queue_size: 3
      topic: /pdb/battery_status
    compatibility_info:
      latch: true
      queue_size: 1
      topic: /pdb/compatibility_info
    differential_pressure:
      topic: /pdb/differential_pressure
      queue_size: 1
      latch: false
    emergency_stop:
      topic: /pdb/emergency_stop
      queue_size: 1
      latch: true
    fan_control_state:
      latch: true
      queue_size: 3
      topic: /pdb/fan_control_state
    ground_state:
      latch: true
      queue_size: 3
      topic: /pdb/ground_state
    intrinsic_state:
      latch: true
      queue_size: 3
      topic: /pdb/intrinsic_state
    module_state:
      latch: true
      queue_size: 2
      topic: /pdb/module_state
    notification:
      latch: true
      queue_size: 3
      topic: /pdb/notification
    pin_state:
      latch: true
      queue_size: 2
      topic: /pdb/pin_state
    power_state:
      latch: true
      queue_size: 3
      topic: /pdb/power_state
    router_info:
      latch: false
      queue_size: 1
      topic: /pdb/router_info
    shutdown:
      latch: true
      queue_size: 2
      topic: /pdb/shutdown
    version:
      latch: true
      queue_size: 2
      topic: /pdb/version
  serialPort:
    baudrate: 921600
    name: /dev/ttyS4
    timeout: 200
  services:
    set_fuse_trigger:
      enabled: false
  standalone: true
  thresholds:
    battery:
      cell_charging_temperature:
        warning:
          lower: 5.0
          upper: 55.0
          hysteresis:
            lower: 7.0
            upper: 53.0
        error:
          lower: 0.0
          upper: 59.0
          hysteresis:
            lower: 2.0
            upper: 57.0
      cell_discharging_temperature:
        warning:
          lower: -15.0
          upper: 55.0
          hysteresis:
            lower: -13.0
            upper: 53.0
        error:
          lower: -20.0
          upper: 59.0
          hysteresis:
            lower: -18.0
            upper: 57.0
      current_charging:
        warning:
          upper: 10.0
          hysteresis:
            upper: 9.5
        error:
          upper: 12.5
          hysteresis:
            upper: 12.1
      current_discharging:
        warning:
          upper: 30.0
          hysteresis:
            upper:  29.0
        error:
          upper: 32.0
          hysteresis:
            upper: 31.0
      fet_temperature:
        error:
          upper: 100.0
          hysteresis:
            upper: 98.0
        warning:
          upper: 90.0
          hysteresis:
            upper: 88.0
      humidity:
        error:
          upper: 90.0
          hysteresis:
            upper: 88.0
        warning:
          upper: 80.0
          hysteresis:
            upper: 78.0
      pressure:
        error:
          lower: 75.0
          upper: 160.0
          hysteresis:
            lower: 77.0
            upper: 158.0
        warning:
          lower: 80.0
          upper: 150.0
          hysteresis:
            lower: 82.0
            upper: 148.0
      temperature:
        error:
          upper: 70.0
          hysteresis:
            upper: 68.5
        warning:
          upper: 65.0
          hysteresis:
            upper: 63.5
      voltage:
        error:
          lower: 34.0
        warning:
          lower: 38.0
    fan:
      speed:
        error:
          lower: 300.0
          hysteresis:
            lower: 400.0
        warning:
          lower: 1000.0
          hysteresis:
            lower: 1200.0
    grounding:
      voltage:
        error:
          lower: 0.0
          upper: 3.3
        warning:
          lower: 0.0
          upper: 3.3
    intrinsic:
      humidity:
        error:
          upper: 85.0
          hysteresis:
            upper: 83.0
        warning:
          upper: 65.0
          hysteresis:
            upper: 63.0
      pressure:
        error:
          lower: 75.0
          upper: 110.0
          hysteresis:
            lower: 77.0
            upper: 108.0
        warning:
          lower: 0.0 # Purposfully lower than error threshold to not trigger warnings
          upper: 500.0 # Purposfully higher than error threshold to not trigger warnings
          hysteresis:
            lower: 1.0
            upper: 499.0
      temperature:
        error:
          lower: -15.0
          upper: 80.0
        warning:
          upper: 75.0
    power_system:
      current:
        error:
          upper: 20.0
        warning:
          upper: 18.0
      temperature:
        error:
          lower: -20.0
          upper: 110.0
          hysteresis:
            upper: 108.0
        warning:
          upper: 95.0
          hysteresis:
            upper: 93.0
      voltage:
        error:
          lower: 11.0
          upper: 13.0
        warning:
          lower: 11.5
          upper: 12.5
    power_peripheral:
      current:
        error:
          upper: 20.0
        warning:
          upper: 15.0
      temperature:
        error:
          lower: -15.0
          upper: 65.0
          hysteresis:
            upper: 63.5
        warning:
          upper: 60.0
          hysteresis:
            upper: 58.5
      voltage:
        error:
          lower: 11.0
          upper: 13.0
        warning:
          lower: 11.5
          upper: 12.5
  worker:
    name: updateWorker
    priority: 5
    time_step: 0.1
pdb_sim:
  battery_simulator:
    charging_rate_per_time_step: 0.1 # This interface is used in a PoC. Please contact Remo if you need to change it.
    charging_threshold: 1.0
    discharging_rate_per_time_step: 0.0 # This interface is used in a PoC. Please contact Remo if you need to change it.
    initial_state_of_charge: 1.0 # This interface is used in a PoC. Please contact Remo if you need to change it.
  compatibility_simulator:
    compatibility: 0
    drv_major: 0
    drv_minor: 0
    drv_patch: 0
    fw_major: 0
    fw_minor: 0
    fw_patch: 0
  docking_checker:
    docking_port_frame_id: docking_station__docking_port_link
    docking_socket_frame_id: docking_socket
    max_docking_distance: 0.1
    max_transform_age: 2.0
  initial_state_of_operation: true
  pdb_version:
    firmware: f8eeab055f4c51a3c8997c277d40d559ec0e6cca
    hardware: "2.7"
  publishers:
    battery_combined_temperature:
      topic: /pdb/behavior/battery_combined_temperature
      queue_size: 1
      latch: true
    battery_current:
      topic: /pdb/behavior/battery_current
      queue_size: 1
      latch: true
    battery_humidity:
      topic: /pdb/behavior/battery_humidity
      queue_size: 1
      latch: true
    battery_permanent_fail:
      topic: /pdb/behavior/battery_permanent_fail
      queue_size: 1
      latch: true
    battery_pressure:
      topic: /pdb/behavior/battery_pressure
      queue_size: 1
      latch: true
    battery_temperature:
      topic: /pdb/behavior/battery_temperature
      queue_size: 1
      latch: true
    body_temperature:
      topic: /pdb/behavior/body_temperature
      queue_size: 1
      latch: true
    battery_state_ros:
      latch: true
      queue_size: 3
      topic: /pdb/battery_state_ros
    customer_12v:
      topic: /pdb/behavior/customer_12v
      queue_size: 1
      latch: true
    customer_48v:
      topic: /pdb/behavior/customer_48v
      queue_size: 1
      latch: true
    fan_speed:
      topic: /pdb/behavior/fan_speed
      queue_size: 1
      latch: true
    compatibility_info:
      latch: true
      queue_size: 1
      topic: /pdb/compatibility_info
    emergency_stop:
      topic: /pdb/emergency_stop
      queue_size: 1
      latch: true
    main_body_humidity:
      topic: /pdb/behavior/main_body_humidity
      queue_size: 1
      latch: true
    main_body_pressure:
      topic: /pdb/behavior/main_body_pressure
      queue_size: 1
      latch: true
    pin_state:
      topic: /pdb/pin_state
      queue_size: 3
      latch: true
    version:
      latch: true
      queue_size: 1
      topic: /pdb/version
    robot_sensors:
      topic: /pdb/behavior/robot_sensors
      queue_size: 1
      latch: true
  servers:
    request_data:
      service: /pdb/request_data
    set_battery_state:
      service: set_battery_state
    set_emergency_stop:
      service: /pdb_driver/set_emergency_stop
    set_operation_state:
      service: set_operation_state
    set_sensor_emulation:
      service: /pdb_sim/set_sensor_emulation
    set_status_light:
      service: /pdb_driver/set_status_light
    set_power_line:
      service: /pdb_driver/set_power_line
  time_step: 1.0
perception_behavior_plugins:
  check_or_supervise_localization:
    topic: /slam/node_state
  create_place_recognition_descriptor:
    service: /slam/create_place_recognition_descriptor
  detect_docking_port:
    service: /docking_port_localization_ros/node/detect_docking_port
  detect_docking_port_using_apriltag:
    service: /docking_port_localization_ros/node/detect_april_tag
  toggle_localization:
    service: /slam_supervisor/mission_aware_toggle_slam
  toggle_depth_camera_color_stream_services:
    - /depth_camera_front/toggleColor
    - /depth_camera_left/toggleColor
    - /depth_camera_rear/toggleColor
    - /depth_camera_right/toggleColor
pharos_map_editor:
  number_threads_ros_spinner: 4
point_cloud_filter:
  filter_and_merger:
    config_files_folder: ""
    log_level: INFO
    stream_combinations:
      - decimation: 2
        filter: true
        filters_config: pointmatcher_filters_lidar_depth_camera_middle_box.yaml
        fixed_frame_tf: odom
        keep_intensity: true
        master: 0
        max_time_offset: 0.2
        name: lidar_depth_camera
        output_topic: /point_cloud_filter/lidar_depth_camera/point_cloud_filtered
        sources:
          - 0
          - 1
        target_frame: base
        use_fixed_frame_tf: true
        wait_time_tf: 0.05
    stream_sources:
      - filter: true
        filters_config: pointmatcher_filters_velodyne_vlp16.yaml
        id: 0
        input_topic: /lidar/point_cloud
        output_topic: /point_cloud_filter/lidar/point_cloud_filtered_with_normals
        queue_size: 1
        robot_description: /anymal_description
        self_filter_config: self_filtering_body.yaml
        source_name: lidar
        source_type: lidar
      - filter: true
        filters_config: pointmatcher_filters_realsense_d435.yaml
        id: 1
        input_topic: /depth_camera_front_upper/point_cloud_self_filtered
        output_topic: /point_cloud_filter/depth_camera_front_upper/point_cloud_filtered_with_normals
        queue_size: 1
        source_name: depth_camera_front_upper
        source_type: depth_camera
    subscribers_check_period: 1.0
point_cloud_odometry:
  config_files_folder: ""
  coordinate_frames:
    intermediate_frame: odom
    robot_frame: base
    tracked_frame: point_cloud_odom
    world_frame: world
  frames:
    map: point_cloud_odom
    odometry: odom
    robot: base
  localization:
    enable_on_launch: true
    icp:
      config_file_name: icp.yaml
      min_input_point_cloud_size: 500
      min_map_size: 500
      min_overlap: 0.2
    initial_guess:
      retrieval_method: RosTf
      wait_for_tf_duration: 0.1
    map_rendering:
      time_period: 1.5
    pose_prior:
      propagation_method: RosTf
    result:
      enforce_map_gravity_alignment: true
  loop_detection:
    enable_on_launch: false
  mapping:
    detect_dynamic_points: false
    dynamic_points_detection:
      add_debug_descriptors: false
      alpha: 0.95
      beta: 0.75
      eps: 0.0001
      eps_a: 0.1
      eps_d: 0.1
      max_angle_between_spherical_neighbors: 0.01
      max_dynamic_probability: 0.9
      prior_static: 0.8
    enable_on_launch: true
    filters_file_name: map_filters.yaml
    load_map_on_launch_file_path: ""
    max_distance_overlapping_points: 0.04
    max_overlap: 1.0
    max_sensor_range: 100.0
    remove_dynamic_points_after_extending_map: false
  publishers:
    initial_guess:
      latch: true
      queue_size: 1
      topic: initial_guess
    input_point_cloud_matched:
      latch: false
      queue_size: 1
      topic: input_point_cloud_matched
    map_dynamic:
      latch: false
      queue_size: 1
      topic: map_dynamic
    map_pose:
      latch: false
      queue_size: 1
      topic: map_pose
    map_static:
      latch: false
      queue_size: 1
      topic: map_static
    node_state:
      frequency: 10.0
      latch: false
      queue_size: 1
      topic: node_state
    pose_prior:
      latch: false
      queue_size: 1
      topic: pose_prior
    reset_notification:
      latch: false
      queue_size: 1
      topic: reset_notification
    robot_pose_in_map:
      latch: false
      queue_size: 1
      topic: pose
    robot_pose_visualizable:
      latch: true
      queue_size: 1
      topic: pose_visualizable
    toggle_localization_notification:
      latch: false
      queue_size: 1
      topic: toggle_localization_notification
    toggle_loop_detection_notification:
      latch: false
      queue_size: 1
      topic: toggle_loop_detection_notification
    toggle_mapping_notification:
      latch: false
      queue_size: 1
      topic: toggle_mapping_notification
  robustness:
    consecutive_localization_fails_before_reset: 5
    localization_correction_position_threshold: 0.2
    localization_correction_rotation_threshold: 0.1
  servers:
    clear_initial_guess:
      service: clear_initial_guess
    clear_map:
      service: clear_map
    load_map_from_file:
      service: load_map_from_file
    publish_map:
      service: publish_map
    reset:
      service: reset
    save_map_to_file:
      service: save_map_to_file
    set_initial_guess_method:
      service: set_initial_guess_method
    toggle_localization:
      service: toggle_localization
    toggle_loop_detection:
      service: toggle_loop_detection
    toggle_mapping:
      service: toggle_mapping
  simulated_localizer:
    input_data_topic: /point_cloud_filter/lidar_depth_camera/point_cloud_filtered
    localization_trigger_method: 1
    overwrite_sim_with_data_stamp: false
    position_variance: 0.0
  subscribers:
    initial_guess:
      queue_size: 1
      topic: /interaction_marker/point_cloud_odometry_initial_guess
    input_point_cloud:
      queue_size: 1
      topic: /point_cloud_filter/lidar_depth_camera/point_cloud_filtered
  tf_transforms:
    sampling_time: 0.5
    wait_time: 0.05
  threading:
    run_mapping_in_main_thread: false
depth_camera_template: &depth_camera_template
  driver: &depth_camera_driver_template
    align_depth: true
    depth_fps: 15
    depth_height: 480
    depth_width: 848
    enable_depth: true
    enable_infra1: true
    enable_infra2: true
    enable_pointcloud: true
    enable_sync: true
    filters: pointcloud
    fixed_time_offset: 0.0
    frame_id_prefix: depth_camera_template_
    infra_fps: 15
    infra_height: 480
    infra_width: 848
    initial_reset: false
    json_file_path: ""
    pointcloud_texture_stream: RS2_STREAM_ANY
    reset_device_startup: false
    reset_sleep_time: 3.0
    serial_no: ""
    timestamping_method: varying_offsets
  imager_rate: 2.0
  stereo_module:
    inter_cam_sync_mode: 0
  plane_detector: &depth_image_plane_detector_template
    subscribers:
      depth_image:
        topic:                            depth/image_rect_raw
        queue_size:                       1
      camera_info:
        topic:                            depth/camera_info
        queue_size:                       1
    publishers:
      depth_image_clusters:
        topic:                            depth/image_clusters
        queue_size:                       1
        enabled:                          true
      depth_image_filtered:
        topic:                            depth/image_filtered
        queue_size:                       1
        enabled:                          true
      depth_image_segmented:
        topic:                            depth/image_segmented
        queue_size:                       1
        enabled:                          true
      segmentation_out:
        topic:                            segmentation_out
        queue_size:                       1
        enabled:                          true
      only_planes:
        topic:                            depth/image_rect_filtered
        queue_size:                       1
        enabled:                          true
      camera_info_filtered:
        topic:                            depth/camera_info_filtered
        queue_size:                       1
        enabled:                          true
      pointcloud_with_confidence:
        topic:                            pointcloud_with_confidence
        queue_size:                       1
        enabled:                          true
      outliers_mask:
        topic:                            depth/outlier_mask
        queue_size:                       1
        enabled:                          false
      raw_edges:
        topic:                            depth/raw_edges
        queue_size:                       1
        enabled:                          false
      hallucinated_points:
        topic:                            hallucinated_points
        queue_size:                       1
        enabled:                          true
      depth_image_occlusion_map:
        topic:                            occlusion_map
        queue_size:                       1
        enabled:                          true
    node:
      configuration: &depth_image_plane_detector_configuration_template
        topic_namespace: "" # relative name resolution
        enable_resizing: true
        resize_factor: 0.25
        minimal_plane_score: 80
        maximal_angle_to_gravity_in_rad: 1.6 # Allow even vertical planes.
        continuously_check_parameter_updates: false
    depth_image_filters: # Unused!
      open_CL_acceleration: false
      max_depth_threshold_in_mm:  4000
      inpaint_filter_kernel_size_in_pixels: 3.0
      inpaint_method: 1
      median_blur_kernel_size_in_pixels:  5
      gaussian_blur_kernel_size_in_pixels:  3
    cape_plane_detector:
      patch_number_vertical: 24
      max_angle: 0.4
      max_merge_distance: 0.05
      cylinder_detection: false
    outlier_filters:
      enabled: true
      distance_cutoff_filter:
        apply_distance_cutoff_filter: true
        depth_cutoff_distance_in_mm: 1500.0
      outliers_detector:
        canny_threshold: 10
        canny_threshold2: 20
        cluster_size_threshold: 80
        divergence_ratio: 0.25
        blob_neighbourhood_kernel_size_in_pixels: 3
        number_filter_passes: 1
        empty_region_distance_threshold_in_mm: 300
    range_filter:
      max_depth_threshold_in_m: 4.0
  depth_camera_self_filter_template: &depth_camera_self_filter_template
    config_files_folder: ""
    input_topic: pointcloud_with_confidence
    output_topic: point_cloud_self_filtered
    queue_size: 1
    robot_description: /anymal_description
    self_filter_config: self_filtering_limbs.yaml
    self_filter_markers_topic: self_filter_markers
    subscribers_check_period: 1.0
depth_camera_front_lower:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_front_lower_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_front_limbs.yaml
depth_camera_front_upper:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_front_upper_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_front_limbs.yaml
depth_camera_left:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_left_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_left_limbs.yaml
depth_camera_rear_lower:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_rear_lower_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_hind_limbs.yaml
depth_camera_rear_upper:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_rear_upper_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_hind_limbs.yaml
depth_camera_right:
  <<: *depth_camera_template
  driver:
    <<: *depth_camera_driver_template
    frame_id_prefix: depth_camera_right_
  point_cloud_self_filter:
    <<: *depth_camera_self_filter_template
    self_filter_config: self_filtering_right_limbs.yaml
process_info_logger:
  enabled: True
  logfile_path: "~/.ros/log/processes"
  logfile_name: "process-info-log"
report_writer:
  logo_path: ""
  image_path: ""
  create_report_on_startup:
    enabled: true
    name: Inspection Tour
  default_audio_sample_format: wav
  default_illustration_format: jpg
  play_icon_path: ""
  publishers:
    report:
      latch: true
      queue_size: 1
      topic: report
    report_light:
      latch: true
      queue_size: 1
      topic: report_light
  report_default_folder_path: reports
  report_frame_id: map
  robot_frame_id: base
  servers:
    clear_entries:
      service: clear_entries
    create_new_report:
      service: create_new_report
    write_to_disk:
      service: write_to_disk
  stylesheet_path: ""
  subscribers:
    report_entry:
      queue_size: 100
      topic: report_entry
robot_behavior_plugins:
  enable_ex_features: false
  operate_reacting_on_low_battery:
    enable_docking_if_available: false
  robot_behavior:
    enable_handle_pdb_compatibility: true
  monitor_behavior_mode:
    publishers:
      event_bus:
        topic: /behavior_engine/events
        latch: true
        queue_size: 1
    subscribers:
      gui_joy:
        topic: /anyjoy/rqt
        queue_size: 1
      rcu_dial:
        topic: /anyjoy/rcu
        queue_size: 1
      rcu_joy:
        topic: /anyjoy/rcu
        queue_size: 1
  react_behaviour:
    subscribers:
      event_bus:
        topic: /behavior_engine/events
        queue_size: 1
  switch_user_interaction_profile:
    service: /user_interaction_mode/relay_communication
    gui_twist_source_topic: /collision_filter/twist
    rcu_twist_source_topic: /collision_filter/twist
  wait_for_next_operational_mode_request:
    subscribers:
      event_bus:
        topic: /behavior_engine/events
        queue_size: 1
rosapi:
  params_glob: '[*]'
  services_glob: '[*]'
  topics_glob: '[*]'
rosbridge_websocket:
  actual_port: 9090
  address: 0.0.0.0
  authenticate: false
  bson_only_mode: false
  delay_between_messages: 0
  fragment_timeout: 600
  max_message_size: None
  params_glob: '[*]'
  port: 9090
  retry_startup_delay: 5
  services_glob: '[*]'
  topics_glob: '[*]'
  unregister_timeout: 10
  use_compression: false
  websocket_external_port: None
  websocket_ping_interval: 0
  websocket_ping_timeout: 30
rqt_anydrive_monitor:
  actuator_readings_extended_topic: /anymal_low_level_controller/actuator_readings_extended_throttled
  ros_prefix: anymal_low_level_controller
  setup_file: ""
  single_subscribers: false
rqt_anymal_data_sync:
  settings:
    certificate_dir: "/usr/share/ads/credentials"
    root_certificate_name: "root"
    client_certificate_name: "ads-cli"
    enable_authentication: true
rqt_anymal_lowlevel_controller:
  clients:
    go_to_active_state:
      persistent: false
      service: /gui/anymal_low_level_controller/go_to_active_state
    go_to_life_cycle_state:
      persistent: false
      service: /gui/anymal_low_level_controller/go_to_life_cycle_state
  subscribers:
    current_active_state:
      queue_size: 1
      topic: /anymal_low_level_controller/current_active_state
    current_life_cycle_state:
      queue_size: 1
      topic: /anymal_low_level_controller/current_life_cycle_state
rqt_task_execution:
  advanced_tasks:
    list:
      20_goto:
        label: Go To
        state:
          name:
            postfix: ""
            prefix: GoTo
          settings:
            environment_object_type: navigation_goal
            parameter_name: navigation_goal
            parameter_type: NavigationGoal
          type: navigation_behavior_plugins::ReactiveNavigation
  modes:
    list:
      10_sleep:
        label: Sleep
        icon_path: :/icons/sleep_white.svg
        mode: 1
        requires_autonomy: false
      20_rest:
        label: Rest
        icon_path: :/icons/rest_white.svg
        mode: 2
        requires_autonomy: false
      30_stand:
        label: Stand
        icon_path: :/icons/stand_white.svg
        mode: 3
        requires_autonomy: false
      40_walk:
        label: Walk
        icon_path: :/icons/walk_white.svg
        mode: 4
        requires_autonomy: false
    show_labels: false
rqt_environment_editor:
  plugins:
    navigation_goal:
      label: Navigation Goal
      name: navigation_goal_qt_plugin/NavigationGoalQtPlugin
    navigation_zone:
      label: Navigation Zone
      name: navigation_zone_qt_plugin/NavigationZoneQtPlugin
rqt_motion_control:
  clients:
    clear_protective_stop:
      service: /motion_control_manager/clear_protective_stop
    protective_stop:
      service: /motion_control_manager/protective_stop
    execute_motion:
      action: /gui/motion_control_manager/force_motion_execution
    go_to_motion_state:
      action: /gui/motion_control_manager/go_to_motion_state
    set_current_motion_state:
      service: /gui/motion_control_manager/set_current_motion_state
    set_current_motion_parameters:
      service: /gui/motion_control_manager/set_current_motion_parameters
    switch_lowlevel_controller:
      service: /gui/anymal_low_level_controller/go_to_active_state
  enable_parameters_gui: true
  run_deprecated_motion_control: false
  simulation: false
  subscribers:
    active_motion:
      topic: /motion_control_manager/active_motion
    active_motion_state:
      topic: /motion_control_manager/current_motion_state
    available_motion_states:
      topic: /motion_control_manager/available_motion_states
    available_motions:
      topic: /motion_control_manager/available_motions
    control_unit_state:
      topic: /motion_control_manager/notify_control_unit_state
    current_motion_parameters:
      topic: /motion_control_manager/current_motion_parameters
  diagnostic_mode: false
rqt_pdb:
    clients:
      set_fan_speed: /gui/pdb_driver/set_fan_speed
      set_power_line: /gui/pdb_driver/set_power_line
      set_status_light: /gui/pdb_driver/set_status_light
rqt_pharos_map_editor:
  view:
    widget_title: "Pharos Map Editor Mini"
    message_show_time: 1.0
  presenter:
    align_map_pair_service: "/pharos_map_editor/align_map_pair"
    fuse_map_pair_service: "/pharos_map_editor/fuse_map_pair"
    load_map_service: "/pharos_map_editor/load_map"
    node_state_topic: "/pharos_map_editor/node_state"
    preview_constraints_map_pair_service: "/pharos_map_editor/preview_constraints_map_pair"
    remove_map_service: "/pharos_map_editor/remove_map"
    save_map_service: "/pharos_map_editor/save_map"
    supported_methods_topic: "/pharos_map_editor/supported_methods"
    timeout_service_existence: 0.2
    visualize_map_service: "/pharos_map_editor/visualize_map"
rqt_point_cloud_odometry:
  presenter:
    node_state_topic: /point_cloud_odometry/node_state
    period_node_status_check: 1.0
    reset_service: /point_cloud_odometry/reset
    timeout_clock_synchronization: 0.5
    timeout_node_status_check: 2.0
    timeout_service_existence: 0.2
    toggle_localization_service: /point_cloud_odometry/toggle_localization
    toggle_mapping_service: /point_cloud_odometry/toggle_mapping
  view:
    widget_title: Point Cloud based Odometry
rqt_point_cloud_transformer:
  default_loading_path: ""
  default_saving_path: ""
  editor_node_name: /slam_maps_transformer
rqt_state_estimation:
  clients:
    reset_state_estimator:
      service: /state_estimator/reset
    reset_state_estimator_here:
      service: /state_estimator/reset_here
rqt_state_machine_editor:
  default_path: ""
  behavior_plugins:
    basic_behavior_plugins:
      namespace: basic_behavior_plugins
      plugins:
        Sleep: Sleep
    logic_behavior_plugins:
      namespace: logic_behavior_plugins
    navigation_behavior_plugins:
      namespace: navigation_behavior_plugins
      plugins:
        ReactiveNavigation: ReactiveNavigation
    motion_control_behavior_plugins:
      namespace: motion_control_behavior_plugins
      plugins:
        WalkToPose: WalkToPose
    system_behavior_plugins:
      namespace: system_behavior_plugins
      plugins:
        CheckBatteryLevel: CheckBatteryLevel
        CheckForLowBattery: CheckForLowBattery
        Rest: Rest
        Sleep: Sleep
        Stand: Stand
        Walk: Walk
rqt_waypoints_recording:
  default_waypoints_file_path: environment_data:///waypoints/recorded_waypoints.json
  clients:
    add_waypoint_here:
      persistent: false
      service: /waypoints_recording/trigger_add_waypoint
    check_temporary_storage:
      persistent: false
      service: /waypoints_recording/check_temporary_storage
    load_temporary_storage:
      persistent: false
      service: /waypoints_recording/load_temporary_storage
    open_waypoints:
      persistent: false
      service: /waypoints_recording/open_waypoints
    save_waypoints:
      persistent: false
      service: /waypoints_recording/save_waypoints
    clear_waypoints:
      persistent: false
      service: /waypoints_recording/clear_waypoints
    set_recording:
      persistent: false
      service: /waypoints_recording/set_recording
rviz_image_floorplan:
  publisher:
    image_publisher:
      name_of_texture_image: groundplan.png
      name_of_topic: /floorplan_image
      queue_size: 1
    positioning_publisher:
      m_to_pixels_topic: /floorplan/m_to_pixels
      alpha_floorplan_topic: /floorplan/alpha_floorplan
  tf_topic:
    header_id: map
    child_id: floorplan_tf
  texture_dir:
    load_texture_image_path: ""
  config_file_dir:
    save_and_load_config_path: ""
  marker:
    name_of_interactive_marker: Floorplan Marker
rviz_world_loader:
  world_frame_id: map
sensors:
  imu:
    accel:
      drift: 0.0
      drift_frequency: 0.0002777777777777778
      gaussian_noise: 0.0
      offset: 0.0
      scale_error: 1.0
    rate:
      drift: 0.0
      drift_frequency: 0.0002777777777777778
      gaussian_noise: 0.0
      offset: 0.0
      scale_error: 1.0
    yaw:
      drift: 0.0
      drift_frequency: 0.0002777777777777778
      gaussian_noise: 0.0
      offset: 0.0
      scale_error: 1.0
sensor_power_supervisor_depth_cameras:
  sensor_status_configurations:
    - depth_camera_front_lower:
        status_topic: '/depth_camera_front_lower/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_front_lower/driver'
    - depth_camera_front_upper:
        status_topic: '/depth_camera_front_upper/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_front_upper/driver'
    - depth_camera_left:
        status_topic: '/depth_camera_left/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_left/driver'
    - depth_camera_rear_lower:
        status_topic: '/depth_camera_rear_lower/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_rear_lower/driver'
    - depth_camera_rear_upper:
        status_topic: '/depth_camera_rear_upper/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_rear_upper/driver'
    - depth_camera_right:
        status_topic: '/depth_camera_right/interface_status'
        sensor_type: 'depth_camera'
        status_timeout: 10
        driver_rosnode_name: '/depth_camera_right/driver'
  pdb_power_line: 14 # see pdb_msgs/SetPowerLine.powerLine
  max_number_of_powercycles: 3
  power_cycle_off_time: 3
  servers:
    enable:
      service: '/depth_cameras/enable'
sensor_power_supervisor_lidar:
  sensor_status_configurations:
    - lidar:
        status_topic: '/lidar/interface_status'
        sensor_type: 'lidar'
        status_timeout: 45
        driver_rosnode_name: '/lidar_nodelet_driver'
  pdb_power_line: 10 # see pdb_msgs/SetPowerLine.powerLine
  max_number_of_powercycles: 3
  power_cycle_off_time: 3
  servers:
    enable:
      service: '/lidar/enable'
sensor_power_supervisor_wide_angle_cameras:
  sensor_status_configurations:
    - wide_angle_camera_front:
        status_topic: '/wide_angle_camera_front/interface_status'
        sensor_type: 'wide_angle_camera'
        status_timeout: 20
        driver_rosnode_name: '/wide_angle_camera_front/spinnaker_camera_nodelet'
    - wide_angle_camera_rear:
        status_topic: '/wide_angle_camera_rear/interface_status'
        sensor_type: 'wide_angle_camera'
        status_timeout: 20
        driver_rosnode_name: '/wide_angle_camera_rear/spinnaker_camera_nodelet'
  pdb_power_line: 11 # see pdb_msgs/SetPowerLine.powerLine
  max_number_of_powercycles: 3
  power_cycle_off_time: 3
  servers:
    enable:
      service: '/wide_angle_cameras/enable'
service_info_logger:
  oneshot: True
  logfile_path: "~/.ros/log/services"
  logfile_name: "service-log"
  service_names:
    common:
      []
    lpc:
      - "anymal-roscore.service"
      - "anymal-load-config.service"
      - "anymal-sw-stack@lpc.service"
      - "anymal-sw-stack@lpc_background.service"
    npc:
      - "anymal-sw-stack@npc.service"
      - "anymal-sw-stack@npc_background.service"
signal_relay:
  reset_routes:
    state_estimator_reset:
      input: /state_estimator/reset_notification
      output_services: [/point_cloud_odometry/reset,
                        /localization_manager/point_cloud_odometry_connector/reset]
    state_estimator_init_change_notification:
      input: /state_estimator/init_change_notification
      output_services: [/elevation_mapping/clear_map]
    state_estimator_disable_notification:
      input: /state_estimator/disable_change_notification
      output_services: [/elevation_mapping/clear_map,
                        /elevation_mapping/disable_updates]
    state_estimator_enable_notification:
      input: /state_estimator/enable_change_notification
      output_services: [/elevation_mapping/enable_updates]
slam:
  config_files_folder: ""
  coordinate_frames:
    intermediate_frame: odom
    robot_frame: base
    tracked_frame: map
    world_frame: world
  frames:
    map: map
    odometry: odom
    robot: base
  global_localization:
    database:
      cull_out_old_data: false
      max_database_length: 10000
      max_num_of_kd_tree_leaves: 20
      num_of_candidates_from_tree: 3
      tree_construction_period: 1
    descriptor_generation:
      lidar_height: 0.55
      max_distance_radius: 40
      min_num_of_points_for_descriptor: 1000
      num_rings: 40
      num_sectors: 60
    mapping:
      manual_descriptor_creation_min_delta_translation_distance: 0.2
      max_delta_translation_distance_for_replacement: 0.1
      min_delta_pitch_angle: 30
      min_delta_roll_angle: 30
      min_delta_translation_distance: 1
      min_descriptor_distance_for_replacement: 0.5
    search_and_match:
      max_allowed_descriptor_distance: 0.5
      search_ratio: 0.1
  localization:
    enable_on_launch: false
    icp:
      config_file_name: icp.yaml
      min_input_point_cloud_size: 500
      min_map_size: 500
      min_overlap: 0.2
    initial_guess:
      retrieval_method: LoopDetection
      retriever_parameter_server:
        # Unit: Meter, Degree.
        position_x: 0
        position_y: 0
        position_z: 0.5
        rotation_roll: 0
        rotation_pitch: 0
        rotation_yaw: 0
        normalize_rotations: true
      wait_for_tf_duration: 0.1
    map_rendering:
      time_period: 3.0
    pose_prior:
      propagation_method: RosTf
    result:
      enforce_map_gravity_alignment: true
  loop_detection:
    enable_on_launch: false
  mapping:
    build_sliding_map: true
    detect_dynamic_points: true
    dynamic_points_detection:
      add_debug_descriptors: false
      alpha: 0.95
      beta: 0.75
      eps: 0.0001
      eps_a: 0.1
      eps_d: 0.1
      max_angle_between_spherical_neighbors: 0.01
      max_dynamic_probability: 0.9
      prior_static: 0.8
    enable_on_launch: false
    filters_file_name: global_map_filters.yaml
    load_map_on_launch_file_path: ""
    loop_detection:
      run_submaps_loop_detector: false
      submaps:
        icp_config_file_name: icp_loops.yaml
        max_distance_between_candidates: 15.0
        min_overlap_for_claiming_loop: 0.3
        sqrt_information_diagonal:
          - 2.5
          - 2.5
    max_distance_overlapping_points: 0.04
    max_overlap: 1.0
    max_sensor_range: 100.0
    remove_dynamic_points_after_extending_map: true
    submaps:
      broadcast_submaps_tf: true
      icp_sqrt_information_diagonal:
        - 1.0
        - 1.0
      max_distance_robot_to_submap: 10.0
      min_number_of_points_for_registration: 30000
      min_overlap_to_submap: 0.2
      neighbor_maps_spatial_tolerance: 5.0
      run_maintenance_against_neighbor_maps: false
      submap_filters_file_name: submap_filters.yaml
      submap_frame_id_prefix: slam_submap
  publishers:
    global_map:
      latch: true
      queue_size: 1
      topic: global_map # This interface is used in a PoC. Please contact Remo if you need to change it.
    initial_guess:
      latch: true
      queue_size: 1
      topic: initial_guess
    input_point_cloud_matched:
      latch: false
      queue_size: 1
      topic: input_point_cloud_matched
    map_dynamic:
      latch: false
      queue_size: 1
      topic: map_dynamic
    map_pose:
      latch: false
      queue_size: 1
      topic: map_pose
    map_static:
      latch: false
      queue_size: 1
      topic: map_static
    node_state:
      frequency: 10.0
      latch: false
      queue_size: 1
      topic: node_state # This interface is used in a PoC. Please contact Remo if you need to change it.
    pose_prior:
      latch: false
      queue_size: 1
      topic: pose_prior
    reset_notification:
      latch: false
      queue_size: 1
      topic: reset_notification
    robot_pose_in_active_submap:
      latch: false
      queue_size: 1
      topic: pose_in_active_submap
    robot_pose_in_map:
      latch: false
      queue_size: 1
      topic: pose
    robot_pose_visualizable:
      latch: true
      queue_size: 1
      topic: pose_visualizable
    toggle_localization_notification:
      latch: false
      queue_size: 1
      topic: toggle_localization_notification
    toggle_loop_detection_notification:
      latch: false
      queue_size: 1
      topic: toggle_loop_detection_notification
    toggle_mapping_notification:
      latch: false
      queue_size: 1
      topic: toggle_mapping_notification
    tf_submap_to_map:
      frequency: 10
  robustness:
    consecutive_localization_fails_before_reset: 0
    localization_correction_position_threshold: 0.2
    localization_correction_rotation_threshold: 0.1
  servers:
    clear_initial_guess:
      service: clear_initial_guess
    clear_map:
      service: clear_map
    clear_place_recognition_descriptors:
      service: clear_place_recognition_descriptors
    create_place_recognition_descriptor:
      service: create_place_recognition_descriptor
    load_map_from_file:
      service: load_map_from_file
    publish_map:
      service: publish_map # This interface is used in a PoC. Please contact Remo if you need to change it.
    reset:
      service: reset
    save_map_to_file:
      service: save_map_to_file
    set_initial_guess_method:
      service: set_initial_guess_method
    toggle_localization:
      service: toggle_localization
    toggle_loop_detection:
      service: toggle_loop_detection
    toggle_mapping:
      service: toggle_mapping
  simulated_localizer:
    input_data_topic: /point_cloud_filter/lidar_depth_camera/point_cloud_filtered
    localization_trigger_method: 1
    overwrite_sim_with_data_stamp: false
    position_variance: 0.0
  subscribers:
    input_initial_guess:
      queue_size: 1
      topic: /slam_supervisor/input_initial_guess
    input_point_cloud:
      queue_size: 1
      topic: /point_cloud_filter/lidar_depth_camera/point_cloud_filtered
  tf_transforms:
    sampling_time: 0.5
    wait_time: 0.05
  threading:
    run_mapping_in_main_thread: false
slam_gui:
  presenter:
    engage_autostart_service: "/slam_gui/engage_autostart"
    frame_connector_reset_service: /gui/localization_manager/slam_connector/reset
    initial_guess_clear_service: /gui/slam/clear_initial_guess
    load_map_on_launch_file_path_param: /slam/mapping/load_map_on_launch_file_path
    load_map_service: /gui/slam/load_map_from_file
    map_frame: map
    node_state_topic: /slam/node_state
    odometry_frame: odom
    period_node_status_check: 1.0
    publish_map_service: /slam/publish_map
    reset_service: /gui/slam/reset
    reset_slam_supervisor_service: "/gui/slam_supervisor/reset"
    save_map_service: /gui/slam/save_map_to_file
    set_initial_guess_method_service: /gui/slam/set_initial_guess_method
    set_autosaved_map_prefix_service: "/slam_supervisor/set_autosaved_map_prefix"
    supervision_state_topic: /slam_supervisor/map_saving/node_state
    timeout_clock_synchronization: 0.5
    timeout_service_existence: 0.2
    toggle_localization_service: /gui/slam/toggle_localization
    toggle_loop_detection_service: /gui/slam/toggle_loop_detection
    toggle_mapping_service: /gui/slam/toggle_mapping
    toggle_slam_supervisor_service: "/slam_supervisor/toggle_slam_supervisors"
  view:
    message_show_time: 1.5
    widget_title: Localization and Mapping
slam_map_loader:
  config_files_folder: ""
  coordinate_frames:
    intermediate_frame: odom
    robot_frame: base
    tracked_frame: map
    world_frame: world
  frames:
    map: map
    odometry: odom
    robot: base
  global_localization:
    database:
      cull_out_old_data: false
      max_database_length: 10000
      max_num_of_kd_tree_leaves: 20
      num_of_candidates_from_tree: 3
      tree_construction_period: 1
    descriptor_generation:
      lidar_height: 0.55
      max_distance_radius: 40
      min_num_of_points_for_descriptor: 1000
      num_rings: 40
      num_sectors: 60
    mapping:
      manual_descriptor_creation_min_delta_translation_distance: 0.2
      max_delta_translation_distance_for_replacement: 0.1
      min_delta_pitch_angle: 30
      min_delta_roll_angle: 30
      min_delta_translation_distance: 1
      min_descriptor_distance_for_replacement: 0.5
    search_and_match:
      max_allowed_descriptor_distance: 0.5
      search_ratio: 0.1
  localization:
    enable_on_launch: false
    icp:
      config_file_name: icp.yaml
      min_input_point_cloud_size: 500
      min_map_size: 500
      min_overlap: 0.2
    initial_guess:
      retrieval_method: RosTopic
      wait_for_tf_duration: 0.1
    map_rendering:
      time_period: 3.0
    pose_prior:
      propagation_method: RosTf
    result:
      enforce_map_gravity_alignment: true
  loop_detection:
    enable_on_launch: false
  mapping:
    build_sliding_map: true
    detect_dynamic_points: true
    dynamic_points_detection:
      add_debug_descriptors: false
      alpha: 0.95
      beta: 0.75
      eps: 0.0001
      eps_a: 0.1
      eps_d: 0.1
      max_angle_between_spherical_neighbors: 0.01
      max_dynamic_probability: 0.9
      prior_static: 0.8
    enable_on_launch: false
    filters_file_name: global_map_filters.yaml
    load_map_on_launch_file_path: ""
    loop_detection:
      run_submaps_loop_detector: false
      submaps:
        icp_config_file_name: icp_loops.yaml
        max_distance_between_candidates: 15.0
        min_overlap_for_claiming_loop: 0.3
        sqrt_information_diagonal:
          - 2.5
          - 2.5
    max_distance_overlapping_points: 0.04
    max_overlap: 1.0
    max_sensor_range: 100.0
    remove_dynamic_points_after_extending_map: true
    submaps:
      broadcast_submaps_tf: true
      icp_sqrt_information_diagonal:
        - 1.0
        - 1.0
      max_distance_robot_to_submap: 10.0
      min_number_of_points_for_registration: 30000
      min_overlap_to_submap: 0.2
      neighbor_maps_spatial_tolerance: 5.0
      run_maintenance_against_neighbor_maps: false
      submap_filters_file_name: submap_filters.yaml
      submap_frame_id_prefix: slam_submap
  publishers:
    global_map:
      latch: true
      queue_size: 1
      topic: global_map
    initial_guess:
      latch: true
      queue_size: 1
      topic: initial_guess
    input_point_cloud_matched:
      latch: false
      queue_size: 1
      topic: input_point_cloud_matched
    map_dynamic:
      latch: false
      queue_size: 1
      topic: map_dynamic
    map_pose:
      enable: true
      latch: false
      queue_size: 1
      topic: map_pose
    map_static:
      latch: false
      queue_size: 1
      topic: map_static
    node_state:
      frequency: 10.0
      latch: false
      queue_size: 1
      topic: node_state
    pose_prior:
      latch: false
      queue_size: 1
      topic: pose_prior
    reset_notification:
      latch: false
      queue_size: 1
      topic: reset_notification
    robot_pose_in_active_submap:
      enable: true
      latch: false
      queue_size: 1
      topic: pose_in_active_submap
    robot_pose_in_map:
      enable: true
      latch: false
      queue_size: 1
      topic: pose
    robot_pose_visualizable:
      latch: true
      queue_size: 1
      topic: pose_visualizable
    toggle_localization_notification:
      latch: false
      queue_size: 1
      topic: toggle_localization_notification
    toggle_loop_detection_notification:
      latch: false
      queue_size: 1
      topic: toggle_loop_detection_notification
    toggle_mapping_notification:
      latch: false
      queue_size: 1
      topic: toggle_mapping_notification
    tf_submap_to_map:
      frequency: 10
  robustness:
    consecutive_localization_fails_before_reset: 0
    localization_correction_position_threshold: 0.2
    localization_correction_rotation_threshold: 0.1
  servers:
    clear_initial_guess:
      service: clear_initial_guess
    clear_map:
      service: clear_map
    clear_place_recognition_descriptors:
      service: clear_place_recognition_descriptors
    create_place_recognition_descriptor:
      service: create_place_recognition_descriptor
    load_map_from_file:
      service: load_map_from_file
    publish_map:
      service: publish_map
    reset:
      service: reset
    save_map_to_file:
      service: save_map_to_file
    set_initial_guess_method:
      service: set_initial_guess_method
    toggle_localization:
      service: toggle_localization
    toggle_loop_detection:
      service: toggle_loop_detection
    toggle_mapping:
      service: toggle_mapping
  subscribers:
    initial_guess:
      queue_size: 1
      topic: initial_guess
    input_point_cloud:
      queue_size: 1
      topic: input_point_cloud
  tf_transforms:
    sampling_time: 0.5
    wait_time: 0.05
  threading:
    run_mapping_in_main_thread: false
slam_maps_transformer:
  frame_id: map
  max_point_distance: 0.1
  publishers:
    point_cloud:
      topic: map
      queue_size: 1
      latch: true
    point_cloud_transformed:
      topic: map_transformed
      queue_size: 1
      latch: true
    points_in_plane_xy:
      topic: points_in_plane_xy
      queue_size: 1
      latch: true
    points_in_plane_xz:
      topic: points_in_plane_xz
      queue_size: 1
      latch: true
    points_in_plane_yz:
      topic: points_in_plane_yz
      queue_size: 1
      latch: true
    state:
      topic: state
      queue_size: 1
      latch: true
  servers:
    load_point_cloud:
      service: load_point_cloud
    save_transformed_point_cloud:
      service: save_transformed_point_cloud
    select_plane:
      service: select_plane
    clear_plane:
      service: clear_plane
    flip:
      service: flip
  subscribers:
    point_in_plane:
      topic: /clicked_point
      queue_size: 1
    transformation_offset:
      topic: transformation_offset
      queue_size: 1
  update_rate: 10.0
slam_supervisor:
  publishers:
    node_state:
      latch: false
      queue_size: 1
      topic: /slam_supervisor/map_saving/node_state
  anymal_state_presenter:
    state_estimator_state_publishing_period: 0.025
    state_estimator_state_topic: /state_estimator/anymal_state_throttle
    wait_time_state_estimator_state_update: 0.5
  slam_presenter:
    create_place_recognition_descriptor_service: /slam/create_place_recognition_descriptor
    frame_connector_reset_service: /localization_manager/slam_connector/reset
    initial_guess_input_topic: /slam_supervisor/input_initial_guess
    initial_guess_clear_service: /slam/clear_initial_guess
    load_map_on_launch_file_seed_param: /slam/mapping/load_map_on_launch_file
    load_map_on_launch_file_path_param: /slam/mapping/load_map_on_launch_file_path
    load_map_service: /slam/load_map_from_file
    map_frame: map
    node_state_publishing_period: 0.1
    node_state_topic: /slam/node_state
    odometry_frame: odom
    reset_service: /slam/reset
    save_map_service: /slam/save_map_to_file
    set_initial_guess_method_service: /slam/set_initial_guess_method
    slam_pose_topic: /slam/pose
    timeout_service_existence: 0.2
    toggle_localization_service: /slam/toggle_localization
    toggle_loop_detection_service: /slam/toggle_loop_detection
    toggle_mapping_service: /slam/toggle_mapping
    wait_time_node_state_update: 1.5
    wait_time_localization_convergence: 5.0
  supervisors:
    manual_initial_guess:
      enabled: true
    interaction_marker:
      enabled: true
      input_point_cloud_topic: "/point_cloud_filter/lidar_depth_camera/point_cloud_filtered"
      marker_frame_id: "marker"
      timer_period: 0.01
      min_period_marker_frame_update: 0.005
    localization_health:
      enabled: false
    map_saving:
      angular_velocity_threshold: 0.2
      autosave_on_stairs: true
      autosave_prefix: autosaved_map_
      enabled: true
      linear_velocity_threshold: 0.2
      map_size_difference_threshold: 50000
      map_size_threshold: 100000
      maximum_number_of_autosaved_maps: 5
      message_wait_time_out: 0.25
      node_state_publishing_period: 0.1
      robust_velocity_time_threshold: 3
      stair_climbing_time_threshold: 20
      supervision_period: 30.0
      sync_timeout_threshold: 0.5
      valid_motion_states: ["walk", "stand", "square_up", "torso_control", "_stand_on_stairs"]
      timeout_service_existence: 0.2
    mission_environment:
      autoinit_slam_in_prebuilt_map_upon_launch: true
      enabled: true
    mission_execution:
      enabled: true
    operation_mode_switching:
      autoinit_expected_num_consecutive_localization_success: 5
      disable_when_estimator_is_degraded: true
      enabled: true
spawn_anymal:
  description_param_name: anymal_description
  init_pose:
    x: 0.0
    y: 0.0
    z: 0.8
    R: 0.0
    P: 0.0
    Y: 0.0
  model: anymal
stack_launcher:
  nodes:
    add_noise_to_description:
      roslaunch:
        name: add_noise_to_description
        enabled: false
        node_type: add_noise_to_description.py
        output: screen
        package: anymal_gazebo
    collision_filter:
      roslaunch:
        name: collision_filter
        node_type: collision_filter_ros_node
        output: screen
        package: collision_filter_ros
    motion_control_manager:
      preprocessed_params:
        parameters_file_path:
          key: /stair_climbing/parameters_file_path
          value: $(rospack find anymal_d)/config/non_ros/motion_control/free_gait/stair_climbing_parameters.yaml
      roslaunch:
        cpuset: high_prio
        name: motion_control_manager
        node_type: anymal_motion_control_manager_node
        output: screen
        package: anymal_motion_control_manager
    anymal_low_level_controller:
      roslaunch:
        cpuset: io_prio
        name: anymal_low_level_controller
        node_type: anymal_low_level_controller_node
        output: screen
        package: anymal_low_level_controller
        respawn: true
    anymal_state_monitor:
      roslaunch:
        name: anymal_state_monitor_node
        namespace: anymal_state_monitor
        node_type: anymal_state_monitor
        output: screen
        package: anymal_state_monitor
    anymal_state_relay:
      roslaunch:
        args: /state_estimator/anymal_state_throttle /state_estimator/anymal_state_throttle_op
        name: anymal_state
        namespace: topic_relay
        node_type: relay
        output: screen
        package: topic_tools
    anymal_tf_publisher:
      roslaunch:
        name: anymal_tf_publisher
        namespace: anymal_tf_publisher
        node_type: anymal_tf_publisher_node
        output: screen
        package: anymal_tf_publisher
    behavior_engine:
      roslaunch:
        name: behavior_engine
        node_type: behavior_plugin_runner_node
        output: screen
        package: behavior_plugin_runner
        respawn: true
        respawn_delay: 5.0
    chrony_monitor_npc:
      roslaunch:
        name: chrony_monitor_npc
        node_type: chrony_monitor
        output: log
        package: system_monitor
        respawn: true
    chrony_monitor_opc:
      roslaunch:
        name: chrony_monitor_opc
        node_type: chrony_monitor
        output: log
        package: system_monitor
    control_lease_registry:
      roslaunch:
        name: control_lease_registry
        node_type: anymal_control_lease_registry_node
        output: log
        package: anymal_control_lease_registry
        respawn: true
    cpu_monitor_lpc:
      roslaunch:
        name: cpu_monitor_lpc
        node_type: cpu_monitor
        output: log
        package: system_monitor
        respawn: true
    cpu_monitor_npc:
      roslaunch:
        name: cpu_monitor_npc
        node_type: cpu_monitor
        output: log
        package: system_monitor
        respawn: true
    depth_camera_front_lower_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_front_lower/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_front_lower
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_front_lower_nodelet_manager:
      roslaunch: &depth_camera_nodelet_manager
        args: manager
        name: nodelet_manager
        namespace: depth_camera_front_lower
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_front_upper_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_front_upper/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_front_upper
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_front_upper_nodelet_manager:
      roslaunch:
        <<: *depth_camera_nodelet_manager
        namespace: depth_camera_front_upper
    depth_camera_left_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_left/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_left
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_left_nodelet_manager:
      roslaunch:
        <<: *depth_camera_nodelet_manager
        namespace: depth_camera_left
    depth_camera_rear_lower_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_rear_lower/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_rear_lower
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_rear_lower_nodelet_manager:
      roslaunch:
        <<: *depth_camera_nodelet_manager
        namespace: depth_camera_rear_lower
    depth_camera_rear_upper_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_rear_upper/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_rear_upper
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_rear_upper_nodelet_manager:
      roslaunch:
        <<: *depth_camera_nodelet_manager
        namespace: depth_camera_rear_upper
    depth_camera_right_driver:
      preprocessed_params:
        json_file_path:
          key: /depth_camera_right/driver/json_file_path
          value: $(rospack find anymal_realsense)/config/medium_density_preset.json
      roslaunch:
        args: load any_realsense2_camera/RealSenseNodeFactory nodelet_manager
        name: driver
        namespace: depth_camera_right
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_right_nodelet_manager:
      roslaunch:
        <<: *depth_camera_nodelet_manager
        namespace: depth_camera_right
    depth_image_plane_detector_node_definition_template:
      roslaunch: &depth_image_plane_detector_node_template
        name: plane_detector
        namespace: depth_camera
        node_type: depth_image_filters_ros_node
        output: screen
        package: depth_image_filters_ros
    depth_camera_front_lower_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_front_lower
    depth_camera_front_upper_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_front_upper
    depth_camera_left_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_left
    depth_camera_rear_lower_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_rear_lower
    depth_camera_rear_upper_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_rear_upper
    depth_camera_right_plane_detector:
      roslaunch:
        <<: *depth_image_plane_detector_node_template
        namespace: depth_camera_right
    depth_camera_relay_template: &depth_camera_relay_template
      name: depth_camera_relay
      namespace: depth_camera
      node_type: relay
      output: screen
      package: topic_tools
      args: 'input_topic input_topic_relay'
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_lower:
      roslaunch: &depth_image_relay_aligned_depth_to_depth_template
        <<: *depth_camera_relay_template
        name: depth_camera_depth_aligned_to_color_to_depth_relay
        namespace: depth_camera_front_lower
        args: 'aligned_depth_to_color/image_raw depth/image_rect_raw'
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_upper:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_template
        namespace: depth_camera_front_upper
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_left:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_template
        namespace: depth_camera_left
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_template
        namespace: depth_camera_rear_lower
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_template
        namespace: depth_camera_rear_upper
    depth_camera_depth_aligned_to_color_to_depth_relay_sim_right:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_template
        namespace: depth_camera_right
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_lower:
      roslaunch: &depth_camera_relay_depth_to_aligned_depth_to_infra1
        <<: *depth_camera_relay_template
        name: depth_camera_depth_aligned_to_infra1_topic_relay_sim
        namespace: depth_camera_front_lower
        args: 'depth/image_rect_raw aligned_depth_to_infra1/image_raw'
    depth_camera_infra1_info_topic_relay_sim_front_lower:
      roslaunch: &depth_camera_relay_color_to_infra1_info
        <<: *depth_camera_relay_template
        name: depth_camera_infra1_info_topic_relay_sim
        namespace: depth_camera_front_lower
        args: 'color/camera_info infra1/camera_info'
    depth_camera_infra1_topic_relay_sim_front_lower:
      roslaunch: &depth_camera_relay_color_to_infra1
        <<: *depth_camera_relay_template
        name: depth_camera_infra1_topic_relay_sim
        namespace: depth_camera_front_lower
        args: 'color/image_raw infra1/image_rect_raw'
    depth_camera_infra1_compressed_topic_relay_sim_front_lower:
      roslaunch: &depth_camera_relay_color_compressed_to_infra1_compressed
        <<: *depth_camera_relay_template
        name: depth_camera_infra1_compressed_topic_relay_sim
        namespace: depth_camera_front_lower
        args: 'color/image_raw/compressed infra1/image_rect_raw/compressed'
    depth_image_camera_info_relay_sim_front_lower:
      roslaunch: &depth_image_relay_aligned_depth_to_depth_info
        <<: *depth_camera_relay_template
        name: depth_image_camera_info_relay_sim
        namespace: depth_camera_front_lower
        args: 'aligned_depth_to_color/camera_info depth/camera_info'
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_upper:
      roslaunch:
        <<: *depth_camera_relay_depth_to_aligned_depth_to_infra1
        namespace: depth_camera_front_upper
    depth_camera_infra1_info_topic_relay_sim_front_upper:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1_info
        namespace: depth_camera_front_upper
    depth_camera_infra1_topic_relay_sim_front_upper:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1
        namespace: depth_camera_front_upper
    depth_camera_infra1_compressed_topic_relay_sim_front_upper:
      roslaunch:
        <<: *depth_camera_relay_color_compressed_to_infra1_compressed
        namespace: depth_camera_front_upper
    depth_image_camera_info_relay_sim_front_upper:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_info
        namespace: depth_camera_front_upper
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_left:
      roslaunch:
        <<: *depth_camera_relay_depth_to_aligned_depth_to_infra1
        namespace: depth_camera_left
    depth_camera_infra1_info_topic_relay_sim_left:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1_info
        namespace: depth_camera_left
    depth_camera_infra1_topic_relay_sim_left:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1
        namespace: depth_camera_left
    depth_camera_infra1_compressed_topic_relay_sim_left:
      roslaunch:
        <<: *depth_camera_relay_color_compressed_to_infra1_compressed
        namespace: depth_camera_left
    depth_image_camera_info_relay_sim_left:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_info
        namespace: depth_camera_left
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_camera_relay_depth_to_aligned_depth_to_infra1
        namespace: depth_camera_rear_lower
    depth_camera_infra1_info_topic_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1_info
        namespace: depth_camera_rear_lower
    depth_camera_infra1_topic_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1
        namespace: depth_camera_rear_lower
    depth_camera_infra1_compressed_topic_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_camera_relay_color_compressed_to_infra1_compressed
        namespace: depth_camera_rear_lower
    depth_image_camera_info_relay_sim_rear_lower:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_info
        namespace: depth_camera_rear_lower
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_camera_relay_depth_to_aligned_depth_to_infra1
        namespace: depth_camera_rear_upper
    depth_camera_infra1_info_topic_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1_info
        namespace: depth_camera_rear_upper
    depth_camera_infra1_topic_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1
        namespace: depth_camera_rear_upper
    depth_camera_infra1_compressed_topic_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_camera_relay_color_compressed_to_infra1_compressed
        namespace: depth_camera_rear_upper
    depth_image_camera_info_relay_sim_rear_upper:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_info
        namespace: depth_camera_rear_upper
    depth_camera_depth_aligned_to_infra1_topic_relay_sim_right:
      roslaunch:
        <<: *depth_camera_relay_depth_to_aligned_depth_to_infra1
        namespace: depth_camera_right
    depth_camera_infra1_info_topic_relay_sim_right:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1_info
        namespace: depth_camera_right
    depth_camera_infra1_topic_relay_sim_right:
      roslaunch:
        <<: *depth_camera_relay_color_to_infra1
        namespace: depth_camera_right
    depth_camera_infra1_compressed_topic_relay_sim_right:
      roslaunch:
        <<: *depth_camera_relay_color_compressed_to_infra1_compressed
        namespace: depth_camera_right
    depth_image_camera_info_relay_sim_right:
      roslaunch:
        <<: *depth_image_relay_aligned_depth_to_depth_info
        namespace: depth_camera_right
    depth_camera_throttle_template:
      roslaunch: &depth_camera_throttle_template
        args: messages input_topic frequency_placeholder output_topic
        name: name_placeholder
        node_type: throttle
        output: screen
        package: topic_tools
    depth_camera_point_cloud_self_filter_template: &depth_camera_point_cloud_self_filter_template
      preprocessed_params:
        config_files_folder: &depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera/point_cloud_self_filter/config_files_folder
          value: $(rospack find anymal_d)/config/non_ros/perception/point_cloud_filter
      roslaunch: &depth_camera_point_cloud_self_filter_roslaunch
        name: point_cloud_self_filter
        namespace: depth_camera
        node_type: point_cloud_self_filter_ros_node
        output: screen
        package: point_cloud_self_filter_ros
    depth_camera_front_lower_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_front_lower/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_front_lower
    depth_camera_front_upper_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_front_upper/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_front_upper
    depth_camera_left_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_left/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_left
    depth_camera_rear_lower_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_rear_lower/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_rear_lower
    depth_camera_rear_upper_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_rear_upper/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_rear_upper
    depth_camera_right_point_cloud_self_filter:
      preprocessed_params:
        config_files_folder:
          <<: *depth_camera_point_cloud_self_filter_preprocessed_param_config_folder
          key: /depth_camera_right/point_cloud_self_filter/config_files_folder
      roslaunch:
        <<: *depth_camera_point_cloud_self_filter_roslaunch
        namespace: depth_camera_right
    depth_image_to_point_cloud_template:
      roslaunch: &depth_image_to_point_cloud_node_template
        args: load depth_image_proc/point_cloud_xyz nodelet_manager
        name: depth_image_to_point_cloud_converter
        namespace: depth_camera
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    depth_camera_front_lower_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_front_lower
        remap_args:
          camera_info:
            from: /depth_camera_front_lower/depth/camera_info
            to: /depth_camera_front_lower/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_front_lower/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_front_lower/depth/color/points
    depth_camera_front_upper_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_front_upper
        remap_args:
          camera_info:
            from: /depth_camera_front_upper/depth/camera_info
            to: /depth_camera_front_upper/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_front_upper/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_front_upper/depth/color/points
    depth_camera_left_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_left
        remap_args:
          camera_info:
            from: /depth_camera_left/depth/camera_info
            to: /depth_camera_left/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_left/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_left/depth/color/points
    depth_camera_rear_lower_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_rear_lower
        remap_args:
          camera_info:
            from: /depth_camera_rear_lower/depth/camera_info
            to: /depth_camera_rear_lower/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_rear_lower/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_rear_lower/depth/color/points
    depth_camera_rear_upper_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_rear_upper
        remap_args:
          camera_info:
            from: /depth_camera_rear_upper/depth/camera_info
            to: /depth_camera_rear_upper/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_rear_upper/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_rear_upper/depth/color/points
    depth_camera_right_depth_image_to_point_cloud:
      roslaunch:
        <<: *depth_image_to_point_cloud_node_template
        namespace: depth_camera_right
        remap_args:
          camera_info:
            from: /depth_camera_right/depth/camera_info
            to: /depth_camera_right/depth/camera_info
          image_rect:
            from: image_rect
            to: /depth_camera_right/depth/image_rect_raw
          points:
            from: points
            to: /depth_camera_right/depth/color/points
    disk_monitor_lpc:
      roslaunch:
        name: disk_monitor_lpc
        node_type: disk_monitor
        output: log
        package: system_monitor
        respawn: true
    disk_monitor_npc:
      roslaunch:
        name: disk_monitor_npc
        node_type: disk_monitor
        output: log
        package: system_monitor
        respawn: true
    dodgeball:
      roslaunch:
        name: dodgeball
        node_type: dodgeball_node
        output: screen
        package: dodgeball_gazebo
    dysfunction_state_publisher:
      roslaunch:
        args: "pub -l /dysfunction/state any_msgs/State '{stamp: {secs: 0, nsecs: 0}, is_ok: true}'"
        name: publish_dysfunction_state
        node_type: rostopic
        output: screen
        package: rostopic
    elevation_mapping:
      roslaunch:
        name: elevation_mapping
        node_type: elevation_mapping
        output: screen
        package: elevation_mapping
    emulate_llc_active_state:
      roslaunch:
        name: emulate_llc_active_state
        enabled: false
        args: "pub -l /anymal_low_level_controller/current_active_state anymal_low_level_controller_msgs/ActiveState '{ state: 6}'"
        node_type: rostopic
        package: rostopic
    emulate_llc_life_cycle_state:
      roslaunch:
        name: emulate_llc_life_cycle_state
        enabled: false
        args: "pub -l /anymal_low_level_controller/current_life_cycle_state anymal_low_level_controller_msgs/LifeCycleState '{ state: 3}'"
        node_type: rostopic
        package: rostopic
    emulate_lidar_status:
      roslaunch:
        name: emulate_lidar_status
        enabled: false
        args: "pub -l /lidar/interface_status any_velodyne_msgs/VelodyneInterfaceStatus '{ interface_status: 0}'"
        node_type: rostopic
        package: rostopic
    environment_loader:
      preprocessed_params:
        roslaunch_args:
          key: /stack_launcher/nodes/environment_loader/roslaunch/args
      roslaunch:
        name: environment_loader
        node_type: environment_loader
        output: screen
        package: environment_loader
    environment_visualizer:
      roslaunch:
        name: environment_visualizer
        node_type: environment_visualizer_node
        output: screen
        package: environment_visualizer
    epson_driver:
      roslaunch:
        cpuset: io_prio
        name: epson_driver
        node_type: epson_driver_node
        output: screen
        package: epson_driver
    free_gait_action_loader:
      roslaunch:
        name: free_gait_action_loader
        node_type: action_loader.py
        output: screen
        package: free_gait_action_loader
    gazebo:  # Even though gazebo_wrapper would be a better name, we need to keep this name for backwards compatibility of the model path.
      preprocessed_params:
        roslaunch_args:
          key: /stack_launcher/nodes/gazebo/roslaunch/args
        roslaunch_env_args_gazebo_model_path:
          key: /stack_launcher/nodes/gazebo/roslaunch/env_args/gazebo_model_path/value
      roslaunch:
        env_args:
          gazebo_model_path:
            key: DEPRECATED__GAZEBO_MODEL_PATH  # This environment argument is deprecated (but the value of the preprocessed argument is still supported).
            value: ""
        name: gazebo_wrapper
        node_type: gazebo_wrapper
        output: screen
        package: gazebo_wrapper
        respawn: true
    gazebo_gui:
      roslaunch:
        name: gazebo_gui
        node_type: gzclient
        output: screen
        package: gazebo_ros
        respawn: false
    ghost_desired_tf_publisher:
      roslaunch:
        name: ghost_desired_tf_publisher
        namespace: ghost_desired
        node_type: anymal_tf_publisher_node
        output: screen
        package: anymal_tf_publisher
    ghost_measured_tf_publisher:
      roslaunch:
        name: ghost_measured_tf_publisher
        namespace: ghost_measured
        node_type: anymal_tf_publisher_node
        output: screen
        package: anymal_tf_publisher
    inspection_recording_manager_lpc:
      roslaunch:
        name: inspection_recording_manager_lpc
        node_type: inspection_recording_manager_node
        output: screen
        package: inspection_recording_manager
        respawn: true
    inspection_recording_manager_npc:
      roslaunch:
        name: inspection_recording_manager_npc
        node_type: inspection_recording_manager_node
        output: screen
        package: inspection_recording_manager
        respawn: true
    interaction_marker:
      roslaunch:
        name: interaction_marker
        node_type: interaction_marker_node
        output: screen
        package: interaction_marker
        remap_args:
          tf:
            from: /tf
            to: /tf_opc
    joy_manager:
      roslaunch:
        name: joy_manager
        node_type: joy_manager_node
        output: screen
        package: joy_manager
    kernel_monitor_lpc:
      roslaunch:
        name: kernel_monitor_lpc
        node_type: kernel_monitor_node.py
        output: log
        package: kernel_monitor
        respawn: true
    kernel_monitor_npc:
      roslaunch:
        name: kernel_monitor_npc
        node_type: kernel_monitor_node.py
        output: log
        package: kernel_monitor
        respawn: true
    lidar_nodelet_manager:
      roslaunch:
        args: manager
        name: lidar_nodelet_manager
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          packets:
            from: /velodyne_packets
            to: /lidar/packets
          point_cloud:
            from: /velodyne_points
            to: /lidar/point_cloud
    lidar_nodelet_cloud:
      preprocessed_params:
        calibration:
          key: /lidar_nodelet_cloud/calibration
          value: $(rospack find anymal_velodyne)/calib/VLP16db_example.yaml
      roslaunch:
        args: load any_velodyne_pointcloud/TransformNodelet lidar_nodelet_manager
        name: lidar_nodelet_cloud
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    lidar_nodelet_driver:
      roslaunch:
        args: load any_velodyne_driver/DriverNodelet lidar_nodelet_manager
        name: lidar_nodelet_driver
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    lidar_time_synchronizer:
      roslaunch:
        name: lidar_time_synchronizer
        node_type: any_velodyne_time_sync_node
        output: screen
        package: any_velodyne_time_sync
        remap_args:
          time_sync:
            from: /lidar_time_synchronizer/time_sync_status
            to: /lidar/time_sync_status
    load_anymal_description:
      finite: true
      preprocessed_params:
        xacro_file:
          key: /load_anymal_description/xacro_file
          value: $(rospack find anymal_d)/urdf/anymal_d.urdf.xacro
      roslaunch:
        name: load_anymal_description
        node_type: parameterized_xacro.py
        output: screen
        package: parameterized_xacro
    load_dodgeball_description:
      finite: true
      preprocessed_params:
        xacro_file:
          key: /load_dodgeball_description/xacro_file
          value: $(rospack find dodgeball_gazebo)/urdf/dodgeball.urdf.xacro
      roslaunch:
        name: load_dodgeball_description
        node_type: parameterized_xacro.py
        output: screen
        package: parameterized_xacro
    localization_manager:
      roslaunch:
        name: localization_manager
        node_type: localization_manager_ros_node
        output: screen
        package: localization_manager_ros
    memory_monitor_lpc:
      roslaunch:
        name: memory_monitor_lpc
        node_type: memory_monitor
        output: log
        package: system_monitor
        respawn: true
    memory_monitor_npc:
      roslaunch:
        name: memory_monitor_npc
        node_type: memory_monitor
        output: log
        package: system_monitor
        respawn: true
    monitor_network_llpc:
      roslaunch:
        name: monitor_network_llpc
        node_type: monitor_network_node
        output: screen
        package: monitor_network
    monitor_network_op:
      roslaunch:
        name: monitor_network_op
        node_type: monitor_network_node
        output: screen
        package: monitor_network
    near_field_mapping_preset_selector:
      roslaunch:
        name: near_field_mapping_preset_selector
        node_type: near_field_mapping_preset_selector_node
        output: screen
        package: near_field_mapping_preset_selector
    operational_mode_manager:
      roslaunch:
        name: operational_mode_manager
        node_type: operational_mode_manager_ros_node
        output: screen
        package: operational_mode_manager_ros
        respawn: true
    path_planning_and_following:
      roslaunch:
        name: path_planning_and_following
        node_type: navigation_manager_ros_node
        output: screen
        package: navigation_manager_ros
        respawn: true
    network_monitor_lpc:
      roslaunch:
        name: network_monitor_lpc
        node_type: network_monitor
        output: log
        package: system_monitor
        respawn: true
    network_monitor_npc:
      roslaunch:
        name: network_monitor_npc
        node_type: network_monitor
        output: log
        package: system_monitor
        respawn: true
    network_monitor_opc:
      roslaunch:
        name: network_monitor_opc
        node_type: network_monitor
        output: log
        package: system_monitor
    notification_relay:
      roslaunch:
        args: /notification /notification_op
        name: notification
        namespace: topic_relay
        node_type: relay
        output: screen
        package: topic_tools
    pdb_driver:
      roslaunch:
        name: pdb_driver
        node_type: pdb_driver_node
        output: screen
        package: pdb_driver
    pdb_sim:
      roslaunch:
        name: pdb_sim
        node_type: pdb_sim_node
        output: screen
        package: pdb_sim
    pharos_map_editor:
      roslaunch:
        name: pharos_map_editor
        node_type: pharos_map_editor_ros_node
        output: screen
        package: pharos_map_editor_ros
    play_audio:
      roslaunch:
        name: play_audio
        namespace: audio
        node_type: play_audio_node
        output: screen
        package: audio_utils_ros
    point_cloud_filter:
      preprocessed_params:
        config_files_folder:
          key: /point_cloud_filter/filter_and_merger/config_files_folder
          value: $(rospack find anymal_d)/config/non_ros/perception/point_cloud_filter
      roslaunch:
        name: filter_and_merger
        namespace: point_cloud_filter
        node_type: point_cloud_processor_node
        output: screen
        package: point_cloud_processor
    point_cloud_odometry:
      preprocessed_params:
        config_files_folder:
          key: /point_cloud_odometry/config_files_folder
          value: $(rospack find anymal_d)/config/non_ros/perception/point_cloud_odometry
      roslaunch:
        name: point_cloud_odometry
        node_type: icp_tools_global_mapping_node
        output: screen
        package: icp_tools_global_mapping
    point_cloud_odometry_sim:
      roslaunch:
        name: point_cloud_odometry
        node_type: simulated_localizer
        output: screen
        package: slam_simulation
    report_relay:
      roslaunch:
        args: /report_writer/report_light /report_writer/report_light_op
        name: report
        namespace: topic_relay
        node_type: relay
        output: screen
        package: topic_tools
    report_writer:
      preprocessed_params:
        logo_path:
          key: /report_writer/logo_path
          value: $(rospack find report_writer)/resources/anybotics_logo.png
        image_path:
          key: /report_writer/image_path
          value: $(rospack find report_writer)/resources/anymal_d_image.png
        play_icon_path:
          key: /report_writer/play_icon_path
          value: $(rospack find report_writer)/resources/play_icon.png
        stylesheet_path:
          key: /report_writer/stylesheet_path
          value: $(rospack find report_writer)/resources/default_stylesheet.xsl
      roslaunch:
        name: report_writer
        node_type: report_writer_node
        output: screen
        package: report_writer
        respawn: true
    rosapi:
      roslaunch:
        name: rosapi
        node_type: rosapi_node
        output: screen
        package: rosapi
        respawn: true
    rosbag_record_lpc:
      roslaunch:
        args: >
          record --split --duration=5m -o anymal_lpc -e
          /motion_control_manager/force_motion_execution/cancel
          /motion_control_manager/force_motion_execution/feedback
          /motion_control_manager/force_motion_execution/goal
          /motion_control_manager/force_motion_execution/result
          /motion_control_manager/go_to_motion_state/cancel
          /motion_control_manager/go_to_motion_state/feedback
          /motion_control_manager/go_to_motion_state/goal
          /motion_control_manager/go_to_motion_state/result
          /motion_control_manager/notify_active_controller
          /motion_control_manager/notify_control_unit_state
          /anymal_low_level_controller/current_active_state
          /anymal_low_level_controller/current_life_cycle_state
          /anymal_low_level_controller/actuator_readings_extended_throttled
          /cpu_monitor_lpc/status
          /diagnostics_agg
          /disk_monitor_lpc/status
          /inspection_payload/led_intensity
          /memory_monitor_lpc/status
          /network_monitor_lpc/status
          /pdb/battery_state
          /pdb/fan_control_state
          /pdb/ground_state
          /pdb/intrinsic_state
          /pdb/power_state
          /pdb/pin_state
          /pdb/module_state
          /rosout_agg_lite
          /state_estimator/anymal_state_throttle
          /state_estimator/contact_estimation/contactState_(.*)
          /state_estimator/contact_estimation/isSlipping_(.*)
          /motion_reference/command_twist
        name: anymal_lpc_logger
        node_type: record
        package: rosbag
    rosbag_record_npc:
      roslaunch:
        args: >
          record --split --duration=5m -o anymal_npc -e
          /behavior_engine/events 
          /behavior_engine/execute_mission/(.*)
          /behavior_engine/status
          /behavior_engine/supervision/(.*)
          /behavior_engine/user_interaction_mode
          /chrony_monitor_npc/status
          /cpu_monitor_npc/status
          /diagnostics
          /disk_monitor_npc/status
          /docking_port_localization_ros/node/apriltags
          /docking_port_localization_ros/node/bounding_box_image
          /docking_port_localization_ros/node/docking_port_pose
          /docking_port_localization_ros/node/input_image
          /docking_port_localization_ros/node/depth_sampling_area_image
          /elevation_mapping/status
          /interface_status
          /lidar/time_sync_status
          /memory_monitor_npc/status
          /operational_mode_manager/state_notification
          /operational_mode_manager/switch_operational_mode/(.*)
          /path_planning_and_following/path_planner/active
          /path_planning_and_following/path_planner/available
          /path_planning_and_following/path_follower/active
          /path_planning_and_following/default_path_follower/active
          /path_planning_and_following/default_path_follower/available
          /path_planning_and_following/global_plan
          /path_planning_and_following/global_waypoints_manager/waypoints
          /path_planning_and_following/initial_rotation_marker
          /path_planning_and_following/markers
          /path_planning_and_following/trajectory_poses
          /path_planning_and_following/global_plan
          /path_planning_and_following/initial_rotation_marker
          /path_planning_and_following/markers
          /path_planning_and_following/trajectory_poses
          /path_planning_and_following/navigate_to_goal/cancel
          /path_planning_and_following/navigate_to_goal/feedback
          /path_planning_and_following/navigate_to_goal/goal
          /path_planning_and_following/navigate_to_goal/result
          /path_planning_and_following/waypoints_planner/global_plan
          /path_planning_and_following/waypoints_planner/planner_waypoints
          /path_planning_and_following/twist
          /path_planning_and_following/costmap
          /path_planning_and_following/path_follower/status
          /network_monitor_npc/status
          /point_cloud_odometry/map_pose
          /point_cloud_odometry/node_state
          /point_cloud_odometry/pose
          /rqt_user_interaction/user_interaction/cancel
          /rqt_user_interaction/user_interaction/feedback
          /rqt_user_interaction/user_interaction/goal
          /rqt_user_interaction/user_interaction/result
          /slam/map_pose
          /slam/node_state
          /slam/pose
          /state_estimator/anymal_state_throttle
          /user_interaction_mode_manager/current_mode
          /user_interaction_mode_manager/switch_mode/(.*)
        name: anymal_npc_logger
        node_type: record
        package: rosbag
    rosbridge_websocket:
      roslaunch:
        name: rosbridge_websocket
        node_type: rosbridge_websocket
        output: screen
        package: rosbridge_server
        respawn: true
    rosout_transform:
      roslaunch:
        args: /rosout_agg /rosout_agg_lite rosgraph_msgs/Log 'rosgraph_msgs.msg.Log(header=m.header,level=m.level,name=m.name,msg=m.msg,file=m.file,function=m.function, line=m.line,topics=[])' --import rosgraph_msgs --queue-size-publisher 1000 --queue-size-subscriber 1000
        name: rosout_transform
        node_type: transform
        package: any_topic_tools
        respawn: true
    rqt_gui:  # We keep this legacy key for now, to make sure the preprocessed parameters from the environment data packages still function.
      preprocessed_params:
        rviz_display_config:
          key: /gui/rqt_rviz_widget/display_config
          value: $(rospack find anymal_d)/config/non_ros/user_interface/rviz/config.rviz
        state_machine_editor_default_path:
          key: /rqt_state_machine_editor/default_path
      roslaunch:
        name: gui
        node_type: anymal_gui_node
        output: screen
        package: anymal_gui
        respawn: true
        remap_args:
          tf:
            from: /tf
            to: /tf_opc
    rviz_image_floorplan:
        roslaunch:
          name: rviz_image_floorplan
          node_type: floorplan_publisher_ros_node
          package: rviz_image_floorplan
    rviz_world_loader:
      preprocessed_params:
        model_paths:
          key: /rviz_world_loader/model_paths
        world_file:
          key: /rviz_world_loader/world_file
      roslaunch:
        name: rviz_world_loader
        node_type: rviz_world_loader_node.py
        output: screen
        package: rviz_world_loader
    sensor_power_supervisor_depth_cameras:
      roslaunch:
        name: sensor_power_supervisor_depth_cameras
        node_type: sensor_power_supervisor_node
        output: screen
        package: sensor_power_supervisor
    sensor_power_supervisor_lidar:
      roslaunch:
        name: sensor_power_supervisor_lidar
        node_type: sensor_power_supervisor_node
        output: screen
        package: sensor_power_supervisor
    sensor_power_supervisor_wide_angle_cameras:
      roslaunch:
        name: sensor_power_supervisor_wide_angle_cameras
        node_type: sensor_power_supervisor_node
        output: screen
        package: sensor_power_supervisor
    service_info_logger_lpc:
      finite: true
      roslaunch:
        name: service_info_logger_lpc
        node_type: service_info_logger_node.py
        output: screen
        package: config_logger
        respawn: false
    service_info_logger_npc:
      finite: true
      roslaunch:
        name: service_info_logger_npc
        node_type: service_info_logger_node.py
        output: screen
        package: config_logger
        respawn: false
    signal_relay:
      roslaunch:
        name: signal_relay
        node_type: signal_relay_node
        output: screen
        package: signal_relay
    slam:
      preprocessed_params:
        config_files_folder:
          key: /slam/config_files_folder
          value: $(rospack find anymal_d)/config/non_ros/perception/slam
        mapping_load_map_on_launch_file:
          key: /slam/mapping/load_map_on_launch_file_path
      roslaunch:
        name: slam
        node_type: pharos_node
        output: screen
        package: pharos
    slam_map_loader:
      preprocessed_params:
        config_files_folder:
          key: /slam_map_loader/config_files_folder
          value: $(rospack find anymal_d)/config/non_ros/perception/slam
        mapping_load_map_on_launch_file:
          key: /slam_map_loader/mapping/load_map_on_launch_file_path
      roslaunch:
        name: slam_map_loader
        node_type: pharos_node
        output: screen
        package: pharos
    slam_maps_transformer:
      roslaunch:
        name: slam_maps_transformer
        node_type: slam_point_cloud_maps_editor_node
        output: screen
        package: slam_point_cloud_maps_editor
    slam_sim:
      roslaunch:
        name: slam
        node_type: simulated_localizer
        output: screen
        package: slam_simulation
    slam_supervisor:
      roslaunch:
        name: slam_supervisor
        node_type: slam_supervisor_ros_node
        output: screen
        package: slam_supervisor_ros
        respawn: false
    spawn_anymal:
      roslaunch:
        name: spawn_anymal
        node_type: spawn_model.py
        output: screen
        package: parameterized_spawn_model
    spawn_dodgeball:
      roslaunch:
        args: -param dodgeball_description -urdf -model dodgeball -x -3000.0 -y -3000.0 -z 0.2 -R 0.0 -P 0.0 -Y 0.0
        name: spawn_dodgeball
        node_type: spawn_model
        output: screen
        package: gazebo_ros
    state_estimator:
      preprocessed_params:
        parameter_path:
          key: /state_estimator/parameter_path
          value: $(rospack find anymal_d)/config/non_ros/perception/state_estimation
      roslaunch:
        cpuset: io_prio
        name: state_estimator
        node_type: anymal_state_estimator_tsif_node
        output: screen
        package: anymal_state_estimator_tsif
    system_info_logger_lpc:
      finite: true
      roslaunch:
        name: system_info_logger_lpc
        node_type: system_info_logger_node.py
        output: log
        package: config_logger
        respawn: false
    system_info_logger_npc:
      finite: true
      roslaunch:
        name: system_info_logger_npc
        node_type: system_info_logger_node.py
        output: log
        package: config_logger
        respawn: false
    system_info_logger_opc:
      finite: true
      roslaunch:
        name: system_info_logger_opc
        node_type: system_info_logger_node.py
        output: log
        package: config_logger
        respawn: false
    tf_opc_relay:
      roslaunch:
        args: /tf /tf_opc
        name: tf_opc_relay
        node_type: relay
        output: screen
        package: topic_tools
    user_interaction_mode_manager:
      roslaunch:
        name: user_interaction_mode_manager
        node_type: user_interaction_mode_manager_node
        output: screen
        package: user_interaction_mode_manager
        respawn: true
    user_interaction_relay:
      roslaunch:
        name: user_interaction_relay
        node_type: anymal_control_lease_relay_node
        output: screen
        package: anymal_control_lease_relay
        respawn: false
    waypoints_recording:
      roslaunch:
        name: waypoints_recording
        node_type: waypoints_recording_ros_node
        output: screen
        package: waypoints_recording_ros
    wide_angle_camera_front_image_crop_decimate:
      roslaunch:
        args: load image_proc/crop_decimate camera_nodelet_manager
        name: image_crop_decimate
        namespace: wide_angle_camera_front
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          input_camera_info:
            from: camera/camera_info
            to: camera_info
          input_image:
            from: camera/image_raw
            to: image_color
          output_camera_info:
            from: camera_out/camera_info
            to: image_color_small/camera_info
          output_image:
            from: camera_out/image_raw
            to: image_color_small/image_raw
    wide_angle_camera_front_driver:
      preprocessed_params:
        camera_info_url:
          key: /wide_angle_camera_front/spinnaker_camera_nodelet/camera_info_url
          value: 'file://$(rospack find anymal_${ANYMAL_NAME})/config/non_ros/wide_angle_camera_calibration/front.yaml'
      roslaunch:
        args: load any_spinnaker_camera_driver/SpinnakerCameraNodelet camera_nodelet_manager
        name: spinnaker_camera_nodelet
        namespace: wide_angle_camera_front
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          diagnostics:
            from: /diagnostics
            to: diagnostics
    wide_angle_camera_front_image_debayer:
      roslaunch:
        args: load image_proc/debayer camera_nodelet_manager
        name: image_proc_debayer
        namespace: wide_angle_camera_front
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    wide_angle_camera_front_image_rectifier:
      roslaunch:
        args: load image_rectify/image_rectify camera_nodelet_manager
        name: image_proc_rectify
        namespace: wide_angle_camera_front
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          image_mono:
            from: image_mono
            to: image_color
          image_rect:
            from: image_rect
            to: image_color_rect
    wide_angle_camera_front_nodelet_manager:
      roslaunch:
        args: manager
        cwd: node
        name: camera_nodelet_manager
        namespace: wide_angle_camera_front
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    wide_angle_camera_rear_image_crop_decimate:
      roslaunch:
        args: load image_proc/crop_decimate camera_nodelet_manager
        name: image_crop_decimate
        namespace: wide_angle_camera_rear
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          input_camera_info:
            from: camera/camera_info
            to: camera_info
          input_image:
            from: camera/image_raw
            to: image_color
          output_camera_info:
            from: camera_out/camera_info
            to: image_color_small/camera_info
          output_image:
            from: camera_out/image_raw
            to: image_color_small/image_raw
    wide_angle_camera_rear_driver:
      preprocessed_params:
        camera_info_url:
          key: /wide_angle_camera_rear/spinnaker_camera_nodelet/camera_info_url
          value: 'file://$(rospack find anymal_${ANYMAL_NAME})/config/non_ros/wide_angle_camera_calibration/rear.yaml'
      roslaunch:
        args: load any_spinnaker_camera_driver/SpinnakerCameraNodelet camera_nodelet_manager
        name: spinnaker_camera_nodelet
        namespace: wide_angle_camera_rear
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          diagnostics:
            from: /diagnostics
            to: diagnostics
    wide_angle_camera_rear_image_debayer:
      roslaunch:
        args: load image_proc/debayer camera_nodelet_manager
        name: image_proc_debayer
        namespace: wide_angle_camera_rear
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
    wide_angle_camera_rear_image_rectifier:
      roslaunch:
        args: load image_rectify/image_rectify camera_nodelet_manager
        name: image_proc_rectify
        namespace: wide_angle_camera_rear
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
        remap_args:
          image_mono:
            from: image_mono
            to: image_color
          image_rect:
            from: image_rect
            to: image_color_rect
    wide_angle_camera_rear_nodelet_manager:
      roslaunch:
        args: manager
        cwd: node
        name: camera_nodelet_manager
        namespace: wide_angle_camera_rear
        node_type: nodelet
        output: screen
        package: nodelet
        respawn: true
  stacks:
    inspection:
      stacks:
        {}
    locomotion:
      nodes:
        anymal_tf_publisher:
          enabled: true
          name: anymal_tf_publisher
        collision_filter:
          enabled: true
          name: collision_filter
        control_lease_registry:
          enabled: true
          name: control_lease_registry
        depth_camera_front_lower_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_front_lower_depth_image_to_point_cloud
        depth_camera_front_upper_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_front_upper_depth_image_to_point_cloud
        depth_camera_rear_lower_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_rear_lower_depth_image_to_point_cloud
        depth_camera_rear_upper_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_rear_upper_depth_image_to_point_cloud
        depth_camera_front_lower_plane_detector:
          enabled: true
          name: depth_camera_front_lower_plane_detector
        depth_camera_front_upper_plane_detector:
          enabled: true
          name: depth_camera_front_upper_plane_detector
        depth_camera_rear_lower_plane_detector:
          enabled: true
          name: depth_camera_rear_lower_plane_detector
        depth_camera_rear_upper_plane_detector:
          enabled: true
          name: depth_camera_rear_upper_plane_detector
        depth_camera_front_lower_point_cloud_self_filter:
          enabled: true
          name: depth_camera_front_lower_point_cloud_self_filter
        depth_camera_front_upper_point_cloud_self_filter:
          enabled: true
          name: depth_camera_front_upper_point_cloud_self_filter
        depth_camera_rear_lower_point_cloud_self_filter:
          enabled: true
          name: depth_camera_rear_lower_point_cloud_self_filter
        depth_camera_rear_upper_point_cloud_self_filter:
          enabled: true
          name: depth_camera_rear_upper_point_cloud_self_filter
        elevation_mapping:
          enabled: true
          name: elevation_mapping
        free_gait_action_loader:
          enabled: true
          name: free_gait_action_loader
        ghost_desired_tf_publisher:
          enabled: false
          name: ghost_desired_tf_publisher
        ghost_measured_tf_publisher:
          enabled: false
          name: ghost_measured_tf_publisher
        inspection_recording_manager_lpc:
          enabled: true
          name: inspection_recording_manager_lpc
        joy_manager:
          enabled: true
          name: joy_manager
        environment_loader:
          enabled: true
          name: environment_loader
        user_interaction_relay:
          enabled: true
          name: user_interaction_relay
    locomotion_cpu11:
      nodes:
        motion_control_manager:
          enabled: true
          name: motion_control_manager
    locomotion_cpu12:
      nodes:
        state_estimator:
          enabled: true
          name: state_estimator
    lpc:
      stacks:
        lpc_core:
          enabled: true
          name: lpc_core
        lpc_cpu11:
          enabled: true
          name: lpc_cpu11
        lpc_cpu12:
          enabled: true
          name: lpc_cpu12
    lpc_core:
      stacks:
        locomotion:
          enabled: true
          name: locomotion
        lpc_drivers:
          enabled: true
          name: lpc_drivers
        inspection_drivers:
          enabled: true
          name: inspection_drivers
        inspection:
          enabled: true
          name: inspection
    lpc_cpu11:
      stacks:
        locomotion_cpu11:
          enabled: true
          name: locomotion_cpu11
    lpc_cpu12:
      stacks:
        locomotion_cpu12:
          enabled: true
          name: locomotion_cpu12
        lpc_drivers_cpu12:
          enabled: true
          name: lpc_drivers_cpu12
    lpc_background:
      nodes:
        cpu_monitor:
          enabled: true
          name: cpu_monitor_lpc
        disk_monitor:
          enabled: true
          name: disk_monitor_lpc
        kernel_monitor:
          enabled: true
          name: kernel_monitor_lpc
        memory_monitor:
          enabled: true
          name: memory_monitor_lpc
        network_monitor:
          enabled: true
          name: network_monitor_lpc
        pdb_driver:
          enabled: true
          name: pdb_driver
        rosbag_record_lpc:
          enabled: true
          name: rosbag_record_lpc
        rosout_transform:
          enabled: true
          name: rosout_transform
        system_info_logger:
          enabled: true
          name: system_info_logger_lpc
        service_info_logger:
          enabled: true
          name: service_info_logger_lpc
    lpc_drivers:
      nodes:
        anymal_state_monitor:
          enabled: true
          name: anymal_state_monitor
        depth_camera_front_lower_driver:
          enabled: true
          name: depth_camera_front_lower_driver
        depth_camera_front_lower_nodelet_manager:
          enabled: true
          name: depth_camera_front_lower_nodelet_manager
        depth_camera_front_upper_driver:
          enabled: true
          name: depth_camera_front_upper_driver
        depth_camera_front_upper_nodelet_manager:
          enabled: true
          name: depth_camera_front_upper_nodelet_manager
        depth_camera_rear_lower_driver:
          enabled: true
          name: depth_camera_rear_lower_driver
        depth_camera_rear_lower_nodelet_manager:
          enabled: true
          name: depth_camera_rear_lower_nodelet_manager
        depth_camera_rear_upper_driver:
          enabled: true
          name: depth_camera_rear_upper_driver
        depth_camera_rear_upper_nodelet_manager:
          enabled: true
          name: depth_camera_rear_upper_nodelet_manager
    lpc_drivers_cpu12:
      nodes:
        anymal_low_level_controller:
          enabled: true
          name: anymal_low_level_controller
        epson_driver:
          enabled: true
          name: epson_driver
    inspection_drivers:
      stacks:
        {}
    navigation:
      nodes:
        anymal_state_relay:
          enabled: true
          name: anymal_state_relay
        behavior_engine:
          enabled: true
          name: behavior_engine
        depth_camera_left_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_left_depth_image_to_point_cloud
        depth_camera_right_depth_image_to_point_cloud:
          enabled: true
          name: depth_camera_right_depth_image_to_point_cloud
        depth_camera_left_plane_detector:
          enabled: true
          name: depth_camera_left_plane_detector
        depth_camera_right_plane_detector:
          enabled: true
          name: depth_camera_right_plane_detector
        depth_camera_left_point_cloud_self_filter:
          enabled: true
          name: depth_camera_left_point_cloud_self_filter
        depth_camera_right_point_cloud_self_filter:
          enabled: true
          name: depth_camera_right_point_cloud_self_filter
        dysfunction_state_publisher:
          enabled: true
          name: dysfunction_state_publisher
        environment_visualizer:
          enabled: true
          name: environment_visualizer
        inspection_recording_manager_npc:
          enabled: true
          name: inspection_recording_manager_npc
        localization_manager:
          enabled: true
          name: localization_manager
        monitor_network_llpc:
          enabled: true
          name: monitor_network_llpc
        near_field_mapping_preset_selector:
          enabled: false
          name: near_field_mapping_preset_selector
        operational_mode_manager:
          enabled: false
          name: operational_mode_manager
        path_planning_and_following:
          enabled: true
          name: path_planning_and_following
        notification_relay:
          enabled: true
          name: notification_relay
        point_cloud_filter:
          enabled: true
          name: point_cloud_filter
        point_cloud_odometry:
          enabled: true
          name: point_cloud_odometry
        report_relay:
          enabled: true
          name: report_relay
        report_writer:
          enabled: true
          name: report_writer
        rosapi: # Required for the Web GUI. We run it in the navigation stack a) to have it in sim and b) to not overload LPC.
          enabled: true
          name: rosapi
        rosbridge_websocket: # Required for the Web GUI. We run it in the navigation stack a) to have it in sim and b) to not overload LPC.
          enabled: true
          name: rosbridge_websocket
        sensor_power_supervisor_depth_cameras:
          enabled: true
          name: sensor_power_supervisor_depth_cameras
        sensor_power_supervisor_lidar:
          enabled: true
          name: sensor_power_supervisor_lidar
        sensor_power_supervisor_wide_angle_cameras:
          enabled: true
          name: sensor_power_supervisor_wide_angle_cameras
        signal_relay:
          enabled: true
          name: signal_relay
        slam:
          enabled: true
          name: slam
        slam_supervisor:
          enabled: true
          name: slam_supervisor
        user_interaction_mode_manager:
          enabled: false
          name: user_interaction_mode_manager
        waypoints_recording:
          enabled: true
          name: waypoints_recording
        wide_angle_camera_front_image_crop_decimate:
          name: wide_angle_camera_front_image_crop_decimate
          enabled: true
        wide_angle_camera_front_image_debayer:
          enabled: true
          name: wide_angle_camera_front_image_debayer
        wide_angle_camera_front_image_rectifier:
          enabled: true
          name: wide_angle_camera_front_image_rectifier
        wide_angle_camera_front_nodelet_manager:
          enabled: true
          name: wide_angle_camera_front_nodelet_manager
        wide_angle_camera_rear_image_crop_decimate:
          name: wide_angle_camera_rear_image_crop_decimate
          enabled: true
        wide_angle_camera_rear_image_debayer:
          enabled: true
          name: wide_angle_camera_rear_image_debayer
        wide_angle_camera_rear_image_rectifier:
          enabled: true
          name: wide_angle_camera_rear_image_rectifier
        wide_angle_camera_rear_nodelet_manager:
          enabled: true
          name: wide_angle_camera_rear_nodelet_manager
    npc:
      stacks:
        navigation:
          enabled: true
          name: navigation
        npc_drivers:
          enabled: true
          name: npc_drivers
    npc_background:
      nodes:
        chrony_monitor:
          enabled: true
          name: chrony_monitor_npc
        cpu_monitor:
          enabled: true
          name: cpu_monitor_npc
        disk_monitor:
          enabled: true
          name: disk_monitor_npc
        kernel_monitor:
          enabled: true
          name: kernel_monitor_npc
        memory_monitor:
          enabled: true
          name: memory_monitor_npc
        network_monitor:
          enabled: true
          name: network_monitor_npc
        rosbag_record_npc:
          enabled: true
          name: rosbag_record_npc
        system_info_logger:
          enabled: true
          name: system_info_logger_npc
        service_info_logger:
          enabled: true
          name: service_info_logger_npc
    npc_drivers:
      nodes:
        depth_camera_left_driver:
          enabled: true
          name: depth_camera_left_driver
        depth_camera_left_nodelet_manager:
          enabled: true
          name: depth_camera_left_nodelet_manager
        depth_camera_right_driver:
          enabled: true
          name: depth_camera_right_driver
        depth_camera_right_nodelet_manager:
          enabled: true
          name: depth_camera_right_nodelet_manager
        lidar_nodelet_manager:
          enabled: true
          name: lidar_nodelet_manager
        lidar_nodelet_cloud:
          enabled: true
          name: lidar_nodelet_cloud
        lidar_nodelet_driver:
          enabled: true
          name: lidar_nodelet_driver
        lidar_time_synchronizer:
          enabled: true
          name: lidar_time_synchronizer
        wide_angle_camera_front_driver:
          enabled: true
          name: wide_angle_camera_front_driver
        wide_angle_camera_rear_driver:
          enabled: true
          name: wide_angle_camera_rear_driver
    opc:
      stacks:
        opc_background:
          enabled: true
          name: opc_background
        user_interface:
          enabled: true
          name: user_interface
    opc_background:
      nodes:
        chrony_monitor:
          enabled: true
          name: chrony_monitor_opc
        network_monitor:
          enabled: true
          name: network_monitor_opc
        system_info_logger:
          enabled: true
          name: system_info_logger_opc
    post_process_config:
      nodes:
        load_anymal_description:
          enabled: true
          name: load_anymal_description
        load_dodgeball_description:
          enabled: false
          name: load_dodgeball_description
    sim:
      stacks:
        inspection:
          enabled: true
          name: inspection
        locomotion:
          enabled: true
          name: locomotion
        locomotion_cpu11:
          enabled: true
          name: locomotion_cpu11
        locomotion_cpu12:
          enabled: true
          name: locomotion_cpu12
        navigation:
          enabled: true
          name: navigation
        simulation_environment:
          enabled: true
          name: simulation_environment
        user_interface:
          enabled: true
          name: user_interface
    simulation_environment:
      nodes:
        add_noise_to_description:
          enabled: true
          name: add_noise_to_description
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_lower:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_lower
        depth_camera_infra1_info_topic_relay_sim_front_lower:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_front_lower
        depth_camera_infra1_topic_relay_sim_front_lower:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_front_lower
        depth_camera_infra1_compressed_topic_relay_sim_front_lower:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_front_lower
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_lower:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_lower
        depth_image_camera_info_relay_sim_front_lower:
          enabled: true
          name: depth_image_camera_info_relay_sim_front_lower
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_upper:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_front_upper
        depth_camera_infra1_info_topic_relay_sim_front_upper:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_front_upper
        depth_camera_infra1_topic_relay_sim_front_upper:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_front_upper
        depth_camera_infra1_compressed_topic_relay_sim_front_upper:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_front_upper
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_upper:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_front_upper
        depth_image_camera_info_relay_sim_front_upper:
          enabled: true
          name: depth_image_camera_info_relay_sim_front_upper
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_left:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_left
        depth_camera_infra1_info_topic_relay_sim_left:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_left
        depth_camera_infra1_topic_relay_sim_left:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_left
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_left:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_left
        depth_camera_infra1_compressed_topic_relay_sim_left:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_left
        depth_image_camera_info_relay_sim_left:
          enabled: true
          name: depth_image_camera_info_relay_sim_left
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_lower:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_lower
        depth_camera_infra1_info_topic_relay_sim_rear_lower:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_rear_lower
        depth_camera_infra1_topic_relay_sim_rear_lower:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_rear_lower
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_lower:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_lower
        depth_camera_infra1_compressed_topic_relay_sim_rear_lower:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_rear_lower
        depth_image_camera_info_relay_sim_rear_lower:
          enabled: true
          name: depth_image_camera_info_relay_sim_rear_lower
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_upper:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_rear_upper
        depth_camera_infra1_info_topic_relay_sim_rear_upper:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_rear_upper
        depth_camera_infra1_topic_relay_sim_rear_upper:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_rear_upper
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_upper:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_rear_upper
        depth_camera_infra1_compressed_topic_relay_sim_rear_upper:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_rear_upper
        depth_image_camera_info_relay_sim_rear_upper:
          enabled: true
          name: depth_image_camera_info_relay_sim_rear_upper
        depth_camera_depth_aligned_to_infra1_topic_relay_sim_right:
          enabled: true
          name: depth_camera_depth_aligned_to_infra1_topic_relay_sim_right
        depth_camera_infra1_info_topic_relay_sim_right:
          enabled: true
          name: depth_camera_infra1_info_topic_relay_sim_right
        depth_camera_infra1_topic_relay_sim_right:
          enabled: true
          name: depth_camera_infra1_topic_relay_sim_right
        depth_camera_depth_aligned_to_color_to_depth_relay_sim_right:
          enabled: true
          name: depth_camera_depth_aligned_to_color_to_depth_relay_sim_right
        depth_camera_infra1_compressed_topic_relay_sim_right:
          enabled: true
          name: depth_camera_infra1_compressed_topic_relay_sim_right
        depth_image_camera_info_relay_sim_right:
          enabled: true
          name: depth_image_camera_info_relay_sim_right
        depth_camera_front_lower_nodelet_manager:
          enabled: true
          name: depth_camera_front_lower_nodelet_manager
        depth_camera_front_upper_nodelet_manager:
          enabled: true
          name: depth_camera_front_upper_nodelet_manager
        depth_camera_left_nodelet_manager:
          enabled: true
          name: depth_camera_left_nodelet_manager
        depth_camera_rear_lower_nodelet_manager:
          enabled: true
          name: depth_camera_rear_lower_nodelet_manager
        depth_camera_rear_upper_nodelet_manager:
          enabled: true
          name: depth_camera_rear_upper_nodelet_manager
        depth_camera_right_nodelet_manager:
          enabled: true
          name: depth_camera_right_nodelet_manager
        dodgeball:
          enabled: true
          name: dodgeball
        emulate_llc_active_state:
          enabled: true
          name: emulate_llc_active_state
        emulate_llc_life_cycle_state:
          enabled: true
          name: emulate_llc_life_cycle_state
        emulate_lidar_status:
          enabled: true
          name: emulate_lidar_status
        gazebo:
          enabled: true
          name: gazebo
        gazebo_gui:
          enabled: false
          name: gazebo_gui
        pdb_sim:
          enabled: true
          name: pdb_sim
        point_cloud_odometry_sim:
          enabled: false
          name: point_cloud_odometry_sim
        slam_sim:
          enabled: false
          name: slam_sim
        spawn_anymal:
          enabled: true
          name: spawn_anymal
        spawn_dodgeball:
          enabled: true
          name: spawn_dodgeball
    user_interface:
      nodes:
        interaction_marker:
          enabled: true
          name: interaction_marker
        monitor_network_op:
          enabled: true
          name: monitor_network_op
        pharos_map_editor:
          enabled: true
          name: pharos_map_editor
        play_audio:
          enabled: true
          name: play_audio
        rqt_gui:
          enabled: true
          name: rqt_gui
        rviz_image_floorplan:
          enabled: true
          name: rviz_image_floorplan
        rviz_world_loader:
          enabled: true
          name: rviz_world_loader
        slam_maps_transformer:
          enabled: true
          name: slam_maps_transformer
        tf_opc_relay:
          enabled: true
          name: tf_opc_relay
stair_climbing:
  enable_gui: true
  parameters_file_path: ""
  staircase_description_folder_path: ""
state_estimator:
  ImuKinAnymalOdometryTsif:
    filter:
      max_iter: 1
      th_iter: 1.0e-09
    residuals:
      angular_velocity_update:
        huber_threshold: 0.92
        print_diagnostics: false
        w: 30000.0
      attitude_prediction:
        w: 500.0
      imu_angular_velocity_bias_prediction:
        w: 1000.0
      imu_linear_acceleration_bias_prediction:
        w: 50000.0
      landmark_prediction:
        w_false: 0.0001
        w_true: 500.0
      landmark_update:
        huber_threshold: 0.8
        print_diagnostics: false
        w: 50.0
      linear_velocity_prediction:
        huber_threshold: 0.144
        print_diagnostics: false
        w: 35.0
      position_prediction:
        w: 1000.0
    states:
      B_b_f:
        information: 5000.0
      B_b_omega:
        information: 100.0
      B_omega_IB:
        information: 100.0
      B_v_IM:
        information: 100.0
      I_p_i:
        information: 1000.0
      I_r_IB:
        information: 1000.0
      Phi_IB:
        information: 1000.0
    timelines:
      max_wait_time: 0.1
  base_frame_id: base
  contact_detector_lf_foot:
    lower_kfe_threshold: -3.5
    method_force: zonly
    method_torque: norm
    threshold_force:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_force_norm: 20.0
    threshold_torque:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_torque_norm: 40.0
    upper_kfe_threshold: 3.5
    upper_threshold_force:
      x: 500.0
      y: 500.0
      z: 500.0
    upper_threshold_torque:
      x: 500.0
      y: 500.0
      z: 500.0
    use_kfe_detection: false
  contact_detector_lh_foot:
    lower_kfe_threshold: -3.5
    method_force: zonly
    method_torque: norm
    threshold_force:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_force_norm: 20.0
    threshold_torque:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_torque_norm: 40.0
    upper_kfe_threshold: 3.5
    upper_threshold_force:
      x: 500.0
      y: 500.0
      z: 500.0
    upper_threshold_torque:
      x: 500.0
      y: 500.0
      z: 500.0
    use_kfe_detection: false
  contact_detector_rf_foot:
    lower_kfe_threshold: -3.5
    method_force: zonly
    method_torque: norm
    threshold_force:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_force_norm: 20.0
    threshold_torque:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_torque_norm: 40.0
    upper_kfe_threshold: 3.5
    upper_threshold_force:
      x: 500.0
      y: 500.0
      z: 500.0
    upper_threshold_torque:
      x: 500.0
      y: 500.0
      z: 500.0
    use_kfe_detection: false
  contact_detector_rh_foot:
    lower_kfe_threshold: -3.5
    method_force: zonly
    method_torque: norm
    threshold_force:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_force_norm: 20.0
    threshold_torque:
      x: 40.0
      y: 40.0
      z: 40.0
    threshold_torque_norm: 40.0
    upper_kfe_threshold: 3.5
    upper_threshold_force:
      x: 500.0
      y: 500.0
      z: 500.0
    upper_threshold_torque:
      x: 500.0
      y: 500.0
      z: 500.0
    use_kfe_detection: false
  contact_filter_coefficient_init: 100
  contact_force_lf_foot:
    use_estimated_force: true
  contact_force_lh_foot:
    use_estimated_force: true
  contact_force_rf_foot:
    use_estimated_force: true
  contact_force_rh_foot:
    use_estimated_force: true
  contact_zvu_iteration_threshold: 300
  force_calibrator_lf_foot:
    filter:
      alpha:
        force: 1.0
        torque: 1.0
    outlier_detector:
      lower_threshold:
        force: -1000.0
      max_mahalanobis_distance:
        force: 20.0
        torque: 1000000000000000.0
      upper_threshold:
        force: 1000.0
      variance:
        force:
          x: 200.0
          y: 200.0
          z: 200.0
        torque:
          x: 1.0
          y: 1.0
          z: 1.0
    use_force_calibrator: false
  force_calibrator_lh_foot:
    filter:
      alpha:
        force: 1.0
        torque: 1.0
    outlier_detector:
      lower_threshold:
        force: -1000.0
      max_mahalanobis_distance:
        force: 20.0
        torque: 1000000000000000.0
      upper_threshold:
        force: 1000.0
      variance:
        force:
          x: 200.0
          y: 200.0
          z: 200.0
        torque:
          x: 1.0
          y: 1.0
          z: 1.0
    use_force_calibrator: false
  force_calibrator_rf_foot:
    filter:
      alpha:
        force: 1.0
        torque: 1.0
    outlier_detector:
      lower_threshold:
        force: -1000.0
      max_mahalanobis_distance:
        force: 20.0
        torque: 1000000000000000.0
      upper_threshold:
        force: 1000.0
      variance:
        force:
          x: 200.0
          y: 200.0
          z: 200.0
        torque:
          x: 1.0
          y: 1.0
          z: 1.0
    use_force_calibrator: false
  force_calibrator_rh_foot:
    filter:
      alpha:
        force: 1.0
        torque: 1.0
    outlier_detector:
      lower_threshold:
        force: -1000.0
      max_mahalanobis_distance:
        force: 20.0
        torque: 1000000000000000.0
      upper_threshold:
        force: 1000.0
      variance:
        force:
          x: 200.0
          y: 200.0
          z: 200.0
        torque:
          x: 1.0
          y: 1.0
          z: 1.0
    use_force_calibrator: false
  imu_frame_id: imu_link
  initialization_duration: 2.0
  logger_prefix: /state_estimator
  no_contact_zvu_iteration_threshold: 1
  notification:
    notifiers:
      default:
        latch: false
        output_devices:
          - onboard_screen
          - onboard_audio
          - joystick_screen
          - operator_screen
        queue_size: 100
        topic: /notification
  odom_frame_id: odom
  parameter_path: ""
  probabilistic_contact_estimation:
    compare_with_thresholding_contact_detector: false
    enable: true
    height_layer_name: elevation_filled
    logging: true
    sub_map_topic_name: /elevation_map_processing/sub_map
    use_perception: false
  publish_ros_odometry_message: true
  publish_zero_velocity_updates_message: true
  publishers:
    actuator_readings:
      latch: false
      queue_size: 10
      topic: /state_estimator/actuator_readings
    contact_force_lf_foot:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_lf_foot
    contact_force_lh_foot:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_lh_foot
    contact_force_rf_foot:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_rf_foot
    contact_force_rh_foot:
      latch: false
      queue_size: 10
      topic: /state_estimator/contact_force_rh_foot
    disable_change_notification:
      latch: false
      queue_size: 1
      topic: /state_estimator/disable_change_notification
    enable_change_notification:
      latch: false
      queue_size: 1
      topic: /state_estimator/enable_change_notification
    force_calibrator_commands:
      latch: false
      queue_size: 10
      topic: /state_estimator/force_calibrator_commands
    imu:
      latch: false
      queue_size: 10
      topic: /state_estimator/imu
    imu_angular_velocity_bias:
      latch: false
      queue_size: 10
      topic: /state_estimator/imu_angular_velocity_bias
    imu_linear_acceleration_bias:
      latch: false
      queue_size: 10
      topic: /state_estimator/imu_linear_acceleration_bias
    imu_throttle:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/imu_throttle
    init_change_notification:
      latch: false
      queue_size: 1
      topic: /state_estimator/init_change_notification
    joint_state:
      latch: false
      queue_size: 10
      topic: /state_estimator/joint_states
    joint_state_throttle:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/joint_states_throttle
    odometry:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/odometry
    pose_in_odom:
      latch: false
      queue_size: 10
      topic: /state_estimator/pose_in_odom
    pose_in_odom_throttle:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/pose_in_odom_throttle
    reset_notification:
      latch: false
      queue_size: 1
      topic: /state_estimator/reset_notification
    robot_state:
      latch: false
      queue_size: 10
      topic: /state_estimator/anymal_state
    robot_state_throttle:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/anymal_state_throttle
    twist:
      latch: false
      queue_size: 10
      topic: /state_estimator/twist
    twist_throttle:
      decimation: 20
      latch: false
      queue_size: 1
      topic: /state_estimator/twist_throttle
    zero_velocity_update_notification:
      latch: false
      queue_size: 1
      topic: /state_estimator/zero_velocity_update_notification
  save_silo_to_disk_duration_criteria_ms: 80.0
  sensor_timeout: 0.1
  servers:
    calibrate_forces:
      persistent: false
      service: calibrate_forces
    command_force_calib:
      persistent: false
      service: command_force_calib
    configure_force_calib:
      persistent: false
      service: configure_force_calib
    reset:
      persistent: false
      service: reset
    reset_here:
      persistent: false
      service: reset_here
    reset_map_to_odom_transformation:
      persistent: false
      service: reset_map_to_odom_transformation
    toggle_pose_measurements:
      persistent: false
      service: toggle_pose_measurements
    toggle_zero_velocity_updates:
      persistent: false
      service: toggle_zero_velocity_updates
  simulation: false
  standalone: false
  subscribers:
    actuator_readings:
      latch: false
      queue_size: 10
      topic: /anymal_low_level_controller/actuator_readings
    contact_force_lf_foot:
      latch: false
      queue_size: 100
      topic: /sensors/contact_force_lf_foot
    contact_force_lh_foot:
      latch: false
      queue_size: 100
      topic: /sensors/contact_force_lh_foot
    contact_force_rf_foot:
      latch: false
      queue_size: 100
      topic: /sensors/contact_force_rf_foot
    contact_force_rh_foot:
      latch: false
      queue_size: 100
      topic: /sensors/contact_force_rh_foot
    force_calibrator_commands:
      latch: false
      queue_size: 1
      topic: /motion_control_manager/force_calibrator_commands
    imu:
      latch: false
      queue_size: 100
      topic: /sensors/imu
  sync_master_name: anymal_controller_sync
  sync_slave_name: anymal_sync
  time_step: 0.0025
  tsif:
    accelerometer_bias_estimation_contact_count_threshold: 4
    angular_variance_threshold: 0.00007
    contact_timeout: 0.5
    gyro_bias_estimation_contact_count_threshold: 4
    n_init_imu_measurements: 200
    n_throwaway_init_imu_measurements: 50
    print_diagnostics: false
    sensor_readings_timeout: 0.1
    velocity_check_history_size: 200
    zero_velocity_timeout: 2.0
  use_measured_accelerations: true
system_behavior_plugins:
  check_or_supervise_battery:
    topic: /pdb/battery_state_ros
  check_or_supervise_charging:
    topic: /pdb/pin_state
  check_or_supervise_communication:
    topic: /monitor_network_state_llpc
  check_or_supervise_dysfunction:
    topic: /dysfunction/state
  check_or_supervise_llc_state:
    topic: /anymal_low_level_controller/current_active_state
  check_or_supervise_lidar:
    topic: /lidar/interface_status
  check_or_supervise_operational_mode:
    topic: /operational_mode_manager/state_notification
  check_or_supervise_user_interaction_mode:
    topic: /user_interaction_mode_manager/current_mode
  enable_lidar:
    service: /lidar/enable
  enable_depth_cameras:
    service: /depth_cameras/enable
  enable_wide_angle_cameras:
    service: /wide_angle_cameras/enable
  sensors_power_management: true
  set_actuator_power:
    powerline_service: /pdb_driver/set_power_line
  shut_down:
    switch_controller:
      request: freeze
      service: /motion_control_manager/switch_controller
  start_up:
    lowlevel_controller_go_to_state:
      request: StateOperational
      service: /anymal_low_level_controller/go_to_active_state
    simulation: false
  set_light:
    service: /pdb_driver/set_status_light
  status_light_configuration:
    color_palette:
      blue:
        r: 0
        g: 255
        b: 255
      white:
        r: 200
        g: 200
        b: 200
      red:
        r: 255
        g: 0
        b: 0
      green:
        r: 0
        g: 255
        b: 0
      amber:
        r: 255
        g: 191
        b: 0
      magenta:
        r: 255
        g: 0
        b: 255
      turquoise:
        r: 0
        g: 255
        b: 50
    animations:
      blinking:
        mode: 2
        mode_frequency: 0.0
        intensity: 1.0
      pulsing:
        mode: 1
        mode_frequency: 2.0
        intensity: 1.0
      slow_pulsing:
        mode: 1
        mode_frequency: 0.6
        intensity: 1.0
      solid:
        mode: 0
        mode_frequency: 0.0
        intensity: 1.0
    patterns:
      BA:
        animation: blinking
        color: amber
      BB:
        animation: blinking
        color: blue
      BR:
        animation: blinking
        color: red
      BW:
        animation: blinking
        color: white
      PA:
        animation: pulsing
        color: amber
      PG:
        animation: pulsing
        color: green
      PW:
        animation: pulsing
        color: white
      sPG:
        animation: slow_pulsing
        color: green
      sPW:
        animation: slow_pulsing
        color: white
      SA:
        animation: solid
        color: amber
      SG:
        animation: solid
        color: green
      SW:
        animation: pulsing
        color: white
    situations:
      actuators_booting: BW
      autonomous: PG
      docking_failure: PA
      docking: sPG
      error: BR
      estop_engaged: SA
      ex_check_failed: PA
      go_to_rest: PW
      go_to_stand: PW
      go_to_walk: PW
      hardware_error: BR
      hardware_warning: BA
      idle: SG
      pstop_engaged: SA
      sleep: sPG
      undocking: PW
      waiting: SG
system_info_logger:
  oneshot: True
  logfile_path: "~/.ros/log/system/"
  logfile_name: "system-info-log"
trekker:
  modes_to_load: [ 'walk', 'run', 'perceptive_walk', 'stair_climbing' ]
  modes:
    perceptive_walk:
      policy: '2021_12_17_12_40_31_1050_075.pb'
      elevation_map_nan_behavior: 'plane_approximation'
    run:
      policy: '2021-05-28-16-53-23_300_with_constants.pb'
      elevation_map_nan_behavior: 'plane_approximation'
    stair_climbing:
      policy: '2021_07_20_13_18_30_280.pb'
      elevation_map_nan_behavior: 'negative_infinity'
    walk:
      policy: '2021-05-26-11-42-52_1000.pb'
      elevation_map_nan_behavior: 'plane_approximation'
use_sim_time: false
user_interaction_behavior_plugins:
  ask_operator:
    actionserver: /rqt_user_interaction/user_interaction
user_interaction_mode_manager:
  clients:
    relay_communication:
      service: /user_interaction_mode/relay_communication
  communication_relay_profiles:
    autonomous: &communication_relay_profile_autonomous
      actions:
        control_mission_execution:
          enabled: true
          destination: /behavior_engine/execute_mission/control_mission_execution
          source: /gui/behavior_engine/execute_mission/control_mission_execution
        switch_operational_mode:
          enabled: false
          destination: /operational_mode_manager/switch_operational_mode
          source: /behavior_engine/operational_mode_manager/switch_operational_mode
        switch_operational_mode_from_environment_visualizer:
          enabled: false
          destination: /operational_mode_manager/switch_operational_mode
          source: /environment_visualizer/operational_mode_manager/switch_operational_mode
        switch_operational_mode_from_gui:
          enabled: false
          destination: /operational_mode_manager/switch_operational_mode
          source: /gui/operational_mode_manager/switch_operational_mode
      topics:
        collision_reaction_status:
          enabled: true
          destination: /collision_reaction_status
          source: /path_planning_and_following/path_follower/status
          wait_for_subscribers: false
        twist_command:
          enabled: true
          destination: /motion_reference/command_twist
          source: /path_planning_and_following/twist
          wait_for_subscribers: false
    autonomous_emergency:
      <<: *communication_relay_profile_autonomous
    direct_control:
      actions:
        force_motion_execution:
          enabled: true
          destination: /motion_control_manager/force_motion_execution
          source: /gui/motion_control_manager/force_motion_execution
        go_to_motion_state:
          enabled: true
          destination: /motion_control_manager/go_to_motion_state
          source: /gui/motion_control_manager/go_to_motion_state
        switch_operational_mode:
          enabled: false
          destination: /operational_mode_manager/switch_operational_mode
          source: /gui/operational_mode_manager/switch_operational_mode
      services:
        clear_initial_guess:
          enabled: true
          destination: /slam/clear_initial_guess
          source: /gui/slam/clear_initial_guess
        create_environment:
          enabled: true
          destination: /environment_loader/create_environment
          source: /gui/environment_loader/create_environment
        enable_global_replanning:
          enabled: true
          destination: /path_planning_and_following/global_replanning/enable
          source: /gui/path_planning_and_following/global_replanning/enable
        load_environment:
          enabled: true
          destination: /environment_loader/load_environment
          source: /gui/environment_loader/load_environment
        load_map:
          enabled: true
          destination: /slam/load_map_from_file
          source: /gui/slam/load_map_from_file
        go_to_low_level_controller_life_cycle_state:
          enabled: true
          destination: /anymal_low_level_controller/go_to_life_cycle_state
          source: /gui/anymal_low_level_controller/go_to_life_cycle_state
        override_local_planner:
          enabled: true
          destination: /path_planning_and_following/path_follower/override
          source: /gui/path_planning_and_following/path_follower/override
        reload_waypoints:
          enabled: true
          destination: /path_planning_and_following/global_waypoints_manager/reload_waypoints
          source: /gui/path_planning_and_following/global_waypoints_manager/reload_waypoints
        reset_slam:
          enabled: true
          destination: /slam/reset
          source: /gui/slam/reset
        reset_slam_connector:
          enabled: true
          destination: /localization_manager/slam_connector/reset
          source: /gui/localization_manager/slam_connector/reset
        reset_slam_supervisor:
          enabled: true
          destination: /slam_supervisor/reset
          source: /gui/slam_supervisor/reset
        save_map:
          enabled: true
          destination: /slam/save_map_to_file
          source: /gui/slam/save_map_to_file
        set_current_motion_state:
          enabled: true
          destination: /motion_control_manager/set_current_motion_state
          source: /gui/motion_control_manager/set_current_motion_state
        set_current_motion_parameters:
          enabled: true
          destination: /motion_control_manager/set_current_motion_parameters
          source: /gui/motion_control_manager/set_current_motion_parameters
        set_default_environment:
          enabled: true
          destination: /environment_loader/set_default_environment
          source: /gui/environment_loader/set_default_environment
        set_fan_speed:
          enabled: true
          destination: /pdb_driver/set_fan_speed
          source: /gui/pdb_driver/set_fan_speed
        set_initial_guess_method:
          enabled: true
          destination: /slam/set_initial_guess_method
          source: /gui/slam/set_initial_guess_method
        set_power_line:
          enabled: true
          destination: /pdb_driver/set_power_line
          source: /gui/pdb_driver/set_power_line
        set_status_light:
          enabled: true
          destination: /pdb_driver/set_status_light
          source: /gui/pdb_driver/set_status_light
        switch_collision_filter_mode:
          enabled: true
          destination: /collision_filter/switch_mode
          source: /gui/collision_filter/switch_mode
        switch_default_local_planner:
          enabled: true
          destination: /path_planning_and_following/default_path_follower/switch
          source: /gui/path_planning_and_following/default_path_follower/switch
        switch_global_planner:
          enabled: true
          destination: /path_planning_and_following/path_planner/switch
          source: /gui/path_planning_and_following/path_planner/switch
        switch_low_level_controller_state:
          enabled: true
          destination: /anymal_low_level_controller/go_to_active_state
          source: /gui/anymal_low_level_controller/go_to_active_state
        toggle_localization:
          enabled: true
          destination: /slam/toggle_localization
          source: /gui/slam/toggle_localization
        toggle_loop_detection:
          enabled: true
          destination: /slam/toggle_loop_detection
          source: /gui/slam/toggle_loop_detection
        toggle_mapping:
          enabled: true
          destination: /slam/toggle_mapping
          source: /gui/slam/toggle_mapping
      topics:
        anyjoy:
          enabled: true
          destination: /anyjoy/operator
          source: /anyjoy/rqt
          wait_for_subscribers: false
        cancel_navigate_to_goal:
          enabled: true
          destination: /path_planning_and_following/navigate_to_goal/cancel
          source: /gui/path_planning_and_following/navigate_to_goal/cancel
        cancel_plan_path:
          enabled: true
          destination: /path_planning_and_following/plan_path/cancel
          source: /gui/path_planning_and_following/plan_path/cancel
        collision_reaction_status: &collision_reaction_status
          enabled: true
          destination: /collision_reaction_status
          source: /collision_filter/status
          wait_for_subscribers: false
        localization_initial_guess:
          enabled: true
          destination: /interaction_marker/localization_initial_guess
          source: /gui/interaction_marker/localization_initial_guess
          wait_for_subscribers: true
        pose_command: &pose_command
          enabled: true
          destination: /motion_reference/command_pose
          source: /joy_manager/pose
          wait_for_subscribers: false
        twist_command: &twist_command
          enabled: true
          destination: /motion_reference/command_twist
          source: /collision_filter/twist
          wait_for_subscribers: false
    direct_control_rcu:
      actions:
        force_motion_execution:
          enabled: true
          destination: /motion_control_manager/force_motion_execution
          source: /rcu/motion_control_manager/force_motion_execution
        go_to_motion_state:
          enabled: true
          destination: /motion_control_manager/go_to_motion_state
          source: /rcu/motion_control_manager/go_to_motion_state
        switch_operational_mode:
          enabled: false
          destination: /operational_mode_manager/switch_operational_mode
          source: /rcu/operational_mode_manager/switch_operational_mode
      services:
        switch_collision_filter_mode:
          enabled: true
          destination: /collision_filter/switch_mode
          source: /rcu/collision_filter/switch_mode
        switch_default_local_planner:
          enabled: true
          destination: /path_planning_and_following/default_path_follower/switch
          source: /rcu/path_planning_and_following/default_path_follower/switch
        switch_low_level_controller_state:
          enabled: true
          destination: /anymal_low_level_controller/go_to_active_state
          source: /rcu/anymal_low_level_controller/go_to_active_state
      topics:
        anyjoy:
          enabled: true
          destination: /anyjoy/operator
          source: /anyjoy/rcu
          wait_for_subscribers: false
        collision_reaction_status: *collision_reaction_status
        pose_command: *pose_command
        twist_command: *twist_command
  execute_mission:
    <<: *user_interaction_mode_manager_execute_mission_controller
  publishers:
    current_mode:
      topic: current_mode
  servers:
    switch_mode:
      action: switch_mode
  wait_for_communication_relay_server_timeout: 30.0 # Big value to deal with software startup scenario.
user_interaction_relay:
  ignore_failed_relays: True
  servers:
    relay_communication:
      persistent: false
      service: /user_interaction_mode/relay_communication
    list_relays:
      persistent: false
      service: /user_interaction_mode/list_relays
waypoints_editor:
  non_moving_threshold: 0.01
  non_rotating_threshold: 0.01
  default_path: ''
  default_frame: map
  new_node_z_offset: 0.5
  publishers:
      node_clicked:
        topic: /path_planning_and_following/waypoints_tool/node_clicked
        queue_size: 1
        latch: false
      node_dragged:
        topic: /path_planning_and_following/waypoints_tool/node_dragged
        queue_size: 1
        latch: false
      nodes_connected:
        topic: /path_planning_and_following/waypoints_tool/nodes_connected
        queue_size: 1
        latch: false
      edge_clicked:
        topic: /path_planning_and_following/waypoints_tool/edge_clicked
        queue_size: 1
        latch: false
      empty_clicked:
        topic: /path_planning_and_following/waypoints_tool/empty_clicked
        queue_size: 1
        latch: false
      updated_waypoints:
        topic: /path_planning_and_following/waypoints_tool/updated_waypoints
        queue_size: 1
        latch: false
  subscribers:
    available_motion_states:
      queue_size: 1
      topic: /motion_control_manager/available_motion_states
    tool_node_clicked:
      queue_size: 1
      topic: /path_planning_and_following/waypoints_tool/node_clicked
    tool_node_dragged:
      queue_size: 1
      topic: /path_planning_and_following/waypoints_tool/node_dragged
    tool_nodes_connected:
      queue_size: 1
      topic: /path_planning_and_following/waypoints_tool/nodes_connected
    tool_edge_clicked:
      queue_size: 1
      topic: /path_planning_and_following/waypoints_tool/edge_clicked
    tool_empty_clicked:
      queue_size: 1
      topic: /path_planning_and_following/waypoints_tool/empty_clicked
    waypoints:
      queue_size: 1
      topic: /path_planning_and_following/global_waypoints_manager/waypoints
waypoints_recording:
  robot_frame: base
  always_add_return_edges: true

  subscribers:
    localization:
      topic: /slam/pose
      queue_size: 1

  publishers:
    updated_pose_graph:
      topic: /waypoints_recording/waypoints
      queue_size: 1
      latch: false

  servers:
    check_temporary_storage:
      service: check_temporary_storage
    clear_values:
      service: clear_waypoints
    get_waypoints:
      service: get_waypoints
    load_temporary_storage:
      service: load_temporary_storage
    open_waypoints:
      service: open_waypoints
    save_waypoints:
      service: save_waypoints
    clear_waypoints:
      service: clear_waypoints
    set_recording:
      service: set_recording

  waypoints_manager:
    name: waypoints_manager
    publishers:
      waypoints:
        topic: waypoints_recorder_waypoints_publisher
        latch: false
        queue_size: 1
    subscribers:
      updated_waypoints:
        topic: waypoints_recorder_updated_waypoints
        queue_size: 1
    servers:
      reload_waypoints:
        service: waypoints_recorder_reload_waypoints

  heuristic_plugins:
    1_force_add_waypoint:
      type: 'waypoints_recording_ros::ForceAddHeuristicRos'
      parameters:
        trigger:
          service: trigger_add_waypoint
    2_motion_state_heuristic:
      type: 'waypoints_recording_ros::MotionStateHeuristicRos'
      parameters:
        default_rotational_tolerance: 0.0 # ignore
        default_translational_tolerance: 0.0 #ignore
        motion_state:
          topic: '/motion_control_manager/current_motion_state'
          queue_size: 1
        supported_motion_states:
          - name: crawl
            force_mode: blind
          - name: run
            force_mode: blind
          - name: stair_climbing
            rotational_tolerance: 0.34
            translational_tolerance: 0.2
            force_mode: blind
          - name: walk
    3_local_planner_heuristic:
      type: 'waypoints_recording_ros::LocalPlannerHeuristicRos'
      parameters:
        switch_local_planner:
          service: switch_local_planner
        default_local_planner:
          name: strict_path_follower
          mode: stop_and_go
    4_linear_distance_heuristic:
      type: 'waypoints_recording::LinearDistanceHeuristic'
      parameters:
        linear_distance_threshold: 1.0
    5_angular_distance_heuristic:
      type: 'waypoints_recording::AngularDistanceHeuristic'
      parameters:
        pitch_distance_threshold: 0.79
        yaw_distance_threshold: 1.57
wide_angle_camera_front: &wide_angle_camera_configuration
  image_color: &wide_angle_camera_image_stream_configuration
    compressed:
      format: jpeg
      jpeg_quality: 80
      png_level: 9
    compressedDepth:
      depth_max: 10.0
      depth_quantization: 100.0
      png_level: 9
    theora:
      keyframe_frequency: 64
      optimize_for: 1
      quality: 31
      target_bitrate: 800000
  image_color_rect: *wide_angle_camera_image_stream_configuration
  image_crop_decimate:
    decimation_x: 4
    decimation_y: 4
  image_mono: *wide_angle_camera_image_stream_configuration
  image_proc_debayer:
    debayer: 0
  image_raw: *wide_angle_camera_image_stream_configuration
  image_rectify:
    interpolation: 1
  spinnaker_camera_nodelet: &spinnaker_camera_nodelet_configuration
    acquisition_frame_rate: 30.0
    acquisition_frame_rate_enable: false
    auto_exposure_time_upper_limit: 39700.0
    auto_gain: Continuous
    auto_sharpness: true
    auto_white_balance: Continuous
    brightness: 1.7
    camera_info_url: ""
    enable_trigger: "On"
    exposure_auto: Continuous
    exposure_mode: Timed
    exposure_time: 4000.0
    frame_id: wide_angle_camera_front_camera_parent
    gain: 0.0
    gain_selector: All
    gamma: 0.81
    gamma_enable: true
    image_format_color_coding: BayerRG8
    image_format_roi_height: 0
    image_format_roi_width: 0
    image_format_x_binning: 1
    image_format_x_decimation: 1
    image_format_x_offset: 0
    image_format_y_binning: 1
    image_format_y_decimation: 1
    image_format_y_offset: 0
    line_mode: Input
    line_selector: Line0
    line_source: Off
    reverse_x: false
    reverse_y: false
    saturation: 100.0
    saturation_enable: false
    serial: 0
    sharpening_enable: false
    sharpening_threshold: 0.1
    sharpness: 1024.0
    trigger_activation_mode: RisingEdge
    trigger_overlap_mode: ReadOut
    trigger_selector: FrameStart
    trigger_source: Line2
    white_balance_blue_ratio: 800.0
    white_balance_red_ratio: 550.0
wide_angle_camera_rear:
  <<: *wide_angle_camera_configuration
  spinnaker_camera_nodelet:
    <<: *spinnaker_camera_nodelet_configuration
    frame_id: wide_angle_camera_rear_camera_parent
